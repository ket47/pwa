"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[373],{373:function(e,l,o){o.r(l),o.d(l,{default:function(){return V}});var n=o(6252),a=o(9963);const s={novalidate:""},t=(0,n.Uk)("Код"),d=(0,n.Uk)("+7"),i=(0,n.Uk)("Телефон"),u={"padding-left":""},r=(0,n.Uk)("Пароль (Минимум 6 символов)"),p={"padding-left":""},f=(0,n.Uk)("Имя пользователя"),m={"padding-left":""},h=(0,n.Uk)("Зарегистрироваться"),c=(0,n.Uk)("Уже есть учетная запись?");function w(e,l,o,w,g,_){const k=(0,n.up)("ion-label"),y=(0,n.up)("ion-select-option"),W=(0,n.up)("ion-select"),v=(0,n.up)("ion-col"),V=(0,n.up)("ion-input"),b=(0,n.up)("ion-row"),B=(0,n.up)("ion-item"),U=(0,n.up)("ion-text"),I=(0,n.up)("ion-list"),x=(0,n.up)("ion-button"),C=(0,n.up)("router-link"),M=(0,n.up)("base-layout");return(0,n.wg)(),(0,n.j4)(M,{"page-title":"Зарегистрироваться","page-default-back-link":"/home",errorMessage:g.error},{default:(0,n.w5)((()=>[(0,n._)("form",s,[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Wm)(B,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,{position:"stacked",color:"primary"},{default:(0,n.w5)((()=>[t])),_:1}),(0,n.Wm)(W,{value:g.fields.phonePrefix,onIonChange:l[0]||(l[0]=e=>g.fields.phonePrefix=e.target.value)},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{value:"+7"},{default:(0,n.w5)((()=>[d])),_:1})])),_:1},8,["value"])])),_:1}),(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,{position:"stacked",color:"primary"},{default:(0,n.w5)((()=>[i])),_:1}),(0,n.Wm)(V,{modelValue:g.fields.phoneBody,"onUpdate:modelValue":l[1]||(l[1]=e=>g.fields.phoneBody=e),name:"phone",type:"numeric",inputmode:"tel",value:g.fields.phoneBody,onInput:l[2]||(l[2]=e=>{e.target.value=_.phoneValidate(e)}),placeholder:"(978)-000-00-00",spellcheck:"false",autocapitalize:"off",required:""},null,8,["modelValue","value"])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(U,{color:"danger"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("p",u,"Неверный номер телефона",512),[[a.F8,!_.phoneValid&&1==g.submitted]])])),_:1}),(0,n.Wm)(B,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,{position:"stacked",color:"primary"},{default:(0,n.w5)((()=>[r])),_:1}),(0,n.Wm)(V,{modelValue:e.password,"onUpdate:modelValue":l[3]||(l[3]=l=>e.password=l),name:"password",type:"password",value:g.fields.password,onIonInput:l[4]||(l[4]=e=>g.fields.password=e.target.value),placeholder:"Пароль (Минимум 6 символов)",required:""},null,8,["modelValue","value"])])),_:1}),(0,n.Wm)(U,{color:"danger"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("p",p,"Пароль должен содержать не менее 6 символов.",512),[[a.F8,!_.passwordValid&&1==g.submitted]])])),_:1}),(0,n.Wm)(B,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,{position:"stacked",color:"primary"},{default:(0,n.w5)((()=>[f])),_:1}),(0,n.Wm)(V,{modelValue:e.username,"onUpdate:modelValue":l[5]||(l[5]=l=>e.username=l),name:"username",type:"text",value:g.fields.username,onIonInput:l[6]||(l[6]=e=>g.fields.username=e.target.value),placeholder:"Имя пользователя",required:""},null,8,["modelValue","value"])])),_:1}),(0,n.Wm)(U,{color:"danger"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("p",m,"Неверное имя пользователя",512),[[a.F8,!_.usernameValid&&1==g.submitted]])])),_:1})])),_:1}),(0,n.Wm)(b,{"responsive-sm":""},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x,{onClick:_.onSubmit,expand:"block"},{default:(0,n.w5)((()=>[h])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,n.Wm)(b,{"responsive-sm":""},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(C,{to:"/sign-in"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{color:"light",expand:"block"},{default:(0,n.w5)((()=>[c])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1},8,["errorMessage"])}var g=o(7873),_=o(351),k=o(9127),y={name:"UserSignup",components:{IonRow:g.Nd,IonCol:g.wI,IonSelect:g.t9,IonSelectOption:g.n0},data(){return{error:"",submitted:!1,config:{phoneMask:"(000)-000-00-00"},fields:{phonePrefix:"+7",phoneBody:"9785141948",password:"123456",username:"Adam Hi"}}},computed:{phoneValid(){return 10==this.fields.phoneBody.replace(/\D/g,"").length},passwordValid(){return this.fields.password.length>=6},usernameValid(){return this.fields.username.length>0}},methods:{onSubmit(){var e=this;if(this.submitted=!0,!this.phoneValid||!this.passwordValid||!this.usernameValid)return!1;let l={user_phone:this.fields.phonePrefix+this.fields.phoneBody.replace(/\D/g,""),user_pass:this.fields.password,user_pass_confirm:this.fields.password,user_name:this.fields.username};_.Z.signUp(l,(function(l){l.success?k.Z.push("/sign-in"):e.error=l.message}))},phoneValidate(e){this.fields.phoneBody=e.target.value,this.fields.phoneBody=this.fields.phoneBody.replace(/\D/g,""),this.fields.phoneBody.length>10&&(this.fields.phoneBody=this.fields.phoneBody.substring(0,10));let l="",o=0;for(let n in this.config.phoneMask){if(!this.fields.phoneBody[o])break;let e=this.config.phoneMask[n];"0"==e?(l+=this.fields.phoneBody[o],o++):l+=e}return this.fields.phoneBody=l,this.fields.phoneBody}}},W=o(3744);const v=(0,W.Z)(y,[["render",w]]);var V=v}}]);
//# sourceMappingURL=373.d6af75a5.js.map