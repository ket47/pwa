"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[518],{8518:function(e,t,l){l.r(t),l.d(t,{default:function(){return I}});var n=l(6252),o=l(3577);const a=(0,n.Uk)("Регистрация нового магазина"),u=(0,n.Uk)("Название магазина или ресторана*"),s=(0,n.Uk)(" Подавая заявку вы даете согласие на условия "),r=(0,n.Uk)("Договор поставки товаров и услуг"),i=(0,n.Uk)("Стать продавцом"),d=(0,n.Uk)("Необходимо зарегистрироваться"),c=(0,n.Uk)(" Чтобы стать продавцом, нужно быть зарегистрированным пользователем. Вы можете зарегистрироваться за 2 минуты. "),p=(0,n.Uk)("Зарегистрироваться"),m=(0,n.Uk)("Зарегистрированые магазины");function f(e,t,l,f,_,h){const w=(0,n.up)("ion-card-title"),k=(0,n.up)("ion-card-header"),W=(0,n.up)("ion-label"),g=(0,n.up)("ion-input"),I=(0,n.up)("ion-item"),b=(0,n.up)("router-link"),C=(0,n.up)("ion-text"),U=(0,n.up)("ion-checkbox"),$=(0,n.up)("ion-button"),y=(0,n.up)("ion-card-content"),x=(0,n.up)("ion-card"),G=(0,n.up)("ion-icon"),L=(0,n.up)("base-layout");return(0,n.wg)(),(0,n.j4)(L,{"page-title":"Панель управления продавца",pageDefaultBackLink:"/user/user-dashboard"},{default:(0,n.w5)((()=>[e.$heap.state.user.user_id>1?((0,n.wg)(),(0,n.j4)(x,{key:0,color:"light"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[a])),_:1})])),_:1}),(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,{lines:"full"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{position:"stacked",color:"primary"},{default:(0,n.w5)((()=>[u])),_:1}),(0,n.Wm)(g,{modelValue:_.store_name,"onUpdate:modelValue":t[0]||(t[0]=e=>_.store_name=e),placeholder:"Название*"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(I,{lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[s,(0,n.Wm)(b,{to:"/page/rules-supplier"},{default:(0,n.w5)((()=>[r])),_:1})])),_:1}),(0,n.Wm)(U,{slot:"end",modelValue:_.contractAccepted,"onUpdate:modelValue":t[1]||(t[1]=e=>_.contractAccepted=e)},null,8,["modelValue"])])),_:1}),(0,n.Wm)($,{expand:"block",onClick:t[2]||(t[2]=e=>h.itemCreate()),disabled:!_.contractAccepted||!_.store_name},{default:(0,n.w5)((()=>[i])),_:1},8,["disabled"])])),_:1})])),_:1})):((0,n.wg)(),(0,n.j4)(x,{key:1,color:"light"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[d])),_:1})])),_:1}),(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[c,(0,n.Wm)($,{expand:"block",href:"/user/sign-up"},{default:(0,n.w5)((()=>[p])),_:1})])),_:1})])),_:1})),_.storeList?.length>0?((0,n.wg)(),(0,n.j4)(x,{key:2,color:"light"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[m])),_:1})])),_:1}),(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.storeList,(t=>((0,n.wg)(),(0,n.j4)(I,{key:t.store_id,detail:"",button:"",onClick:l=>e.$router.push(`/catalog/store-edit-${t.store_id}`)},{default:(0,n.w5)((()=>[(0,n.Wm)(G,{icon:f.storefrontOutline,slot:"start"},null,8,["icon"]),(0,n.Uk)(" "+(0,o.zw)(t.store_name||t.store_name_new||"- - -"),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):(0,n.kq)("",!0)])),_:1})}var _=l(3741),h=l(8903),w=(l(9755),l(2008),l(351)),k={components:{IonInput:_.pK,IonCard:_.PM,IonCardHeader:_.Zi,IonCardTitle:_.Dq,IonCardContent:_.FN,IonLabel:_.Q$,IonItem:_.Ie,IonButton:_.YG,IonCheckbox:_.nz,IonText:_.yW,IonIcon:_.gu},setup(){return{storefrontOutline:h.qRG}},data(){return{supprier:w.Z.supplier.status,store_name:null,contractAccepted:0,storeList:null}},mounted(){const e=this;this.listGet(),this.$topic.on("userGet",(function(){e.storeList||e.listGet()}))},methods:{async itemCreate(){try{if(!this.store_name)return void this.$flash("Название обязательно");const e=await w.Z.supplier.storeItemCreate(this.store_name);if(!e)return void this.$flash("Не удалось создать магазин или ресторан");this.$router.push(`/catalog/store-edit-${e}`)}catch(e){const t=e.responseJSON?.messages?.error;"limit_exeeded"==t&&this.$flash("У вас зарегистрировано максимальное количество магазинов"),this.$flash("Не удалось создать магазин или ресторан")}},async listGet(){this.storeList=await w.Z.supplier.listGet()}}},W=l(3744);const g=(0,W.Z)(k,[["render",f],["__scopeId","data-v-d3ba6ce2"]]);var I=g}}]);
//# sourceMappingURL=518.b7f85938.js.map