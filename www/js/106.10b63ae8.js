"use strict";(self["webpackChunktezkel_delivery"]=self["webpackChunktezkel_delivery"]||[]).push([[106],{2106:function(l,t,e){e.r(t),e.d(t,{default:function(){return ll}});var n=e(6252),u=e(3577);const i={key:0,class:"user-dashboard-header"},o=(0,n.Uk)("Пользователь"),r=(0,n.Uk)("Войти"),a=(0,n.Uk)("Зарегистрироваться"),s={key:2},d=(0,n.Uk)("Выйти"),c=(0,n.Uk)("Мои адреса"),m=(0,n.Uk)("Мои заказы"),f=(0,n.Uk)("Мои скидки"),w=(0,n.Uk)("Настройка уведомлений"),k=(0,n.Uk)("Администратор"),_=(0,n.Uk)("Редактирование страниц"),W=(0,n.Uk)("Курьер"),g={key:0},p=(0,n.Uk)("Смена активна"),y=(0,n.Uk)("Вы можете брать задания на доставку"),h=(0,n.Uk)("Завершить смену"),O={key:1},v=(0,n.Uk)("Смена закрыта"),b=(0,n.Uk)("Начните смену для начала работы"),U=(0,n.Uk)("Начать смену"),C={key:2},I=(0,n.Uk)("Выполняется задание"),S=(0,n.Uk)("В процессе доставки заказа"),$={key:3},Z=(0,n.Uk)("Пока вы не курьер"),D=(0,n.Uk)("Подайте заявку, чтобы стать курьером"),j=(0,n.Uk)("Заполнить анкету"),q=(0,n.Uk)("Анкета курьера"),x=(0,n.Uk)("Поставщик"),L={key:0},z={key:1},N={key:2},T=(0,n.Uk)("Пока вы не поставщик"),B=(0,n.Uk)("Зарегистрируйте свой магазин или ресторан"),A=(0,n.Uk)("Стать поставщиком"),G=(0,n.Uk)("Информация"),H=(0,n.Uk)("О нас"),X=(0,n.Uk)("Правила пользования"),K=(0,n.Uk)("Политика конфиденциальности");function Y(l,t,e,Y,E,F){const J=(0,n.up)("ion-img"),M=(0,n.up)("ion-avatar"),Q=(0,n.up)("ion-label"),R=(0,n.up)("ion-icon"),V=(0,n.up)("router-link"),P=(0,n.up)("ion-item"),ll=(0,n.up)("ion-thumbnail"),tl=(0,n.up)("ion-list"),el=(0,n.up)("ion-item-divider"),nl=(0,n.up)("ion-item-group"),ul=(0,n.up)("ion-note"),il=(0,n.up)("ion-text"),ol=(0,n.up)("ion-button"),rl=(0,n.up)("ion-skeleton-text"),al=(0,n.up)("base-layout");return(0,n.wg)(),(0,n.j4)(al,{"page-title":"Личный кабинет",pageDefaultBackLink:"/home"},{default:(0,n.w5)((()=>[F.isSignedIn()?((0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(tl,null,{default:(0,n.w5)((()=>[(0,n.Wm)(P,{lines:"full",class:"avatar-row"},{default:(0,n.w5)((()=>[(0,n.Wm)(M,{slot:"start"},{default:(0,n.w5)((()=>[E.user.user_avatar_name?((0,n.wg)(),(0,n.j4)(J,{key:0,src:l.$heap.state.hostname+"img/avatar/"+E.user.user_avatar_name+".png"},null,8,["src"])):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(E.user.user_name),1)])),_:1}),(0,n.Wm)(Q,{slot:"end"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,{class:"section-button",to:"/user-edit",slot:"end"},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.settingsOutline},null,8,["icon"])])),_:1})])),_:1})])),_:1}),E.user.user_phone?((0,n.wg)(),(0,n.j4)(P,{key:0,lines:"full"},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{slot:"start",icon:Y.callOutline,color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(E.user.user_phone),1)])),_:1})])),_:1})):(0,n.kq)("",!0),E.user.user_emailOutline&&""!==E.user.user_emailOutline?((0,n.wg)(),(0,n.j4)(P,{key:1},{default:(0,n.w5)((()=>[(0,n.Wm)(ll,null,{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.mailOutline},null,8,["icon"])])),_:1}),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(E.user.user_emailOutline),1)])),_:1})])),_:1})):(0,n.kq)("",!0)])),_:1})])):(0,n.kq)("",!0),(0,n.Wm)(tl,null,{default:(0,n.w5)((()=>[(0,n.Wm)(nl,null,{default:(0,n.w5)((()=>[(0,n.Wm)(el,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[o])),_:1})])),_:1}),F.isSignedIn()?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(P,{key:0,lines:"full",button:"",detail:"",onClick:t[0]||(t[0]=t=>l.$router.push("sign-in"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.logInOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[r])),_:1})])),_:1})),F.isSignedIn()?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(P,{key:1,lines:"full",button:"",detail:"",onClick:t[1]||(t[1]=t=>l.$router.push("sign-up"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.personCircleOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[a])),_:1})])),_:1})),F.isSignedIn()?((0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(P,{onClick:F.signOut,lines:"full",button:"",detail:""},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.exitOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[d])),_:1})])),_:1},8,["onClick"]),(0,n.Wm)(P,{lines:"full",button:"",detail:"",onClick:t[2]||(t[2]=t=>l.$router.push("user-addresses"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.locationOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[c])),_:1})])),_:1}),(0,n.Wm)(P,{lines:"full",button:"",detail:"",onClick:t[3]||(t[3]=t=>l.$router.push("order-list"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.cartOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[m])),_:1})])),_:1}),(0,n.Wm)(P,{lines:"full",button:"",detail:"",onClick:t[4]||(t[4]=t=>l.$router.push("user-promo"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.giftOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[f])),_:1})])),_:1}),(0,n.Wm)(P,{lines:"full",button:"",detail:"",onClick:t[5]||(t[5]=t=>l.$router.push("msg-dashboard"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.notificationsOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[w])),_:1})])),_:1})])):(0,n.kq)("",!0),F.isAdmin?((0,n.wg)(),(0,n.j4)(nl,{key:3},{default:(0,n.w5)((()=>[(0,n.Wm)(el,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[k])),_:1})])),_:1}),(0,n.Wm)(P,{onClick:t[6]||(t[6]=t=>l.$router.push("text-list")),lines:"full",button:"",detail:""},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.documentTextOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[_])),_:1})])),_:1})])),_:1})):(0,n.kq)("",!0)])),_:1}),F.isSignedIn()?((0,n.wg)(),(0,n.j4)(nl,{key:0},{default:(0,n.w5)((()=>[(0,n.Wm)(el,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[W])),_:1})])),_:1}),"ready"==E.courierStatus?((0,n.wg)(),(0,n.iD)("div",g,[(0,n.Wm)(P,{style:{"--background":"var(--ion-color-success-tint)"},lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(il,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[p])),_:1}),(0,n.Wm)(ul,null,{default:(0,n.w5)((()=>[y])),_:1})])),_:1})])),_:1}),(0,n.Wm)(P,{style:{"--background":"var(--ion-color-success-tint)"},button:"",lines:"full",onClick:t[7]||(t[7]=l=>F.courierStatusSet("idle"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{src:"./assets/icon/delivery-man.svg",slot:"start"}),(0,n.Wm)(ol,{slot:"end"},{default:(0,n.w5)((()=>[h])),_:1})])),_:1})])):"idle"==E.courierStatus?((0,n.wg)(),(0,n.iD)("div",O,[(0,n.Wm)(P,{style:{"--background":"var(--ion-color-warning-tint)"},lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(il,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[v])),_:1}),(0,n.Wm)(ul,null,{default:(0,n.w5)((()=>[b])),_:1})])),_:1})])),_:1}),(0,n.Wm)(P,{style:{"--background":"var(--ion-color-warning-tint)"},button:"",lines:"full",onClick:t[8]||(t[8]=l=>F.courierStatusSet("ready"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{src:"./assets/icon/delivery-man.svg",slot:"start"}),(0,n.Wm)(ol,{slot:"end"},{default:(0,n.w5)((()=>[U])),_:1})])),_:1})])):"busy"==E.courierStatus?((0,n.wg)(),(0,n.iD)("div",C,[(0,n.Wm)(P,{style:{"--background":"var(--ion-color-warning-tint)"},lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(il,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[I])),_:1}),(0,n.Wm)(ul,null,{default:(0,n.w5)((()=>[S])),_:1})])),_:1})])),_:1}),(0,n.Wm)(P,{style:{"--background":"var(--ion-color-warning-tint)"},button:"",lines:"full"},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{src:"./assets/icon/delivery-man.svg",slot:"start"})])),_:1})])):(0,n.kq)("",!0),"notcourier"==E.courierStatus?((0,n.wg)(),(0,n.iD)("div",$,[(0,n.Wm)(P,{lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(il,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[Z])),_:1}),(0,n.Wm)(ul,null,{default:(0,n.w5)((()=>[D])),_:1})])),_:1})])),_:1}),(0,n.Wm)(P,{button:"",lines:"full",onClick:t[9]||(t[9]=t=>l.$router.push("courier-dashboard"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{src:"./assets/icon/delivery-man.svg",slot:"start"}),(0,n.Wm)(ol,{slot:"end",color:"light"},{default:(0,n.w5)((()=>[j])),_:1})])),_:1})])):((0,n.wg)(),(0,n.j4)(P,{key:4,lines:"full",button:"",detail:"",onClick:t[10]||(t[10]=t=>l.$router.push("courier-dashboard"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.documentTextOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[q])),_:1})])),_:1}))])),_:1})):(0,n.kq)("",!0),F.isSignedIn()?((0,n.wg)(),(0,n.j4)(nl,{key:1},{default:(0,n.w5)((()=>[(0,n.Wm)(el,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[x])),_:1})])),_:1}),E.user.storeList?E.user.storeList.length>0?((0,n.wg)(),(0,n.iD)("div",z,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(E.user.storeList,(t=>((0,n.wg)(),(0,n.j4)(P,{key:t.store_id,detail:"",button:"",onClick:e=>l.$router.push(`store-edit-${t.store_id}`)},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.storefrontOutline,slot:"start"},null,8,["icon"]),(0,n.Uk)(" "+(0,u.zw)(t.store_name||"- - -"),1)])),_:2},1032,["onClick"])))),128))])):((0,n.wg)(),(0,n.iD)("div",N,[(0,n.Wm)(P,{lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(il,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[T])),_:1}),(0,n.Wm)(ul,null,{default:(0,n.w5)((()=>[B])),_:1})])),_:1})])),_:1}),(0,n.Wm)(P,{onClick:t[11]||(t[11]=t=>l.$router.push("supplier-dashboard")),lines:"full"},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.storefrontOutline,slot:"start"},null,8,["icon"]),(0,n.Wm)(ol,{slot:"end",color:"light"},{default:(0,n.w5)((()=>[A])),_:1})])),_:1})])):((0,n.wg)(),(0,n.iD)("div",L,[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.storefrontOutline,slot:"start"},null,8,["icon"]),(0,n.Wm)(rl,{animated:""})])),_:1})]))])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(nl,null,{default:(0,n.w5)((()=>[(0,n.Wm)(el,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[G])),_:1})])),_:1}),(0,n.Wm)(P,{lines:"full",button:"",detail:"",onClick:t[12]||(t[12]=t=>l.$router.push("page-about"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.informationCircleOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[H])),_:1})])),_:1}),(0,n.Wm)(P,{lines:"full",button:"",detail:"",onClick:t[13]||(t[13]=t=>l.$router.push("page-rules"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.informationCircleOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[X])),_:1})])),_:1}),(0,n.Wm)(P,{lines:"full",button:"",detail:"",onClick:t[14]||(t[14]=t=>l.$router.push("page-privacy_policy"))},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:Y.informationCircleOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[K])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var E=e(9632),F=e(8903),J=e(351),M=e(9042),Q=e(2008),R={components:{IonIcon:E.gu,IonAvatar:E.BJ,IonImg:E.Xz,IonLabel:E.Q$,IonItem:E.Ie,IonThumbnail:E.Bs,IonList:E.q_,IonItemDivider:E.rH,IonItemGroup:E.Ub,IonNote:E.uN,IonText:E.yW,IonButton:E.YG,IonSkeletonText:E.CK},setup(){return{settingsOutline:F.C$N,logInOutline:F.Ohu,personCircleOutline:F.XMB,exitOutline:F.NmL,locationOutline:F.Iv7,heartOutline:F.gjX,helpCircle:F.pvH,callOutline:F.H7N,mailOutline:F.xOl,cardOutline:F.pvm,cartOutline:F.Ox0,notifications:F.N9d,chevronForwardOutline:F.Dji,documentTextOutline:F.L82,informationCircleOutline:F.yo2,storefrontOutline:F.qRG,notificationsOutline:F.iZ5,giftOutline:F._$o}},data(){return{user:Q.Z.state.user,courierStatus:J.Z.courier.status,storeList:null}},ionViewDidEnter(){J.Z.get("full")},mounted(){const l=this;M.Z.on("courierStatusChange",(t=>{l.courierStatus=t})),M.Z.on("userGet",(t=>{l.user=t}))},computed:{isAdmin(){return J.Z.isAdmin()}},methods:{isSignedIn(){return Q.Z.getters.userIsLogged},async signOut(){await J.Z.signOut(),this.user=await J.Z.get()},async courierStatusSet(l){try{await J.Z.courier.updateStatus(l)}catch(t){409==t.status&&this.$flash("Анкета удалена или не активна")}}},watch:{$route(l,t){l.path!=t.path&&(this.user=Q.Z.state.user)},courierStatus(l){"ready"==l||"busy"==l?J.Z.geo.trackingStart():J.Z.geo.trackingStop()}}},V=e(3744);const P=(0,V.Z)(R,[["render",Y],["__scopeId","data-v-f66f3818"]]);var ll=P}}]);
//# sourceMappingURL=106.10b63ae8.js.map