{"version":3,"file":"js/6091.7591ea57.js","mappings":"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","sources":["webpack://Tezkel/./src/views/UserAuthorize.vue","webpack://Tezkel/./src/views/UserAuthorize.vue?16ea"],"sourcesContent":["<style scoped>\n  .vspace{\n    height: 15px;\n  }\n  h4,p{\n    -text-align:center;\n  }\n  ion-breadcrumb{\n    font-size:0.9em\n  }\n</style>\n<template>\n  <base-layout page-title=\"Вход в профиль\" pageDefaultBackLink=\"/user\">\n    \n\n    <form novalidate onsubmit=\"return false\">\n    <div style=\"display:grid;grid-template-columns:auto minmax(330px,400px) auto;width:100%;min-height:80vh\">\n      <div></div>\n      <!--PHONE ENTRY SCREEN-->\n      <section v-if=\"screen=='enter_phone'\" class=\"ion-padding\">\n        <h4>Введите номер телефона</h4>\n        <p style=\"color:var(--ion-color-medium);font-size:0.9em;\">\n          Для входа в профиль или регистрации\n        </p>\n\n        <div class=\"vspace\"></div>\n        <ion-input \n          ref=\"uphone\"\n          fill=\"outline\" \n          mode=\"md\"\n          placeholder=\"+7(___)___ __ __\"\n          name=\"phone\"\n          type=\"tel\"\n          inputmode=\"tel\"\n          autocomplete=\"tel-national\"\n          v-model=\"user_phone\"\n          @ionInput=\"phoneFormat($event)\"\n          @keyup.enter=\"phoneSubmit()\"\n          label=\"Номер телефона\"\n          label-placement=\"stacked\"\n        ></ion-input>\n\n        <div class=\"vspace\"></div>\n        <ion-text color=\"danger\" v-show=\"!phoneIsValid && phoneSubmitted == 1\">\n          Проверьте номер телефона\n        </ion-text>\n        <ion-button v-if=\"phoneIsValid\" @click=\"phoneSubmit\" expand=\"block\">Продолжить</ion-button>\n        <ion-button v-else @click=\"$refs.uphone.$el.setFocus()\" expand=\"block\" color=\"light\">Заполнить номер</ion-button>\n\n        <div class=\"vspace\"></div>\n        <ion-text  color=\"medium\" style=\"text-align:center;color:var(--ion-color-medium);font-size:0.7em;\">\n          Нажатием кнопки Продолжить, вы соглашаетесь с <b @click=\"$go('/page/rules-customer')\"><u>Правилами пользования</u></b> и <b @click=\"$go('/page/privacy_policy')\"><u>Политикой конфиденциальности</u></b>\n        </ion-text>\n      </section>\n\n\n      <!--PASS ENTRY SCREEN-->\n      <section v-if=\"screen=='enter_pass'\" class=\"ion-padding\">\n        <h4>Введите пароль</h4>\n        <p style=\"color:var(--ion-color-medium);font-size:0.9em;\">\n          Если вы не знаете пароль, войдите с помошью смс кода.\n        </p>\n        <ion-input \n          ref=\"uphone\"\n          fill=\"outline\" \n          mode=\"md\"\n          placeholder=\"+7(___)___ __ __\"\n          name=\"phone\"\n          type=\"tel\"\n          inputmode=\"tel\"\n          autocomplete=\"tel-national\"\n          v-model=\"user_phone\"\n          @ionInput=\"phoneFormat($event)\"\n          @ionChange=\"phoneSubmit()\"\n          label=\"Номер телефона\"\n          label-placement=\"stacked\"\n        ></ion-input>\n\n        <div class=\"vspace\"></div>\n        <ion-input\n          ref=\"upass\"\n          fill=\"outline\" \n          mode=\"md\"\n          v-model=\"user_pass\"\n          name=\"password\" \n          type=\"password\"\n          required\n          label=\"Пароль\"\n          label-placement=\"stacked\"\n          @keyup.enter=\"passSubmit()\"\n        ></ion-input>\n\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"passSubmit\" expand=\"block\" :disabled=\"!passwordIsValid\">Вход</ion-button>\n\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"codeSend\" expand=\"block\" color=\"success\"><ion-icon :src=\"chatboxEllipsesOutline\" slot=\"start\"/>Войти СМС кодом</ion-button>\n      </section>\n\n\n      <!--CODE ENTRY SCREEN-->\n      <section v-if=\"screen=='enter_code'\" class=\"ion-padding\">\n        <h4>Введите код из смс</h4>\n        <p style=\"color:var(--ion-color-medium);font-size:0.9em;\">\n          Смс с кодом подтверждения отправлен на телефон\n        </p>\n        <p style=\"color:var(--ion-color-medium);\">\n           <b>{{user_phone}}</b>\n        </p>\n\n        <div class=\"vspace\"></div>\n        <ion-input\n          ref=\"ucode\"\n          fill=\"outline\" \n          mode=\"md\"\n          v-model=\"codeValue\"\n          type=\"numeric\"\n          inputmode=\"numeric\"\n          maxlength=\"4\"\n          pattern=\"\\d{4}\"\n          placeholder=\"- - - -\"\n          enterkeyhint=\"go\"\n          required\n          autocomplete=\"one-time-code\"\n          label=\"Код подтверждения из смс\"\n          label-placement=\"stacked\"\n          @ionInput=\"codeSubmit($event)\"\n        ></ion-input>\n\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"codeSubmit()\" expand=\"block\" :disabled=\"!codeIsValid\">Продолжить</ion-button>\n\n        <div class=\"vspace\"></div>\n        <ion-item v-if=\"codeResendTime>0\" lines=\"none\">\n          <p>Вы получите код в течение {{codeArriveAt}}. <b v-if=\"codeResendTime<90\">Может позвонить 🤖 робот и продиктовать код.</b></p>\n        </ion-item>\n        <ion-item v-else lines=\"none\">\n          Смс с кодом не пришла? <ion-chip slot=\"end\" @click=\"codeSend\" color=\"primary\">Послать еще раз</ion-chip>\n        </ion-item>\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"screen='enter_phone'\" expand=\"block\" fill=\"outline\" color=\"medium\">Изменить номер телефона</ion-button>\n      </section>\n\n      <!--USER CREATE PASS-->\n      <section v-if=\"screen=='enter_createpass'\" class=\"ion-padding\">\n        <h4>Пароль</h4>\n        <p style=\"color:var(--ion-color-medium);font-size:0.9em;\">\n          Вы можете быстрее входить в профиль, если создадите пароль.\n        </p>\n\n        <div class=\"vspace\"></div>\n        <ion-list>\n          <ion-item lines=\"none\">\n            <ion-icon slot=\"start\" :src=\"keyOutline\"/>\n            <ion-checkbox v-model=\"registerWithPass\" value=\"1\">Создать пароль</ion-checkbox>\n          </ion-item>\n          <ion-item v-if=\"registerWithPass\" lines=\"none\">\n            <ion-input\n              v-model=\"user_pass\"\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"напишите пароль\"\n              required\n              label=\"Пароль\"\n              label-placement=\"stacked\"\n            ></ion-input>\n          </ion-item>\n          <ion-item v-if=\"registerWithPass && user_pass\">\n            <ion-input\n              v-model=\"user_pass_confirm\"\n              type=\"password\"\n              placeholder=\"напишите повтор\"\n              required\n              label=\"Пароль повтор\"\n              label-placement=\"stacked\"\n            ></ion-input>\n          </ion-item>\n          <p v-if=\"user_pass && user_pass!=user_pass_confirm\" class=\"ion-padding\">\n            Пароли должны совпадать\n          </p>\n\n        </ion-list>\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"userformOpen()\" expand=\"block\" v-if=\"user_pass\">Продолжить</ion-button>\n\n        <ion-button @click=\"userformOpen()\" expand=\"block\" v-if=\"!user_pass\">Пропустить</ion-button>\n        <p style=\"color:var(--ion-color-medium);font-size:0.9em;text-align:center\" v-if=\"!user_pass\">\n          Вы зарегистрируетесь без пароля\n        </p>\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"screen='enter_phone'\" expand=\"block\" fill=\"outline\" color=\"medium\">Изменить номер телефона</ion-button>\n      </section>\n\n      <!--USER DATA-->\n      <section v-if=\"screen=='enter_data'\" class=\"ion-padding\">\n        <h4>Анкета пользователя</h4>\n        <div class=\"vspace\"></div>\n        <ion-list>\n          <ion-item>\n            <ion-input\n              v-model=\"user_name\"\n              placeholder=\"напишите имя\"\n              required\n              label=\"Как к вам обращаться *\"\n              label-placement=\"stacked\"\n              ref=\"uname\"\n            ></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-input\n              v-model=\"user_birthday\"\n              type=\"date\"\n              placeholder=\"\"\n              required\n              label=\"День рождения\"\n              label-placement=\"stacked\"\n            ></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-input\n              v-model=\"user_email\"\n              type=\"email\"\n              placeholder=\"@\"\n              required\n              label=\"Ваш e-mail (желательно заполнить)\"\n              label-placement=\"stacked\"\n            ></ion-input>\n          </ion-item>\n        </ion-list>\n\n        <h4>Ваш аватар</h4>\n        <ion-segment mode=\"ios\" v-model=\"user_avatar_name\">\n          <ion-segment-button value=\"man\">\n            <ion-avatar><img :src=\"$heap.state.hostname+'img/avatar/man.png'\" /></ion-avatar>\n          </ion-segment-button>\n          <ion-segment-button value=\"woman\">\n            <ion-avatar><img :src=\"$heap.state.hostname+'img/avatar/woman.png'\" /></ion-avatar>\n          </ion-segment-button>\n        </ion-segment>\n<!--\n        <h4>Код из смс</h4>\n        <div class=\"vspace\"></div>\n        <ion-item>\n          <ion-input\n            ref=\"ucode\"\n            v-model=\"codeValue\"\n            type=\"numeric\"\n            inputmode=\"numeric\"\n            maxlength=\"4\"\n            pattern=\"\\d{4}\"\n            placeholder=\"- - - -\"\n            enterkeyhint=\"go\"\n            required\n            autocomplete=\"one-time-code\"\n            label=\"Код подтверждения из смс*\"\n            label-placement=\"stacked\"\n          ></ion-input>\n        </ion-item>\n        <div class=\"vspace\"></div>\n        <ion-item v-if=\"codeResendTime>0\" lines=\"none\">\n          Вы получите код в течение {{codeArriveAt}}\n        </ion-item>\n        <ion-item v-else lines=\"none\">\n          Смс с кодом не пришла? <ion-chip slot=\"end\" @click=\"phoneSubmit\" color=\"primary\">Послать еще раз</ion-chip>\n        </ion-item>\n-->\n\n\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"registrationSubmit\" expand=\"block\" v-if=\"user_name\">Готово</ion-button>\n        <ion-button  @click=\"$refs.uname.$el.setFocus()\" expand=\"block\" v-else color=\"light\">Заполнить имя</ion-button>\n        <div class=\"vspace\"></div>\n      </section>\n\n\n\n      \n      <div></div>\n    </div>\n    </form>\n  </base-layout>\n</template>\n\n<script>\nimport { \n  IonText,\n  IonButton,\n  IonItem,\n  IonList,\n  IonInput,\n  IonCheckbox,\n  IonSegment,\n  IonSegmentButton,\n  IonAvatar,\n  IonIcon,\n  IonChip,\n}                               from '@ionic/vue';\nimport jQuery                   from 'jquery'\nimport User                     from '@/scripts/User.js'\n\n\n\nimport { \n  giftOutline,\n  personOutline,\n  keyOutline,\n  atOutline,\n  chatboxEllipsesOutline,\n}                         from \"ionicons/icons\";\n\nexport default{\n  components:{\n  IonText,\n  IonButton,\n  IonItem,\n  IonList,\n  IonInput,\n  IonCheckbox,\n  IonSegment,\n  IonSegmentButton,\n  IonAvatar,\n  IonIcon,\n  IonChip,\n  },\n  setup(){\n    return {\n      giftOutline,\n      personOutline,\n      keyOutline,\n      atOutline,\n      chatboxEllipsesOutline,\n    }\n  },\n  data(){\n    return {\n      user_phone:'',\n      user_name:null,\n      user_email:null,\n      user_avatar_name:'man',\n      user_birthday:null,\n      user_pass:null,\n      user_pass_confirm:null,\n\n      screen:'enter_phone',\n      codeValue:null,\n      passValue:null,\n      codeResendTime:0,\n      phoneSubmitted:0,\n      signinOptions:{},\n      registerWithPass:0,\n    }\n  },\n  computed: {\n    phoneIsValid() {\n      return this.user_phone?.replace(/\\D/g,\"\").length == 11;\n    },\n    passwordIsValid() {\n      return this.user_pass?.length >= 4;\n    },\n    codeIsValid(){\n      return this.codeValue?.replace(/\\D/g,\"\").length == 4;\n    },\n    codeArriveAt(){\n      const min=Math.floor(this.codeResendTime/60);\n      const sec=this.codeResendTime-60*min;\n      return (min>0?`${min} мин `:'') + (`${sec} сек`)\n    },\n\n  },\n  methods:{\n    phoneFormat(ev){\n      const value = ev.target?.value\n      let filteredValue = value.replace(/[^0-9]+/g, '') || ''\n      if(filteredValue.substring(0,1)!='7'){\n        filteredValue='7'+filteredValue\n      }\n      if(filteredValue.length>11){\n        filteredValue=filteredValue.substring(filteredValue.length-11)\n      }\n      setTimeout(()=>{\n        this.user_phone='+'+filteredValue\n      },50)\n    },\n    async phoneSubmit(){\n      this.phoneSubmitted=1\n      if( !this.phoneIsValid ){\n        return false\n      }\n      const request={\n        user_phone:this.user_phone\n      }\n      try{\n        this.signinOptions=await jQuery.post( `${this.$heap.state.hostname}User/signInOptionsGet`, request)\n        if( this.signinOptions.is_signedin==1 ){\n          this.$flash(\"Вы вошли в профиль\");\n          this.$router.go(-1);\n          return\n        }\n        if( this.signinOptions.is_deleted==1 ){\n          this.$flash(\"Ваш профиль удален\");\n          return\n        }\n        if( this.signinOptions.is_disabled==1 ){\n          this.$flash(\"Ваш профиль заблокирован\");\n          return\n        }\n        if( this.signinOptions.by_pass==1 ){\n          this.screen='enter_pass'\n          setTimeout(()=>{\n            this.$refs.upass.$el.setFocus()\n          },100)\n          return\n        }\n        if( this.signinOptions.by_code==1 ){\n          this.codeSend()\n          return\n        }\n      } catch(err){\n        const exception_code=err?.responseJSON?.messages?.error;\n        switch(exception_code){\n            case 'notfound'://new user\n              /**\n               * This is a new User. So confirm its phone number, then collect data\n               */\n              this.signinOptions={is_newuser:1}\n              this.codeSend()\n              break;\n            default:\n              this.$flash(\"Не удалось отправить код\")\n              break;\n        }\n      }\n    },\n\n    async passSubmit() {\n      this.submitted = true;\n      if(!this.phoneIsValid || !this.passwordIsValid){\n        return false;\n      }\n      let request = {\n        user_phone: this.user_phone,\n        user_pass: this.user_pass,\n        user_pass_confirm: this.user_pass\n      }\n      try{\n        await jQuery.post( `${this.$heap.state.hostname}User/signIn`, request)\n        const user=await User.get();\n        this.$flash(`Добро пожаловать ${user.user_name}`)\n        this.$router.go(-1)\n      } catch(err){\n        const exception_code=err?.responseJSON?.messages?.error\n        switch(exception_code){\n          case 'user_not_found':\n            this.$flash(\"Пользователь не найден. Пройдите регистрацию.\");\n            break;\n          case 'user_pass_wrong':\n            this.$flash(\"Неверный пароль\");\n            break;\n          case 'user_code_wrong':\n            this.$flash(\"Неверный код подтверждения\");\n            break;\n          case 'user_is_disabled':\n            this.$flash(\"Пользователь отключен. Обратитесь к администратору\");\n            break;\n          case 'user_is_deleted':\n            this.$flash(\"Пользователь удален. Обратитесь к администратору\");\n            break;\n          case 'user_phone_unverified':\n            this.$flash(\"Номер телефона не подтвержден\");\n            this.codeSend();\n            break;\n          default:\n            this.$flash(\"Не удалось войти в профиль\");\n        }\n      }\n    },\n    \n    async codeSend(){\n      this.phoneSubmitted=1\n      if( !this.phoneIsValid ){\n        return false\n      }\n      const request={\n        user_phone:this.user_phone\n      }\n      try{\n        this.screen='enter_code'\n        await jQuery.post( `${this.$heap.state.hostname}User/phoneVerificationSend`, request)\n        this.codeCapture()\n        this.codeClockTick(120)\n        this.$refs.ucode.$el.setFocus()\n      } catch(err){\n        const exception_code=err?.responseJSON?.messages?.error;\n        switch(exception_code){\n            case 'verification_target_invalid':\n              this.$flash(\"Неверный формат номера телефона\")\n              break;\n            case 'verification_already_sent':\n              this.$flash(\"Код уже послан\")\n              break;\n            default:\n              this.$flash(\"Не удалось отправить код\")\n              break;\n        }\n      }\n    },\n\n    async codeCapture(){\n      if( navigator.credentials ){\n        try{\n          const otp=await navigator.credentials.get({\n            otp: {transport:[\"sms\"]}\n          })\n          this.codeValue = otp.code\n          this.codeSubmit()\n        } catch (err){/** */}\n      }\n    },\n\n    codeClockTick( timeLeft ){\n      if(timeLeft<0){\n        return\n      }\n      this.codeResendTime=timeLeft\n      setTimeout(()=>this.codeClockTick(this.codeResendTime-1),1000)\n    },\n\n    async codeSubmit( ev ) {\n      if( ev ){\n        this.codeValue = ev.target?.value\n      }\n      if(!this.phoneIsValid || !this.codeIsValid){\n        return false;\n      }\n        /**\n         * User can't sign in by code\n         * Perhaps he is not signed up yet\n         */\n      if( this.signinOptions.is_newuser==1 || this.signinOptions.by_code!=1 ){\n        this.codeVerify()\n        return\n      }\n      this.codeSignIn()\n    },\n\n    async codeVerify(){\n      try{\n        const request={\n          verification_type:'phone',\n          verification_target:this.user_phone,\n          verification_value:this.codeValue,\n        }\n        await jQuery.post( `${this.$heap.state.hostname}User/verificationCheck`, request)\n        this.screen='enter_createpass'\n      } catch(err){\n        const exception_code=err?.responseJSON?.messages?.error;\n        switch(exception_code){\n            default:\n              this.$flash(\"Не верный код подтверждения\")\n              break;\n        }\n      }\n    },\n\n    async codeSignIn(){\n      let request = {\n        user_phone: this.user_phone,\n        user_ota_code: this.codeValue,\n      }\n      try{\n        await jQuery.post( `${this.$heap.state.hostname}User/signInByCode`, request)\n        const user=await User.get();\n        this.$flash(`Добро пожаловать ${user.user_name}`)\n        if(this.$heap.state.next_route){\n          this.$go(this.$heap.state.next_route)\n          this.$heap.state.next_route=null\n        } else {\n          this.$router.go(-1);\n        }\n      } catch(err){\n        const exception_code=err?.responseJSON?.messages?.error\n        switch(exception_code){\n          case 'user_not_found':\n            this.$flash(\"Пользователь не найден. Пройдите регистрацию.\");\n            break;\n          case 'user_pass_wrong':\n            this.$flash(\"Неверный пароль\");\n            break;\n          case 'user_code_wrong':\n            this.$flash(\"Не верный код подтверждения\");\n            break;\n          case 'user_is_disabled':\n            this.$flash(\"Пользователь отключен. Обратитесь к администратору\");\n            break;\n          case 'user_is_deleted':\n            this.$flash(\"Пользователь удален. Обратитесь к администратору\");\n            break;\n          case 'user_phone_unverified':\n            this.$flash(\"Номер телефона не подтвержден\");\n            this.codeSend();\n            break;\n          default:\n            this.$flash(\"Не удалось войти в профиль\");\n        }\n      }\n\n    },\n    async userformOpen(){\n      this.phoneSubmitted=1\n      if( !this.phoneIsValid ){\n        return false\n      }\n      this.screen='enter_data'\n      setTimeout(()=>{\n        this.$refs.uname && this.$refs.uname.$el.setFocus()\n      },100)\n    },\n    async registrationSubmit(){\n      if(!this.user_name){\n        this.$flash(\"Имя не должно быть пустым\")\n        return \n      }\n      try{\n        const request={\n          user_phone:this.user_phone,\n          user_name:this.user_name,\n          user_birthday:this.user_birthday||null,\n          user_avatar_name:this.user_avatar_name,\n\n          user_email:this.user_email,\n          user_pass:this.user_pass,\n          user_pass_confirm:this.user_pass_confirm,\n          user_ota_code:this.codeValue,\n\n          inviter_user_id: localStorage.inviter_user_id ?? 0,\n          /**\n           * @todo handle this\n           */\n          metric_id:0,//\n        }\n        const response=await jQuery.post( `${this.$heap.state.hostname}User/signUp`, request)\n        const user=await User.get();\n        this.$flash(`Добро пожаловать ${user.user_name}`)\n        this.$router.go(-1);\n      } catch(err){\n        let exception_code = \"unknown\";\n        try {\n          const invalid_field = Object.keys(\n            JSON.parse(err.responseJSON.messages.error)\n          )[0];\n          const invalid_reason = Object.values(\n            JSON.parse(err.responseJSON.messages.error)\n          )[0];\n          exception_code = invalid_field + \"_\" + invalid_reason;\n        } catch {\n          /** */\n        }\n\n        switch (exception_code) {\n          case \"user_phone_notunique\":\n            this.$flash(\"Пользователь с таким телефоном уже зарегистрирован\");\n            break;\n          case \"user_phone_required\":\n          case \"user_phone_invalid\":\n          case \"user_phone_short\":\n            this.$flash(\"Проверьте номер телефона\");\n            break;\n          case \"user_name_required\":\n          case \"user_name_short\":\n            this.$flash(\"Проверьте ваш псевдоним\");\n            break;\n          case \"user_email_invalid\":\n            this.$flash(\"Проверьте ваш е-маил\");\n            break;\n          case \"user_email_notunique\":\n            this.$flash(\"Такой е-маил уже используется\");\n            break;\n          case \"user_pass_required\":\n            this.$flash(\"Пароль обязателен для заполнения\");\n            break;\n          case \"user_pass_short\":\n            this.$flash(\"Пароль слишком короткий\");\n            break;\n          case \"user_pass_notmatches\":\n            this.$flash(\"Пароль не совпадает с подтверждением\");\n            break;\n          default:\n            this.$flash(\"Не удалось зарегистрироваться\");\n        }\n      }\n\n    }\n  },\n  mounted(){\n    setTimeout(()=>{\n      this.$refs.uphone && this.$refs.uphone.$el.setFocus()\n    },100)\n  }\n}\n</script>","import { render } from \"./UserAuthorize.vue?vue&type=template&id=aab1c7de&scoped=true\"\nimport script from \"./UserAuthorize.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuthorize.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuthorize.vue?vue&type=style&index=0&id=aab1c7de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-aab1c7de\"]])\n\nexport default __exports__"],"names":["novalidate","onsubmit","style","_createElementVNode","key","class","_hoisted_10","_hoisted_12","_createBlock","_component_base_layout","pageDefaultBackLink","default","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","$data","screen","_createElementBlock","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createVNode","_component_ion_input","ref","fill","mode","placeholder","name","type","inputmode","autocomplete","modelValue","user_phone","_cache","$event","onIonInput","$options","phoneFormat","onKeyup","_withKeys","phoneSubmit","label","_hoisted_8","_component_ion_text","color","_createTextVNode","_","phoneIsValid","phoneSubmitted","_component_ion_button","onClick","expand","_ctx","$refs","uphone","$el","setFocus","_hoisted_9","$go","_hoisted_11","_hoisted_13","_createCommentVNode","_hoisted_14","_hoisted_15","_hoisted_16","onIonChange","_hoisted_17","user_pass","required","passSubmit","_hoisted_18","disabled","passwordIsValid","_hoisted_19","codeSend","_component_ion_icon","src","$setup","chatboxEllipsesOutline","slot","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_toDisplayString","_hoisted_24","codeValue","maxlength","pattern","enterkeyhint","codeSubmit","_hoisted_25","codeIsValid","_hoisted_26","codeResendTime","_component_ion_item","lines","codeArriveAt","_hoisted_27","_component_ion_chip","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_component_ion_list","keyOutline","_component_ion_checkbox","registerWithPass","value","user_pass_confirm","_hoisted_33","_hoisted_34","userformOpen","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","user_name","user_birthday","user_email","_hoisted_40","_component_ion_segment","user_avatar_name","_component_ion_segment_button","_component_ion_avatar","$heap","state","hostname","_hoisted_41","_hoisted_42","_hoisted_43","registrationSubmit","uname","_hoisted_44","_hoisted_45","components","IonText","IonButton","IonItem","IonList","IonInput","IonCheckbox","IonSegment","IonSegmentButton","IonAvatar","IonIcon","IonChip","setup","giftOutline","personOutline","atOutline","data","passValue","signinOptions","computed","_this$user_phone","this","replace","length","_this$user_pass","_this$codeValue","min","Math","floor","sec","methods","ev","_ev$target","target","filteredValue","substring","setTimeout","request","jQuery","is_signedin","$flash","$router","go","is_deleted","is_disabled","by_pass","upass","by_code","err","_err$responseJSON","_err$responseJSON$mes","exception_code","responseJSON","messages","error","is_newuser","submitted","user","User","get","_err$responseJSON2","_err$responseJSON2$me","codeCapture","codeClockTick","ucode","_err$responseJSON3","_err$responseJSON3$me","navigator","credentials","otp","transport","code","timeLeft","_ev$target2","codeSignIn","codeVerify","verification_type","verification_target","verification_value","_err$responseJSON4","_err$responseJSON4$me","user_ota_code","next_route","_err$responseJSON5","_err$responseJSON5$me","_localStorage$inviter","inviter_user_id","localStorage","metric_id","invalid_field","Object","keys","JSON","parse","invalid_reason","values","mounted","__exports__","render"],"sourceRoot":""}