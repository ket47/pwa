"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[314],{314:function(l,t,e){e.r(t),e.d(t,{default:function(){return J}});var u=e(6252),n=e(3577);const i={key:0,class:"user-dashboard-header"},o=(0,u.Uk)("Пользователь"),a=(0,u.Uk)("Войти"),r=(0,u.Uk)("Зарегистрироваться"),s={key:2},d=(0,u.Uk)("Выйти"),c=(0,u.Uk)("Мои адреса"),m=(0,u.Uk)("Мои заказы"),f=(0,u.Uk)("Администратор"),w=(0,u.Uk)("Редактирование страниц"),k=(0,u.Uk)("Курьер"),_={key:0},W=(0,u.Uk)("Смена активна"),p=(0,u.Uk)("Вы можете брать задания на доставку"),g=(0,u.Uk)("Завершить смену"),y={key:1},h=(0,u.Uk)("Смена закрыта"),b=(0,u.Uk)("Начните смену для начала работы"),v=(0,u.Uk)("Начать смену"),O={key:2},U=(0,u.Uk)("Выполняется задание"),I=(0,u.Uk)("В процессе доставки заказа"),C={key:3},S=(0,u.Uk)("Пока вы не курьер"),$=(0,u.Uk)("Подайте заявку, чтобы стать курьером"),Z=(0,u.Uk)("Заполнить анкету"),j=(0,u.Uk)("Анкета курьера"),q=(0,u.Uk)("Информация"),x=(0,u.Uk)("О нас"),D=(0,u.Uk)("Правила пользования"),T=(0,u.Uk)("Политика конфиденциальности");function z(l,t,e,z,N,A){const B=(0,u.up)("ion-img"),L=(0,u.up)("ion-avatar"),H=(0,u.up)("ion-label"),X=(0,u.up)("ion-icon"),G=(0,u.up)("router-link"),F=(0,u.up)("ion-item"),J=(0,u.up)("ion-thumbnail"),M=(0,u.up)("ion-list"),Q=(0,u.up)("ion-item-divider"),Y=(0,u.up)("ion-item-group"),E=(0,u.up)("ion-note"),K=(0,u.up)("ion-text"),P=(0,u.up)("ion-button"),R=(0,u.up)("base-layout");return(0,u.wg)(),(0,u.j4)(R,{"page-title":"Личный кабинет","page-default-back-link":"/home"},{default:(0,u.w5)((()=>[A.isSignedIn?((0,u.wg)(),(0,u.iD)("div",i,[(0,u.Wm)(M,null,{default:(0,u.w5)((()=>[(0,u.Wm)(F,{lines:"full",class:"avatar-row"},{default:(0,u.w5)((()=>[(0,u.Wm)(L,{slot:"start"},{default:(0,u.w5)((()=>[N.user.user_avatar_name?((0,u.wg)(),(0,u.j4)(B,{key:0,src:l.$heap.state.hostname+"img/avatar/"+N.user.user_avatar_name+".png"},null,8,["src"])):(0,u.kq)("",!0)])),_:1}),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[(0,u.Uk)((0,n.zw)(N.user.user_name),1)])),_:1}),(0,u.Wm)(H,{slot:"end"},{default:(0,u.w5)((()=>[(0,u.Wm)(G,{class:"section-button",to:"/user-edit",slot:"end"},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.settingsOutline},null,8,["icon"])])),_:1})])),_:1})])),_:1}),N.user.user_phone?((0,u.wg)(),(0,u.j4)(F,{key:0,lines:"full"},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{slot:"start",icon:z.callOutline,color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[(0,u.Uk)((0,n.zw)(N.user.user_phone),1)])),_:1})])),_:1})):(0,u.kq)("",!0),N.user.user_emailOutline&&""!==N.user.user_emailOutline?((0,u.wg)(),(0,u.j4)(F,{key:1},{default:(0,u.w5)((()=>[(0,u.Wm)(J,null,{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.mailOutline},null,8,["icon"])])),_:1}),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[(0,u.Uk)((0,n.zw)(N.user.user_emailOutline),1)])),_:1})])),_:1})):(0,u.kq)("",!0)])),_:1})])):(0,u.kq)("",!0),(0,u.Wm)(M,null,{default:(0,u.w5)((()=>[(0,u.Wm)(Y,null,{default:(0,u.w5)((()=>[(0,u.Wm)(Q,null,{default:(0,u.w5)((()=>[(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[o])),_:1})])),_:1}),A.isSignedIn?(0,u.kq)("",!0):((0,u.wg)(),(0,u.j4)(F,{key:0,lines:"full",button:"",detail:"",onClick:t[0]||(t[0]=t=>l.$router.push("sign-in"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.logInOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[a])),_:1})])),_:1})),A.isSignedIn?(0,u.kq)("",!0):((0,u.wg)(),(0,u.j4)(F,{key:1,lines:"full",button:"",detail:"",onClick:t[1]||(t[1]=t=>l.$router.push("sign-up"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.personCircleOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[r])),_:1})])),_:1})),A.isSignedIn?((0,u.wg)(),(0,u.iD)("div",s,[(0,u.Wm)(F,{onClick:A.signOut,lines:"full",button:"",detail:""},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.exitOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[d])),_:1})])),_:1},8,["onClick"]),(0,u.Wm)(F,{lines:"full",button:"",detail:"",onClick:t[2]||(t[2]=t=>l.$router.push("user-addresses"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.locationOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[c])),_:1})])),_:1}),(0,u.Wm)(F,{lines:"full",button:"",detail:"",onClick:t[3]||(t[3]=t=>l.$router.push("order-list"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.cartOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[m])),_:1})])),_:1})])):(0,u.kq)("",!0),A.isAdmin?((0,u.wg)(),(0,u.j4)(Y,{key:3},{default:(0,u.w5)((()=>[(0,u.Wm)(Q,null,{default:(0,u.w5)((()=>[(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[f])),_:1})])),_:1}),(0,u.Wm)(F,{onClick:t[4]||(t[4]=t=>l.$router.push("text-list")),lines:"full",button:"",detail:""},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.documentTextOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[w])),_:1})])),_:1})])),_:1})):(0,u.kq)("",!0)])),_:1}),A.isSignedIn?((0,u.wg)(),(0,u.j4)(Y,{key:0},{default:(0,u.w5)((()=>[(0,u.Wm)(Q,null,{default:(0,u.w5)((()=>[(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[k])),_:1})])),_:1}),"ready"==N.courierStatus?((0,u.wg)(),(0,u.iD)("div",_,[(0,u.Wm)(F,{style:{"--background":"var(--ion-color-success-tint)"},lines:"none"},{default:(0,u.w5)((()=>[(0,u.Wm)(K,null,{default:(0,u.w5)((()=>[(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[W])),_:1}),(0,u.Wm)(E,null,{default:(0,u.w5)((()=>[p])),_:1})])),_:1})])),_:1}),(0,u.Wm)(F,{style:{"--background":"var(--ion-color-success-tint)"},button:"",lines:"full",onClick:t[5]||(t[5]=l=>A.courierStatusSet("idle"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{src:"./assets/icon/delivery-man.svg",slot:"start"}),(0,u.Wm)(P,{slot:"end"},{default:(0,u.w5)((()=>[g])),_:1})])),_:1})])):"idle"==N.courierStatus?((0,u.wg)(),(0,u.iD)("div",y,[(0,u.Wm)(F,{style:{"--background":"var(--ion-color-warning-tint)"},lines:"none"},{default:(0,u.w5)((()=>[(0,u.Wm)(K,null,{default:(0,u.w5)((()=>[(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[h])),_:1}),(0,u.Wm)(E,null,{default:(0,u.w5)((()=>[b])),_:1})])),_:1})])),_:1}),(0,u.Wm)(F,{style:{"--background":"var(--ion-color-warning-tint)"},button:"",lines:"full",onClick:t[6]||(t[6]=l=>A.courierStatusSet("ready"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{src:"./assets/icon/delivery-man.svg",slot:"start"}),(0,u.Wm)(P,{slot:"end"},{default:(0,u.w5)((()=>[v])),_:1})])),_:1})])):"busy"==N.courierStatus?((0,u.wg)(),(0,u.iD)("div",O,[(0,u.Wm)(F,{style:{"--background":"var(--ion-color-warning-tint)"},lines:"none"},{default:(0,u.w5)((()=>[(0,u.Wm)(K,null,{default:(0,u.w5)((()=>[(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[U])),_:1}),(0,u.Wm)(E,null,{default:(0,u.w5)((()=>[I])),_:1})])),_:1})])),_:1}),(0,u.Wm)(F,{style:{"--background":"var(--ion-color-warning-tint)"},button:"",lines:"full"},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{src:"./assets/icon/delivery-man.svg",slot:"start"})])),_:1})])):(0,u.kq)("",!0),"notcourier"==N.courierStatus?((0,u.wg)(),(0,u.iD)("div",C,[(0,u.Wm)(F,{lines:"none"},{default:(0,u.w5)((()=>[(0,u.Wm)(K,null,{default:(0,u.w5)((()=>[(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[S])),_:1}),(0,u.Wm)(E,null,{default:(0,u.w5)((()=>[$])),_:1})])),_:1})])),_:1}),(0,u.Wm)(F,{button:"",lines:"full",onClick:t[7]||(t[7]=t=>l.$router.push("courier-dashboard"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{src:"./assets/icon/delivery-man.svg",slot:"start"}),(0,u.Wm)(P,{slot:"end",color:"light"},{default:(0,u.w5)((()=>[Z])),_:1})])),_:1})])):((0,u.wg)(),(0,u.j4)(F,{key:4,lines:"full",button:"",detail:"",onClick:t[8]||(t[8]=t=>l.$router.push("courier-dashboard"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.documentTextOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[j])),_:1})])),_:1}))])),_:1})):(0,u.kq)("",!0),(0,u.Wm)(Y,null,{default:(0,u.w5)((()=>[(0,u.Wm)(Q,null,{default:(0,u.w5)((()=>[(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[q])),_:1})])),_:1}),(0,u.Wm)(F,{lines:"full",button:"",detail:"",onClick:t[9]||(t[9]=t=>l.$router.push("page-about"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.informationCircleOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[x])),_:1})])),_:1}),(0,u.Wm)(F,{lines:"full",button:"",detail:"",onClick:t[10]||(t[10]=t=>l.$router.push("page-rules"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.informationCircleOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[D])),_:1})])),_:1}),(0,u.Wm)(F,{lines:"full",button:"",detail:"",onClick:t[11]||(t[11]=t=>l.$router.push("page-privacy_policy"))},{default:(0,u.w5)((()=>[(0,u.Wm)(X,{icon:z.informationCircleOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,u.Wm)(H,null,{default:(0,u.w5)((()=>[T])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var N=e(8973),A=e(8903),B=e(351),L=e(9042),H=e(2008),X={components:{IonIcon:N.gu,IonAvatar:N.BJ,IonImg:N.Xz,IonLabel:N.Q$,IonItem:N.Ie,IonThumbnail:N.Bs,IonList:N.q_,IonItemDivider:N.rH,IonItemGroup:N.Ub,IonNote:N.uN,IonText:N.yW,IonButton:N.YG},setup(){return{settingsOutline:A.C$N,logInOutline:A.Ohu,personCircleOutline:A.XMB,exitOutline:A.NmL,locationOutline:A.Iv7,heartOutline:A.gjX,helpCircle:A.pvH,callOutline:A.H7N,mailOutline:A.xOl,cardOutline:A.pvm,cartOutline:A.Ox0,notifications:A.N9d,chevronForwardOutline:A.Dji,documentTextOutline:A.L82,informationCircleOutline:A.yo2}},data(){return{user:H.Z.state.user,courierStatus:B.Z.courier.status}},created(){const l=this;L.Z.on("courierStatusChange",(t=>{l.courierStatus=t}))},computed:{isSignedIn(){return H.Z.state.user.user_id>-1},isAdmin(){return B.Z.isAdmin()}},methods:{async signOut(){await B.Z.signOut(),this.user=await B.Z.get()},async courierStatusSet(l){try{await B.Z.courier.updateStatus(l)}catch(t){409==t.status&&this.$flash("Анкета удалена или не активна")}}},watch:{$route(l,t){l.path!=t.path&&(this.user=H.Z.state.user)},courierStatus(l){"ready"==l||"busy"==l?B.Z.geo.trackingStart():B.Z.geo.trackingStop()}}},G=e(3744);const F=(0,G.Z)(X,[["render",z],["__scopeId","data-v-33f99179"]]);var J=F}}]);
//# sourceMappingURL=314.db196980.js.map