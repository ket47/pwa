"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[222],{6222:function(e,t,l){l.r(t),l.d(t,{default:function(){return I}});var o=l(6252),n=l(3577);const a=(0,o.Uk)("Регистрация нового магазина"),u=(0,o.Uk)("Название магазина или ресторана*"),i=(0,o.Uk)(" Подавая заявку вы даете согласие на условия "),s=(0,o.Uk)("Договор поставки товаров и услуг"),r=(0,o.Uk)("Стать продавцом"),d=(0,o.Uk)("Необходимо зарегистрироваться"),c=(0,o.Uk)(" Чтобы стать продавцом, нужно быть зарегистрированным пользователем. Вы можете зарегистрироваться за 2 минуты. "),p=(0,o.Uk)("Зарегистрироваться"),m=(0,o.Uk)("Зарегистрированые магазины");function f(e,t,l,f,_,w){const k=(0,o.up)("ion-card-title"),h=(0,o.up)("ion-card-header"),g=(0,o.up)("ion-label"),W=(0,o.up)("ion-input"),I=(0,o.up)("ion-item"),C=(0,o.up)("router-link"),b=(0,o.up)("ion-text"),v=(0,o.up)("ion-checkbox"),U=(0,o.up)("ion-button"),$=(0,o.up)("ion-card-content"),y=(0,o.up)("ion-card"),x=(0,o.up)("ion-icon"),G=(0,o.up)("base-layout");return(0,o.wg)(),(0,o.j4)(G,{"page-title":"Панель управления продавца"},{default:(0,o.w5)((()=>{var l;return[e.$heap.state.user.user_id>1?((0,o.wg)(),(0,o.j4)(y,{key:0,color:"light"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[a])),_:1})])),_:1}),(0,o.Wm)($,null,{default:(0,o.w5)((()=>[(0,o.Wm)(I,{lines:"full"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{position:"stacked",color:"primary"},{default:(0,o.w5)((()=>[u])),_:1}),(0,o.Wm)(W,{modelValue:_.store_name,"onUpdate:modelValue":t[0]||(t[0]=e=>_.store_name=e),placeholder:"Название*"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(I,{lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[i,(0,o.Wm)(C,{to:"/page/rules-supplier"},{default:(0,o.w5)((()=>[s])),_:1})])),_:1}),(0,o.Wm)(v,{slot:"end",modelValue:_.contractAccepted,"onUpdate:modelValue":t[1]||(t[1]=e=>_.contractAccepted=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(U,{expand:"block",onClick:t[2]||(t[2]=e=>w.itemCreate()),disabled:!_.contractAccepted||!_.store_name},{default:(0,o.w5)((()=>[r])),_:1},8,["disabled"])])),_:1})])),_:1})):((0,o.wg)(),(0,o.j4)(y,{key:1,color:"light"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[d])),_:1})])),_:1}),(0,o.Wm)($,null,{default:(0,o.w5)((()=>[c,(0,o.Wm)(U,{expand:"block",onClick:t[3]||(t[3]=t=>e.$go("/user/sign-up"))},{default:(0,o.w5)((()=>[p])),_:1})])),_:1})])),_:1})),(null===(l=_.storeList)||void 0===l?void 0:l.length)>0?((0,o.wg)(),(0,o.j4)(y,{key:2,color:"light"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[m])),_:1})])),_:1}),(0,o.Wm)($,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(_.storeList,(t=>((0,o.wg)(),(0,o.j4)(I,{key:t.store_id,detail:"",button:"",onClick:l=>e.$go(`/catalog/store-edit-${t.store_id}`)},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{icon:f.storefrontOutline,slot:"start"},null,8,["icon"]),(0,o.Uk)(" "+(0,n.zw)(t.store_name||t.store_name_new||"- - -"),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):(0,o.kq)("",!0)]})),_:1})}var _=l(5618),w=l(8903),k=(l(9755),l(2008),l(351)),h={components:{IonInput:_.pK,IonCard:_.PM,IonCardHeader:_.Zi,IonCardTitle:_.Dq,IonCardContent:_.FN,IonLabel:_.Q$,IonItem:_.Ie,IonButton:_.YG,IonCheckbox:_.nz,IonText:_.yW,IonIcon:_.gu},setup(){return{storefrontOutline:w.qRG}},data(){return{supprier:k.Z.supplier.status,store_name:null,contractAccepted:0,storeList:null}},mounted(){const e=this;this.listGet(),this.$topic.on("userGet",(function(){e.storeList||e.listGet()}))},methods:{async itemCreate(){try{if(!this.store_name)return void this.$flash("Название обязательно");const e=await k.Z.supplier.storeItemCreate(this.store_name);if(!e)return void this.$flash("Не удалось создать магазин или ресторан");this.$go(`/catalog/store-edit-${e}`)}catch(l){var e,t;const o=null===(e=l.responseJSON)||void 0===e||null===(t=e.messages)||void 0===t?void 0:t.error;"limit_exeeded"==o&&this.$flash("У вас зарегистрировано максимальное количество магазинов"),this.$flash("Не удалось создать магазин или ресторан")}},async listGet(){this.storeList=await k.Z.supplier.listGet()}}},g=l(3744);const W=(0,g.Z)(h,[["render",f],["__scopeId","data-v-6f97a1ac"]]);var I=W}}]);
//# sourceMappingURL=222.4c97de43.js.map