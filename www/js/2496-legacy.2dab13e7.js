"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[2496],{2927:function(e,t,o){o.d(t,{Z:function(){return g}});var r=o(6252),i=o(3577);const s=e=>((0,r.dD)("data-v-0e00b8d4"),e=e(),(0,r.Cn)(),e),l={class:"slide-title"},n=s((()=>(0,r._)("div",{id:"hcat_widget_grid"},null,-1)));function u(e,t,o,s,u,d){const a=(0,r.up)("ion-img"),c=(0,r.up)("ion-thumbnail"),p=(0,r.up)("swiper-slide"),m=(0,r.up)("swiper");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(m,{id:"hcat_widget_grid","slides-per-view":4.5,"space-between":10},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.groupList,(t=>((0,r.wg)(),(0,r.j4)(p,{key:t.group_id,onClick:()=>e.onClick(t.group_id)},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{style:{width:"70px",height:"70px"}},{default:(0,r.w5)((()=>[t.image_hash?((0,r.wg)(),(0,r.j4)(a,{key:0,style:{"border-radius":"10px",border:"1px solid #ddd"},src:`${e.$heap.state.hostname}image/get.php/${t.image_hash}.150.150.webp`},null,8,["src"])):(0,r.kq)("",!0)])),_:2},1024),(0,r._)("div",l,(0,i.zw)(t.group_name),1)])),_:2},1032,["onClick"])))),128))])),_:1},8,["slides-per-view"]),n],64)}var d=o(2066),a=o(3181),c=(0,r.aZ)({components:{IonImg:d.Xz,IonThumbnail:d.Bs,Swiper:a.t,SwiperSlide:a.o},props:["groupList","onClick"]}),p=o(3744);const m=(0,p.Z)(c,[["render",u],["__scopeId","data-v-0e00b8d4"]]);var g=m},4966:function(e,t,o){o.d(t,{Z:function(){return h}});var r=o(6252),i=o(3577);const s={key:0,style:{position:"relative"}},l=["src"],n=["src"];function u(e,t,o,u,d,a){const c=(0,r.up)("ion-icon"),p=(0,r.up)("ion-fab-button"),m=(0,r.up)("ion-fab"),g=(0,r.up)("swiper-slide"),_=(0,r.up)("swiper");return d.expanded?((0,r.wg)(),(0,r.iD)("div",s,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.imageList,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.image_hash,style:{border:"2px solid var(--ion-color-primary)"}},[(0,r._)("img",{src:`${e.$heap.state.hostname}image/get.php/${t.image_hash}.1000.1000.webp`},null,8,l)])))),128)),(0,r.Wm)(m,{horizontal:"end",vertical:"top",slot:"fixed"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{color:"light"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{src:u.contract,size:"large",onClick:t[0]||(t[0]=e=>a.minimize())},null,8,["src"])])),_:1})])),_:1})])):((0,r.wg)(),(0,r.j4)(_,{key:1,modules:u.modules,autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,effect:"fade",style:(0,i.j5)(`height: ${o.imgHeight||"100%"};`)},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.imageList,(t=>((0,r.wg)(),(0,r.j4)(g,{key:t.image_hash},{default:(0,r.w5)((()=>[(0,r._)("div",{class:(0,i.C_)(`${o.mode?o.mode:""} cropper`),style:(0,i.j5)(`height: ${o.imgHeight+"px"||0};`)},[(0,r._)("img",{style:(0,i.j5)(`min-height: ${o.imgHeight+"px;"||0}`),src:`${e.$heap.state.hostname}image/get.php/${t.image_hash}.${4*o.imgHeight||1200}.${4*o.imgHeight||1200}.webp`},null,12,n)],6)])),_:2},1024)))),128))])),_:1},8,["modules","style"]))}var d=o(8903),a=o(2066),c=o(702),p=o(3181),m={components:{Swiper:p.t,SwiperSlide:p.o,IonFab:a.IJ,IonFabButton:a.W4,IonIcon:a.gu},props:["imageList","imgHeight","mode"],setup(){return{modules:[c.pt,c.xW],expand:d.jnR,contract:d.LJB}},data(){return{expanded:!1,vh:0,vw:0}},methods:{maximize(){this.expanded=!0,this.vh=document.getElementsByTagName("ion-content")[0].clientHeight,this.vw=document.getElementsByTagName("ion-content")[0].clientWidth},minimize(){this.expanded=!1,this.vh=document.getElementsByTagName("ion-content")[0].clientHeight,this.vw=document.getElementsByTagName("ion-content")[0].clientWidth}}},g=o(3744);const _=(0,g.Z)(m,[["render",u],["__scopeId","data-v-57ad0950"]]);var h=_},9584:function(e,t,o){o.r(t),o.d(t,{default:function(){return K}});var r=o(6252),i=o(3577);const s=e=>((0,r.dD)("data-v-95f63186"),e=e(),(0,r.Cn)(),e),l={class:"store-info-container"},n={key:0,slot:"start",class:"avatar-container"},u={class:"avatar"},d=["src"],a=(0,r.Uk)("подробнее"),c=(0,r.Uk)("ИНН"),p=(0,r.Uk)("Телефон"),m={style:{"scrollbar-width":"none","overflow-x":"scroll",display:"flex"}},g={key:0,class:"delivery-variant"},_=s((()=>(0,r._)("br",null,null,-1))),h={key:1,class:"delivery-variant"},w=s((()=>(0,r._)("br",null,null,-1))),f={key:2,class:"delivery-variant"},v=(0,r.Uk)("Самовывоз"),y=s((()=>(0,r._)("br",null,null,-1))),k=s((()=>(0,r._)("b",null,"0₽",-1))),I={key:0,class:"group-fixed-block hidden-block"},b=s((()=>(0,r._)("h4",{style:{margin:"8px 16px"}},[(0,r._)("b",null,"Категории")],-1))),S={style:{margin:"0"}},q=(0,r.Uk)("добавить ");function W(e,t,o,s,W,$){var x;const C=(0,r.up)("image-slider-comp"),G=(0,r.up)("ion-text"),P=(0,r.up)("ion-icon"),j=(0,r.up)("ion-item"),z=(0,r.up)("ion-label"),H=(0,r.up)("ion-list"),L=(0,r.up)("ion-accordion"),T=(0,r.up)("ion-accordion-group"),D=(0,r.up)("store-opened-indicator"),Z=(0,r.up)("ion-col"),U=(0,r.up)("ion-chip"),O=(0,r.up)("ion-row"),B=(0,r.up)("ion-grid"),M=(0,r.up)("ion-segment-button"),R=(0,r.up)("ion-segment"),N=(0,r.up)("ion-searchbar"),V=(0,r.up)("group-list"),Y=(0,r.up)("product-list"),A=(0,r.up)("swiper-slide"),K=(0,r.up)("swiper"),E=(0,r.up)("base-layout");return(0,r.wg)(),(0,r.j4)(E,{pageDefaultBackLink:"/catalog","page-class":"store-page",contentOnScroll:$.onScroll,"page-title":null!==(x=this.storeItem.store_name)&&void 0!==x?x:"Магазин"},{default:(0,r.w5)((()=>{var o,x;return[(0,r._)("div",null,[(0,r._)("div",l,[(0,r.Wm)(C,{imageList:W.storeItem.images,imgHeight:300,mode:"crop-to-fit"},null,8,["imageList"]),(0,r.Wm)(H,{class:"store-info"},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{lines:"none"},{default:(0,r.w5)((()=>[W.storeItem.avatarImage?((0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",u,[(0,r._)("img",{src:e.$heap.state.hostname+"image/get.php/"+W.storeItem.avatarImage+".200.200.webp"},null,8,d)])])):(0,r.kq)("",!0),(0,r.Wm)(G,{style:{"font-size":"1.2em"}},{default:(0,r.w5)((()=>[(0,r._)("b",null,(0,i.zw)(W.storeItem.store_name),1)])),_:1}),W.storeItem.is_writable?((0,r.wg)(),(0,r.j4)(P,{key:1,slot:"end",color:"primary",onClick:t[0]||(t[0]=t=>e.$router.push(`/catalog/store-edit-${W.storeItem.store_id}`)),icon:s.settingsOutline,style:{"font-size":"24px"}},null,8,["icon"])):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(T,{style:{width:"100%"}},{default:(0,r.w5)((()=>[(0,r.Wm)(L,null,{default:(0,r.w5)((()=>[(0,r.Wm)(j,{slot:"header",lines:"none"},{default:(0,r.w5)((()=>[W.storeItem.store_description?((0,r.wg)(),(0,r.j4)(G,{key:0,class:"store-description",color:"medium"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(W.storeItem.store_description),1)])),_:1})):((0,r.wg)(),(0,r.j4)(G,{key:1,color:"medium"},{default:(0,r.w5)((()=>[a])),_:1}))])),_:1}),(0,r.Wm)(H,{slot:"content"},{default:(0,r.w5)((()=>[W.storeItem.store_company_name?((0,r.wg)(),(0,r.j4)(j,{key:0,lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(G,null,{default:(0,r.w5)((()=>[(0,r._)("b",null,(0,i.zw)(W.storeItem.store_company_name),1)])),_:1})])),_:1})):(0,r.kq)("",!0),W.storeItem.store_tax_num?((0,r.wg)(),(0,r.j4)(j,{key:1,lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(z,{color:"medium"},{default:(0,r.w5)((()=>[c])),_:1}),(0,r.Wm)(G,{color:"dark"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(W.storeItem.store_tax_num),1)])),_:1})])),_:1})):(0,r.kq)("",!0),W.storeItem.store_phone?((0,r.wg)(),(0,r.j4)(j,{key:2,lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(z,{color:"medium"},{default:(0,r.w5)((()=>[p])),_:1}),(0,r.Wm)(G,{color:"dark"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(W.storeItem.store_phone),1)])),_:1})])),_:1})):(0,r.kq)("",!0),W.storeItem.locations?((0,r.wg)(),(0,r.j4)(j,{key:3,lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(G,{color:"dark"},{default:(0,r.w5)((()=>{var e;return[(0,r.Uk)((0,i.zw)(null===(e=W.storeItem.locations)||void 0===e?void 0:e[0].location_address),1)]})),_:1})])),_:1})):(0,r.kq)("",!0)])),_:1})])),_:1})])),_:1}),(0,r.Wm)(B,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O,{class:"ion-justify-content-between"},{default:(0,r.w5)((()=>[(0,r.Wm)(Z,{size:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(D,{storeItem:W.storeItem},null,8,["storeItem"])])),_:1}),(0,r.Wm)(Z,{size:"auto"},{default:(0,r.w5)((()=>[W.storeItem.store_group_names?((0,r.wg)(),(0,r.j4)(U,{key:0,color:"medium",background:"transparent"},{default:(0,r.w5)((()=>[(0,r._)("label",null,(0,i.zw)(W.storeItem.store_group_names),1)])),_:1})):(0,r.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1}),(0,r._)("div",m,[W.storeItem.delivery_cost>0?((0,r.wg)(),(0,r.iD)("div",g,[(0,r._)("div",null,[(0,r.Wm)(z,null,{default:(0,r.w5)((()=>[(0,r.Uk)("Доставит "+(0,i.zw)(e.$heap.getters.settings.app_title),1)])),_:1}),_,null!==(o=W.storeItem)&&void 0!==o&&null!==(x=o.deliveryTime)&&void 0!==x&&x.timeMin?((0,r.wg)(),(0,r.j4)(G,{key:0},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(W.storeItem.deliveryTime.timeMin)+"-"+(0,i.zw)(W.storeItem.deliveryTime.timeMax)+"мин",1)])),_:1})):(0,r.kq)("",!0)]),(0,r._)("div",null,[W.storeItem.delivery_cost>0?((0,r.wg)(),(0,r.j4)(G,{key:0},{default:(0,r.w5)((()=>[(0,r._)("b",null,(0,i.zw)(W.storeItem.delivery_cost)+"₽",1)])),_:1})):(0,r.kq)("",!0)])])):(0,r.kq)("",!0),W.storeItem.store_delivery_allow?((0,r.wg)(),(0,r.iD)("div",h,[(0,r._)("div",null,[(0,r.Wm)(z,null,{default:(0,r.w5)((()=>[(0,r.Uk)("Доставит "+(0,i.zw)(W.storeItem.member_of_groups.group_names),1)])),_:1}),w]),(0,r._)("div",null,[W.storeItem.delivery_cost>0?((0,r.wg)(),(0,r.j4)(G,{key:0},{default:(0,r.w5)((()=>[(0,r._)("b",null,(0,i.zw)(W.storeItem.store_delivery_cost)+"₽",1)])),_:1})):(0,r.kq)("",!0)])])):(0,r.kq)("",!0),W.storeItem.store_pickup_allow?((0,r.wg)(),(0,r.iD)("div",f,[(0,r._)("div",null,[(0,r.Wm)(z,null,{default:(0,r.w5)((()=>[v])),_:1}),y]),(0,r._)("div",null,[(0,r.Wm)(G,null,{default:(0,r.w5)((()=>[k])),_:1})])])):(0,r.kq)("",!0)])]),W.storeGroups?((0,r.wg)(),(0,r.iD)("div",I,[(0,r.Wm)(R,{modelValue:W.groupSelectedParentId,"onUpdate:modelValue":t[1]||(t[1]=e=>W.groupSelectedParentId=e),scrollable:"",style:{"scrollbar-width":"none"},class:"groups-container"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(W.storeGroups,(e=>((0,r.wg)(),(0,r.j4)(M,{key:e.group_id,value:e.group_id,onClick:t=>$.groupSelectParent(e.group_id,1),ref_for:!0,ref:"group-tab-"+e.group_id},{default:(0,r.w5)((()=>[(0,r.Wm)(z,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.group_name),1)])),_:2},1024)])),_:2},1032,["value","onClick"])))),128))])),_:1},8,["modelValue"])])):(0,r.kq)("",!0),(0,r.Wm)(N,{class:"search-container",modelValue:W.searchRequest,"onUpdate:modelValue":t[2]||(t[2]=e=>W.searchRequest=e),placeholder:"Поиск у этого продавца",onInput:t[3]||(t[3]=e=>$.productListGet({name_query:e.target.value,name_query_fields:"product_name,product_code"}))},null,8,["modelValue"]),b,W.storeGroups?((0,r.wg)(),(0,r.j4)(V,{key:1,groupList:W.storeGroups,onClick:e=>{$.groupSelectParent(e,!0)}},null,8,["groupList","onClick"])):(0,r.kq)("",!0),W.storeGroups?((0,r.wg)(),(0,r.j4)(K,{key:2,pager:"true",initialSlide:0,speed:400,watchSlidesProgress:!1,grabCursor:!0,touchStartForcePreventDefault:!0,slidesPerView:1.1,pagination:!1,centeredSlides:!1,class:"product-list-slider",onSlideChange:t[4]||(t[4]=e=>$.groupSliderChanged(e))},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(W.storeGroups,(e=>((0,r.wg)(),(0,r.j4)(A,{key:e.group_id},{default:(0,r.w5)((()=>[(0,r.Wm)(B,{class:"product-list"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.children,(e=>((0,r.wg)(),(0,r.j4)(O,{key:e.group_id,ref_for:!0,ref:"group-"+e.group_id,"data-group_id":e.group_id},{default:(0,r.w5)((()=>[(0,r.Wm)(Z,{class:"group-title",size:"12"},{default:(0,r.w5)((()=>[(0,r._)("h5",S,[(0,r.Uk)((0,i.zw)(e.group_name)+" ",1),1==W.storeItem.is_writable?((0,r.wg)(),(0,r.j4)(U,{key:0,onClick:t=>$.productItemCreate(e.group_id)},{default:(0,r.w5)((()=>[(0,r.Wm)(P,{src:s.addOutline},null,8,["src"]),q])),_:2},1032,["onClick"])):(0,r.kq)("",!0)])])),_:2},1024),(0,r.Wm)(Z,{size:"12"},{default:(0,r.w5)((()=>[(0,r.Wm)(Y,{productList:W.storeProducts[e.group_id]},null,8,["productList"])])),_:2},1024)])),_:2},1032,["data-group_id"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["slidesPerView"])):(0,r.kq)("",!0)])]})),_:1},8,["contentOnScroll","page-title"])}var $=o(8534),x=(o(3948),o(4747),o(2066)),C=o(702),G=o(3181),P=o(8903),j=o(4966),z=o(2927);const H={class:"product_list_widget_grid"};function L(e,t,o,i,s,l){const n=(0,r.up)("product-item");return(0,r.wg)(),(0,r.iD)("div",H,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.productList,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.product_id},[(0,r.Wm)(n,{productItem:e},null,8,["productItem"])])))),128))])}var T=o(8336),D={props:["productList"],components:{ProductItem:T.Z}},Z=o(3744);const U=(0,Z.Z)(D,[["render",L],["__scopeId","data-v-fcf4f40a"]]);var O=U,B=o(6181),M=o(9755),R=o.n(M),N=o(2008),V=o(4405),Y={components:{IonText:x.yW,IonCol:x.wI,IonIcon:x.gu,IonRow:x.Nd,IonGrid:x.jY,IonLabel:x.Q$,IonSegmentButton:x.GO,IonSegment:x.cJ,IonChip:x.hM,IonSearchbar:x.VI,IonAccordion:x.We,IonAccordionGroup:x.eh,IonList:x.q_,IonItem:x.Ie,ImageSliderComp:j.Z,StoreOpenedIndicator:B.Z,Swiper:G.t,SwiperSlide:G.o,GroupList:z.Z,ProductList:O},setup(){return{search:P.yC4,settingsOutline:P.C$N,rocketOutline:P.G$D,compassOutline:P.gmD,addOutline:P.s6O,slideModules:[C.pt]}},data(){return{storeId:this.$route.params.id,query:this.$route.query,searchRequest:"",storeItem:[],storeProducts:{},storeGroups:null,groupSelectedParentId:-1,sliderMaxHeight:500,offsetModificator:150,can_reload_at:0}},methods:{itemGet(){var e=this;return(0,$.Z)((function*(){const t=Date.now();if(!(e.can_reload_at>t)){e.can_reload_at=t+1e4;try{const t=yield R().post(`${N.Z.state.hostname}Store/itemGet`,{store_id:e.storeId,distance_include:1});e.storeItem=e.itemPrepare(t),e.storeId=t.store_id,e.groupTreeGet({store_id:e.storeId}),N.Z.commit("setCurrentStore",e.storeItem)}catch(i){var o,r;const t=null===i||void 0===i||null===(o=i.responseJSON)||void 0===o||null===(r=o.messages)||void 0===r?void 0:r.error;switch(t){case"notfound":e.$flash("Продавец не найден"),e.$router.push("/catalog");break}return!1}}}))()},itemPrepare(e){var t;return e.member_of_groups.group_names&&(e.store_group_names=e.member_of_groups.group_names),e.deliveryTime={},null!==(t=e.locations[0])&&void 0!==t&&t.distance&&(e.deliveryTime=V.Z.deliveryTimeCalculate(e.locations[0].distance,e.store_time_preparation)),e.avatarImage="",e.avatar.length>0&&(e.avatarImage=e.avatar[0].image_hash),e},productListGet(e={}){var t=this;return(0,$.Z)((function*(){if(e.store_id=t.storeId,e.is_active=1,e.name_query&&""==e.name_query)return void t.groupTreeGet({store_id:t.storeId});e.limit=200;let o={};try{o=yield R().post(N.Z.state.hostname+"Product/listGet",e)}catch(i){}t.productListPrepare(o.product_list),t.groupOtherAdd();let r=t;setTimeout((()=>{r.groupSelect()}),0)}))()},productListPrepare(e){let t=1;for(var o of(this.storeProducts={},e)){var r,i,s,l;if(this.storeGroups)if(!this.storeProducts[null!==(i=o.group_id)&&void 0!==i?i:0])this.storeProducts[null!==(s=o.group_id)&&void 0!==s?s:0]=[],this.storeProducts[null!==(l=o.group_id)&&void 0!==l?l:0].category_order=t++;this.storeProducts[null!==(r=o.group_id)&&void 0!==r?r:0].push(o)}},productItemCreate(e){var t=this;return(0,$.Z)((function*(){try{const o={store_id:t.storeId,product_name:"Новый товар",product_price:1e3,product_promo_price:1e3},r=yield R().post(`${N.Z.state.hostname}Product/itemCreate`,o);e&&(yield R().post(`${N.Z.state.hostname}Product/itemUpdateGroup`,{product_id:r,group_id:e,is_joined:1})),t.$router.push(`/catalog/product-edit-${r}`),t.$flash("Добавлен 'Новый товар'")}catch(o){t.$flash("Не удалось создать товар")}}))()},groupTreeGet(e){var t=this;return(0,$.Z)((function*(){try{const o=yield R().get(`${N.Z.state.hostname}Product/groupTreeGet`,{store_id:e.store_id});let r=[];for(let e in o)r[o[e].order]=o[e];t.storeGroups=r,t.productListGet()}catch(o){}}))()},groupOtherAdd(){this.storeProducts[0]&&(this.storeGroups[0]={group_id:"other",group_name:"Другое",image_hash:"",children:{0:{group_id:0,group_name:"другое",group_parent_id:0,group_path:"",image_hash:""}}})},groupSelect(){let e=this.query.parent_group_id,t=this.query.sub_group_id;if(t)e:for(let i in this.storeGroups)for(let o in this.storeGroups[i].children)if(o==t){e=i;break e}var o;e||(e=null===(o=this.storeGroups[0])||void 0===o?void 0:o.group_id);const r=!1;if(this.groupSelectParent(e,r),t){const e=this;setTimeout((()=>{e.groupSelectSub(t)}),0)}},groupSelectParent(e,t=!1){if(this.groupSelectedParentId==e||!document.querySelector(".product-list-slider"))return;this.groupSelectedParentId=e;const o=document.querySelector(".product-list-slider").swiper,r=this.storeGroups.findIndex((t=>t.group_id==e));r>=0&&(o.slideTo(r,100,!1),this.groupSliderAdjustHeight())},groupSelectSub(e){this.groupSelectedSubId,this.groupSelectedSubId=e,document.querySelectorAll(".groups-container ion-chip").forEach((e=>{e.classList.remove("active-chip")}));try{this.$refs[`group-chip-${e}`][0].$el.classList.add("active-chip")}catch(t){}this.scrollTo(e)},groupSliderChanged(e){const t=e.activeIndex,o=this.storeGroups[t].group_id;this.groupSelectParent(o,1)},groupSliderAdjustHeight(){var e;const t=null===(e=document.querySelector(".product-list-slider .swiper-slide.swiper-slide-active"))||void 0===e?void 0:e.scrollHeight;document.querySelector(".product-list-slider.swiper").style.maxHeight=t>0?t+"px":""},scrollTo(e){var t,o;if(null===(t=this.$refs["group-"+e])||void 0===t||!t[0])return;const r=document.querySelector("ion-content.store-page").shadowRoot.querySelector("main").scrollTop,i=this.$refs["group-"+e][0].$el.getBoundingClientRect().top;var s=r+i-this.offsetModificator-window.innerHeight/4,l=Object.keys(null===(o=this.storeGroups[this.groupSelectedParentId])||void 0===o?void 0:o.children)[0]||0;l==e&&(s=r+i-this.offsetModificator),document.querySelector("ion-content.store-page").shadowRoot.querySelector("main").scrollTo({top:s,behavior:"smooth"})},onScroll(e){var t,o;const r=null===(t=document.querySelector(".product-list-slider"))||void 0===t?void 0:t.offsetTop,i=null===(o=document.querySelector(".group-fixed-block"))||void 0===o?void 0:o.offsetHeight;r-i-100<e.detail.scrollTop?document.querySelector(".group-fixed-block")&&(document.querySelector(".group-fixed-block").className="group-fixed-block"):document.querySelector(".group-fixed-block")&&(document.querySelector(".group-fixed-block").className="group-fixed-block hidden-block");var s=document.querySelectorAll(".swiper-slide-active .product-list ion-row");for(var l of s)if(l.getBoundingClientRect().top-this.offsetModificator<=window.innerHeight-window.innerHeight/4&&l.getBoundingClientRect().bottom+this.offsetModificator>=window.innerHeight-window.innerHeight/4&&l.dataset.group_id)break}},mounted(){this.query=this.$route.query,this.itemGet()},watch:{$route(e){this.storeId=e.params.id}}};const A=(0,Z.Z)(Y,[["render",W],["__scopeId","data-v-95f63186"]]);var K=A}}]);
//# sourceMappingURL=2496-legacy.2dab13e7.js.map