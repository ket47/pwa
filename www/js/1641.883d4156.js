"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[1641],{1641:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var i=o(6252);function n(e,t,o,n,r,s){const a=(0,i.up)("ckeditor"),l=(0,i.up)("ion-button"),d=(0,i.up)("ion-col"),u=(0,i.up)("ion-row"),c=(0,i.up)("ion-grid"),m=(0,i.up)("base-layout");return(0,i.wg)(),(0,i.j4)(m,{pageTitle:`Условия доставки ${r.store.store_name}`,pageDefaultBackLink:`/catalog/store-edit-${r.store_id}`},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{editor:r.editor,modelValue:r.store.store_delivery_methods,"onUpdate:modelValue":t[0]||(t[0]=e=>r.store.store_delivery_methods=e),config:r.editorConfig},null,8,["editor","modelValue","config"]),(0,i.Wm)(c,{style:{width:"100%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{style:{"text-align":"right"}},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{onClick:t[1]||(t[1]=e=>s.itemDelete()),color:"danger",fill:"outline",expand:"block"},{default:(0,i.w5)((()=>[(0,i.Uk)("Удалить")])),_:1})])),_:1}),(0,i.Wm)(d,{style:{"text-align":"right"}},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{onClick:t[2]||(t[2]=e=>s.itemUpdate()),expand:"block"},{default:(0,i.w5)((()=>[(0,i.Uk)("Сохранить")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["pageTitle","pageDefaultBackLink"])}o(8862);var r=o(4e3),s=o.n(r),a=o(5234),l=o.n(a),d=(o(7825),o(8903)),u=o(4929),c=o(9755),m=o.n(c),h={components:{IonLabel:u.Q$,IonIcon:u.gu,IonList:u.q_,IonItem:u.Ie,IonInput:u.pK,IonButton:u.YG,IonGrid:u.jY,IonRow:u.Nd,IonCol:u.wI,ckeditor:s().component},setup(){return{documentTextOutline:d.L82,codeOutline:d.Zpo,bookmarkOutline:d.eZy}},data(){var e;return{store_id:null!==(e=this.$route.params.id)&&void 0!==e?e:0,store:{},editor:l(),editorConfig:{language:"ru",toolbar:["heading","|","bold","italic","numberedList","bulletedList"]}}},mounted(){this.itemGet()},methods:{async itemGet(){const e={store_id:this.store_id};try{this.store=await m().post(`${this.$heap.state.hostname}Store/itemGet`,e)}catch{}},async itemUpdate(){const e=3e3;this.store.store_delivery_methods.length>e&&alert(`Текст слишком длинный. Сохранится только первые ${e} символов`);const t={store_id:this.store_id,store_delivery_methods:this.store.store_delivery_methods};try{await m().post(`${this.$heap.state.hostname}Store/itemUpdate`,JSON.stringify(t)),this.$flash("Сохранено")}catch{}},async itemDelete(){confirm("Удалить условия доставки?")&&(this.store.store_delivery_methods="",this.itemUpdate())}}},p=o(3744);const _=(0,p.Z)(h,[["render",n]]);var f=_}}]);
//# sourceMappingURL=1641.883d4156.js.map