{"version":3,"file":"js/4084.21dbae22.js","mappings":"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","sources":["webpack://Tezkel/./src/views/UserAuthorize.vue","webpack://Tezkel/./src/views/UserAuthorize.vue?16ea"],"sourcesContent":["<style scoped>\n  .vspace{\n    height: 15px;\n  }\n  h4,p{\n    -text-align:center;\n  }\n  ion-breadcrumb{\n    font-size:0.9em\n  }\n</style>\n<template>\n  <base-layout page-title=\"Вход в профиль\" pageDefaultBackLink=\"/user\">\n    \n\n    <form novalidate onsubmit=\"return false\">\n    <div style=\"display:grid;grid-template-columns:auto minmax(330px,400px) auto;width:100%;min-height:80vh\">\n      <div></div>\n      <!--PHONE ENTRY SCREEN-->\n      <section v-if=\"screen=='enter_phone'\" class=\"ion-padding\">\n        <h4>Введите номер телефона</h4>\n        <p style=\"color:var(--ion-color-medium);font-size:0.9em;\">\n          Для входа в профиль или регистрации\n        </p>\n\n        <div class=\"vspace\"></div>\n        <ion-input \n          ref=\"uphone\"\n          fill=\"outline\" \n          mode=\"md\"\n          placeholder=\"7 (XXX) XXX XX XX\"\n          name=\"phone\"\n          type=\"tel\"\n          inputmode=\"tel\"\n          autocomplete=\"tel-national\"\n          v-model=\"user_phone\"\n          @ionInput=\"phoneFormat($event)\"\n          label=\"Номер телефона\"\n          label-placement=\"stacked\"\n        ></ion-input>\n\n        <div class=\"vspace\"></div>\n        <ion-text color=\"danger\" v-show=\"!phoneIsValid && phoneSubmitted == 1\">\n          Проверьте номер телефона\n        </ion-text>\n        <ion-button v-if=\"phoneIsValid\" @click=\"phoneSubmit\" expand=\"block\">Продолжить</ion-button>\n        <ion-button v-else @click=\"$refs.uphone.$el.setFocus()\" expand=\"block\" color=\"light\">Заполнить номер</ion-button>\n\n        <div class=\"vspace\"></div>\n        <ion-text  color=\"medium\" style=\"text-align:center;color:var(--ion-color-medium);font-size:0.7em;\">\n          Нажатием кнопки Продолжить, вы соглашаетесь с <b @click=\"$go('/page/rules-customer')\"><u>Правилами пользования</u></b> и <b @click=\"$go('/page/privacy_policy')\"><u>Политикой конфиденциальности</u></b>\n        </ion-text>\n      </section>\n\n\n      <!--PASS ENTRY SCREEN-->\n      <section v-if=\"screen=='enter_pass'\" class=\"ion-padding\">\n        <h4>Введите пароль</h4>\n        <p style=\"color:var(--ion-color-medium);font-size:0.9em;\">\n          Если вы не знаете пароль, войдите с помошью смс кода.\n        </p>\n        <ion-input \n          ref=\"uphone\"\n          fill=\"outline\" \n          mode=\"md\"\n          placeholder=\"7 (XXX) XXX XX XX\"\n          name=\"phone\"\n          type=\"tel\"\n          inputmode=\"tel\"\n          autocomplete=\"tel-national\"\n          v-model=\"user_phone\"\n          @ionInput=\"phoneFormat($event)\"\n          label=\"Номер телефона\"\n          label-placement=\"stacked\"\n        ></ion-input>\n\n        <div class=\"vspace\"></div>\n        <ion-input\n          ref=\"upass\"\n          fill=\"outline\" \n          mode=\"md\"\n          v-model=\"user_pass\"\n          name=\"password\" \n          type=\"password\"\n          required\n          label=\"Пароль\"\n          label-placement=\"stacked\"\n        ></ion-input>\n\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"passSubmit\" expand=\"block\" :disabled=\"!passwordIsValid\">Вход</ion-button>\n\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"codeSend\" expand=\"block\" color=\"success\"><ion-icon :src=\"chatboxEllipsesOutline\" slot=\"start\"/>Войти СМС кодом</ion-button>\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"screen='enter_phone'\" expand=\"block\" fill=\"clear\" color=\"medium\">Изменить номер телефона</ion-button>\n      </section>\n\n\n      <!--CODE ENTRY SCREEN-->\n      <section v-if=\"screen=='enter_code'\" class=\"ion-padding\">\n        <h4>Введите код из смс</h4>\n        <p style=\"color:var(--ion-color-medium);font-size:0.9em;\">\n          Смс с кодом подтверждения отправлен на телефон\n        </p>\n        <p style=\"color:var(--ion-color-medium);\">\n           <b>{{user_phone}}</b>\n        </p>\n\n        <div class=\"vspace\"></div>\n        <ion-input\n          ref=\"ucode\"\n          fill=\"outline\" \n          mode=\"md\"\n          v-model=\"codeValue\"\n          type=\"numeric\"\n          inputmode=\"numeric\"\n          maxlength=\"4\"\n          pattern=\"\\d{4}\"\n          placeholder=\"- - - -\"\n          enterkeyhint=\"go\"\n          required\n          autocomplete=\"one-time-code\"\n          label=\"Код подтверждения из смс\"\n          label-placement=\"stacked\"\n          @ionInput=\"codeSubmit($event)\"\n        ></ion-input>\n\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"codeSubmit()\" expand=\"block\" :disabled=\"!codeIsValid\">Продолжить</ion-button>\n\n        <div class=\"vspace\"></div>\n        <ion-item v-if=\"codeResendTime>0\" lines=\"none\">\n          Вы получите код в течение {{codeArriveAt}}\n        </ion-item>\n        <ion-item v-else lines=\"none\">\n          Смс с кодом не пришла? <ion-chip slot=\"end\" @click=\"codeSend\" color=\"primary\">Послать еще раз</ion-chip>\n        </ion-item>\n      </section>\n\n      <!--USER CREATE PASS-->\n      <section v-if=\"screen=='enter_createpass'\" class=\"ion-padding\">\n        <h4>Пароль</h4>\n        <p style=\"color:var(--ion-color-medium);font-size:0.9em;\">\n          Вы можете установить пароль, что позволит входить в систему без получения кода подтверждения на телефон\n        </p>\n\n        <div class=\"vspace\"></div>\n        <ion-list>\n          <ion-item lines=\"none\">\n            <ion-icon slot=\"start\" :src=\"keyOutline\"/>\n            <ion-checkbox v-model=\"registerWithPass\" value=\"1\">Создать пароль</ion-checkbox>\n          </ion-item>\n          <ion-item v-if=\"registerWithPass\" lines=\"none\">\n            <ion-input\n              v-model=\"user_pass\"\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"напишите пароль\"\n              required\n              label=\"Пароль\"\n              label-placement=\"stacked\"\n            ></ion-input>\n          </ion-item>\n          <ion-item v-if=\"registerWithPass && user_pass\">\n            <ion-input\n              v-model=\"user_pass_confirm\"\n              type=\"password\"\n              placeholder=\"напишите повтор\"\n              required\n              label=\"Пароль повтор\"\n              label-placement=\"stacked\"\n            ></ion-input>\n          </ion-item>\n          <p v-if=\"user_pass && user_pass!=user_pass_confirm\" class=\"ion-padding\">\n            Пароли должны совпадать\n          </p>\n\n        </ion-list>\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"userformOpen()\" expand=\"block\" v-if=\"user_pass\">Продолжить</ion-button>\n\n        <ion-button @click=\"userformOpen()\" expand=\"block\" v-if=\"!user_pass\">Пропустить</ion-button>\n        <p style=\"color:var(--ion-color-medium);font-size:0.9em;text-align:center\" v-if=\"!user_pass\">\n          Вы зарегистрируетесь без пароля\n        </p>\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"screen='enter_phone'\" expand=\"block\" fill=\"clear\" color=\"medium\">Изменить номер телефона</ion-button>\n      </section>\n\n      <!--USER DATA-->\n      <section v-if=\"screen=='enter_data'\" class=\"ion-padding\">\n        <h4>Анкета пользователя</h4>\n        <div class=\"vspace\"></div>\n        <ion-list>\n          <ion-item>\n            <ion-input\n              v-model=\"user_name\"\n              placeholder=\"напишите имя\"\n              required\n              label=\"Как к вам обращаться *\"\n              label-placement=\"stacked\"\n              ref=\"uname\"\n            ></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-input\n              v-model=\"user_email\"\n              type=\"email\"\n              placeholder=\"\"\n              required\n              label=\"Электронная почта (желательно заполнить)\"\n              label-placement=\"stacked\"\n            ></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-input\n              v-model=\"user_birthday\"\n              type=\"date\"\n              placeholder=\"\"\n              required\n              label=\"День рождения (желательно заполнить)\"\n              label-placement=\"stacked\"\n            ></ion-input>\n          </ion-item>\n        </ion-list>\n\n        <h4>Ваш аватар</h4>\n        <ion-segment mode=\"ios\" v-model=\"user_avatar_name\">\n          <ion-segment-button value=\"man\">\n            <ion-avatar><img :src=\"$heap.state.hostname+'img/avatar/man.png'\" /></ion-avatar>\n          </ion-segment-button>\n          <ion-segment-button value=\"woman\">\n            <ion-avatar><img :src=\"$heap.state.hostname+'img/avatar/woman.png'\" /></ion-avatar>\n          </ion-segment-button>\n        </ion-segment>\n<!--\n        <h4>Код из смс</h4>\n        <div class=\"vspace\"></div>\n        <ion-item>\n          <ion-input\n            ref=\"ucode\"\n            v-model=\"codeValue\"\n            type=\"numeric\"\n            inputmode=\"numeric\"\n            maxlength=\"4\"\n            pattern=\"\\d{4}\"\n            placeholder=\"- - - -\"\n            enterkeyhint=\"go\"\n            required\n            autocomplete=\"one-time-code\"\n            label=\"Код подтверждения из смс*\"\n            label-placement=\"stacked\"\n          ></ion-input>\n        </ion-item>\n        <div class=\"vspace\"></div>\n        <ion-item v-if=\"codeResendTime>0\" lines=\"none\">\n          Вы получите код в течение {{codeArriveAt}}\n        </ion-item>\n        <ion-item v-else lines=\"none\">\n          Смс с кодом не пришла? <ion-chip slot=\"end\" @click=\"phoneSubmit\" color=\"primary\">Послать еще раз</ion-chip>\n        </ion-item>\n-->\n\n\n        <div class=\"vspace\"></div>\n        <ion-button @click=\"registrationSubmit\" expand=\"block\" v-if=\"user_name\">Готово</ion-button>\n        <ion-button  @click=\"$refs.uname.$el.setFocus()\" expand=\"block\" v-else color=\"light\">Заполнить имя</ion-button>\n        <div class=\"vspace\"></div>\n      </section>\n\n\n\n      \n      <div></div>\n    </div>\n    </form>\n  </base-layout>\n</template>\n\n<script>\nimport { \n  IonText,\n  IonButton,\n  IonItem,\n  IonList,\n  IonInput,\n  IonCheckbox,\n  IonSegment,\n  IonSegmentButton,\n  IonAvatar,\n  IonIcon,\n  IonChip,\n}                               from '@ionic/vue';\nimport jQuery                   from 'jquery'\nimport User                     from '@/scripts/User.js'\n\n\n\nimport { \n  giftOutline,\n  personOutline,\n  keyOutline,\n  atOutline,\n  chatboxEllipsesOutline,\n}                         from \"ionicons/icons\";\n\nexport default{\n  components:{\n  IonText,\n  IonButton,\n  IonItem,\n  IonList,\n  IonInput,\n  IonCheckbox,\n  IonSegment,\n  IonSegmentButton,\n  IonAvatar,\n  IonIcon,\n  IonChip,\n  },\n  setup(){\n    return {\n      giftOutline,\n      personOutline,\n      keyOutline,\n      atOutline,\n      chatboxEllipsesOutline,\n    }\n  },\n  data(){\n    return {\n      user_phone:'',\n      user_name:null,\n      user_email:null,\n      user_avatar_name:'man',\n      user_birthday:null,\n      user_pass:null,\n      user_pass_confirm:null,\n\n      screen:'enter_phone',\n      codeValue:null,\n      passValue:null,\n      codeResendTime:0,\n      phoneSubmitted:0,\n      signinOptions:{},\n      registerWithPass:0,\n    }\n  },\n  computed: {\n    phoneIsValid() {\n      return this.user_phone?.replace(/\\D/g,\"\").length == 11;\n    },\n    passwordIsValid() {\n      return this.user_pass?.length >= 4;\n    },\n    codeIsValid(){\n      return this.codeValue?.replace(/\\D/g,\"\").length == 4;\n    },\n    codeArriveAt(){\n      const min=Math.floor(this.codeResendTime/60);\n      const sec=this.codeResendTime-60*min;\n      return (min>0?`${min} мин `:'') + (`${sec} сек`)\n    },\n\n  },\n  methods:{\n    phoneFormat(ev){\n      const value = ev.target?.value\n      let filteredValue = value.replace(/[^0-9]+/g, '') || ''\n      if(filteredValue.substring(0,1)!='7'){\n        filteredValue='7'+filteredValue\n      }\n      if(filteredValue.length>11){\n        filteredValue=filteredValue.substring(filteredValue.length-11)\n      }\n      setTimeout(()=>{\n        this.user_phone=filteredValue\n      },50)\n    },\n    async phoneSubmit(){\n      this.phoneSubmitted=1\n      if( !this.phoneIsValid ){\n        return false\n      }\n      const request={\n        user_phone:this.user_phone\n      }\n      try{\n        this.signinOptions=await jQuery.post( `${this.$heap.state.hostname}User/signInOptionsGet`, request)\n        if( this.signinOptions.is_signedin==1 ){\n          this.$flash(\"Вы вошли в профиль\");\n          this.$router.go(-1);\n          return\n        }\n        if( this.signinOptions.is_deleted==1 ){\n          this.$flash(\"Ваш профиль удален\");\n          return\n        }\n        if( this.signinOptions.is_disabled==1 ){\n          this.$flash(\"Ваш профиль заблокирован\");\n          return\n        }\n        if( this.signinOptions.by_pass==1 ){\n          this.screen='enter_pass'\n          setTimeout(()=>{\n            this.$refs.upass.$el.setFocus()\n          },100)\n          return\n        }\n        if( this.signinOptions.by_code==1 ){\n          this.codeSend()\n          return\n        }\n      } catch(err){\n        const exception_code=err?.responseJSON?.messages?.error;\n        switch(exception_code){\n            case 'notfound'://new user\n              /**\n               * This is a new User. So confirm its phone number, then collect data\n               */\n              this.signinOptions={is_newuser:1}\n              this.codeSend()\n              break;\n            default:\n              this.$flash(\"Не удалось отправить код\")\n              break;\n        }\n      }\n    },\n\n    async passSubmit() {\n      this.submitted = true;\n      if(!this.phoneIsValid || !this.passwordIsValid){\n        return false;\n      }\n      let request = {\n        user_phone: this.user_phone,\n        user_pass: this.user_pass,\n        user_pass_confirm: this.user_pass\n      }\n      try{\n        await jQuery.post( `${this.$heap.state.hostname}User/signIn`, request)\n        const user=await User.get();\n        this.$flash(`Добро пожаловать ${user.user_name}`)\n        this.$router.go(-1)\n      } catch(err){\n        const exception_code=err?.responseJSON?.messages?.error\n        switch(exception_code){\n          case 'user_not_found':\n            this.$flash(\"Пользователь не найден. Пройдите регистрацию.\");\n            break;\n          case 'user_pass_wrong':\n            this.$flash(\"Неверный пароль\");\n            break;\n          case 'user_code_wrong':\n            this.$flash(\"Неверный код подтверждения\");\n            break;\n          case 'user_is_disabled':\n            this.$flash(\"Пользователь отключен. Обратитесь к администратору\");\n            break;\n          case 'user_is_deleted':\n            this.$flash(\"Пользователь удален. Обратитесь к администратору\");\n            break;\n          case 'user_phone_unverified':\n            this.$flash(\"Номер телефона не подтвержден\");\n            this.codeSend();\n            break;\n          default:\n            this.$flash(\"Не удалось войти в профиль\");\n        }\n      }\n    },\n    \n    async codeSend(){\n      this.phoneSubmitted=1\n      if( !this.phoneIsValid ){\n        return false\n      }\n      const request={\n        user_phone:this.user_phone\n      }\n      try{\n        this.screen='enter_code'\n        await jQuery.post( `${this.$heap.state.hostname}User/phoneVerificationSend`, request)\n        this.codeCapture()\n        this.codeClockTick(120)\n        this.$refs.ucode.$el.setFocus()\n      } catch(err){\n        const exception_code=err?.responseJSON?.messages?.error;\n        switch(exception_code){\n            case 'verification_target_invalid':\n              this.$flash(\"Неверный формат номера телефона\")\n              break;\n            case 'verification_already_sent':\n              this.$flash(\"Код уже послан\")\n              break;\n            default:\n              this.$flash(\"Не удалось отправить код\")\n              break;\n        }\n      }\n    },\n\n    async codeCapture(){\n      if( navigator.credentials ){\n        try{\n          const otp=await navigator.credentials.get({\n            otp: {transport:[\"sms\"]}\n          })\n          this.codeValue = otp.code\n          this.codeSubmit()\n        } catch (err){/** */}\n      }\n    },\n\n    codeClockTick( timeLeft ){\n      if(timeLeft<0){\n        return\n      }\n      this.codeResendTime=timeLeft\n      setTimeout(()=>this.codeClockTick(this.codeResendTime-1),1000)\n    },\n\n    async codeSubmit( ev ) {\n      if( ev ){\n        this.codeValue = ev.target?.value\n      }\n      if(!this.phoneIsValid || !this.codeIsValid){\n        return false;\n      }\n        /**\n         * User can't sign in by code\n         * Perhaps he is not signed up yet\n         */\n      if( this.signinOptions.is_newuser==1 || this.signinOptions.by_code!=1 ){\n        this.codeVerify()\n        return\n      }\n      this.codeSignIn()\n    },\n\n    async codeVerify(){\n      try{\n        const request={\n          verification_type:'phone',\n          verification_target:this.user_phone,\n          verification_value:this.codeValue,\n        }\n        await jQuery.post( `${this.$heap.state.hostname}User/verificationCheck`, request)\n        this.screen='enter_createpass'\n      } catch(err){\n        const exception_code=err?.responseJSON?.messages?.error;\n        switch(exception_code){\n            default:\n              this.$flash(\"Не верный код подтверждения\")\n              break;\n        }\n      }\n    },\n\n    async codeSignIn(){\n      let request = {\n        user_phone: this.user_phone,\n        user_ota_code: this.codeValue,\n      }\n      try{\n        await jQuery.post( `${this.$heap.state.hostname}User/signInByCode`, request)\n        const user=await User.get();\n        this.$flash(`Добро пожаловать ${user.user_name}`)\n        this.$router.go(-1);\n      } catch(err){\n        const exception_code=err?.responseJSON?.messages?.error\n        switch(exception_code){\n          case 'user_not_found':\n            this.$flash(\"Пользователь не найден. Пройдите регистрацию.\");\n            break;\n          case 'user_pass_wrong':\n            this.$flash(\"Неверный пароль\");\n            break;\n          case 'user_code_wrong':\n            this.$flash(\"Не верный код подтверждения\");\n            break;\n          case 'user_is_disabled':\n            this.$flash(\"Пользователь отключен. Обратитесь к администратору\");\n            break;\n          case 'user_is_deleted':\n            this.$flash(\"Пользователь удален. Обратитесь к администратору\");\n            break;\n          case 'user_phone_unverified':\n            this.$flash(\"Номер телефона не подтвержден\");\n            this.codeSend();\n            break;\n          default:\n            this.$flash(\"Не удалось войти в профиль\");\n        }\n      }\n\n    },\n    async userformOpen(){\n      this.phoneSubmitted=1\n      if( !this.phoneIsValid ){\n        return false\n      }\n      this.screen='enter_data'\n      setTimeout(()=>{\n        this.$refs.uname && this.$refs.uname.$el.setFocus()\n      },100)\n    },\n    async registrationSubmit(){\n      if(!this.user_name){\n        this.$flash(\"Имя не должно быть пустым\")\n        return \n      }\n      try{\n        const request={\n          user_phone:this.user_phone,\n          user_name:this.user_name,\n          user_birthday:this.user_birthday||null,\n          user_avatar_name:this.user_avatar_name,\n\n          user_email:this.user_email,\n          user_pass:this.user_pass,\n          user_pass_confirm:this.user_pass_confirm,\n          user_ota_code:this.codeValue,\n\n          inviter_user_id: localStorage.inviter_user_id ?? 0,\n          /**\n           * @todo handle this\n           */\n          metric_id:0,//\n        }\n        const response=await jQuery.post( `${this.$heap.state.hostname}User/signUp`, request)\n        const user=await User.get();\n        this.$flash(`Добро пожаловать ${user.user_name}`)\n        this.$router.go(-1);\n      } catch(err){\n        let exception_code = \"unknown\";\n        try {\n          const invalid_field = Object.keys(\n            JSON.parse(err.responseJSON.messages.error)\n          )[0];\n          const invalid_reason = Object.values(\n            JSON.parse(err.responseJSON.messages.error)\n          )[0];\n          exception_code = invalid_field + \"_\" + invalid_reason;\n        } catch {\n          /** */\n        }\n\n        switch (exception_code) {\n          case \"user_phone_notunique\":\n            this.$flash(\"Пользователь с таким телефоном уже зарегистрирован\");\n            break;\n          case \"user_phone_required\":\n          case \"user_phone_invalid\":\n          case \"user_phone_short\":\n            this.$flash(\"Проверьте номер телефона\");\n            break;\n          case \"user_name_required\":\n          case \"user_name_short\":\n            this.$flash(\"Проверьте ваш псевдоним\");\n            break;\n          case \"user_email_invalid\":\n            this.$flash(\"Проверьте ваш е-маил\");\n            break;\n          case \"user_email_notunique\":\n            this.$flash(\"Такой е-маил уже используется\");\n            break;\n          case \"user_pass_required\":\n            this.$flash(\"Пароль обязателен для заполнения\");\n            break;\n          case \"user_pass_short\":\n            this.$flash(\"Пароль слишком короткий\");\n            break;\n          case \"user_pass_notmatches\":\n            this.$flash(\"Пароль не совпадает с подтверждением\");\n            break;\n          default:\n            this.$flash(\"Не удалось зарегистрироваться\");\n        }\n      }\n\n    }\n  },\n  mounted(){\n    setTimeout(()=>{\n      this.$refs.uphone && this.$refs.uphone.$el.setFocus()\n    },100)\n  }\n}\n</script>","import { render } from \"./UserAuthorize.vue?vue&type=template&id=187eeede&scoped=true\"\nimport script from \"./UserAuthorize.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuthorize.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuthorize.vue?vue&type=style&index=0&id=187eeede&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-187eeede\"]])\n\nexport default __exports__"],"names":["novalidate","onsubmit","style","_createElementVNode","key","class","_hoisted_10","_hoisted_12","_createBlock","_component_base_layout","pageDefaultBackLink","default","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","$data","screen","_createElementBlock","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createVNode","_component_ion_input","ref","fill","mode","placeholder","name","type","inputmode","autocomplete","modelValue","user_phone","_cache","$event","onIonInput","$options","phoneFormat","label","_hoisted_8","_component_ion_text","color","_createTextVNode","_","phoneIsValid","phoneSubmitted","_component_ion_button","onClick","phoneSubmit","expand","_ctx","$refs","uphone","$el","setFocus","_hoisted_9","$go","_hoisted_11","_hoisted_13","_createCommentVNode","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","user_pass","required","_hoisted_18","passSubmit","disabled","passwordIsValid","_hoisted_19","codeSend","_component_ion_icon","src","$setup","chatboxEllipsesOutline","slot","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_toDisplayString","_hoisted_25","codeValue","maxlength","pattern","enterkeyhint","codeSubmit","_hoisted_26","codeIsValid","_hoisted_27","codeResendTime","_component_ion_item","lines","codeArriveAt","_component_ion_chip","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_component_ion_list","keyOutline","_component_ion_checkbox","registerWithPass","value","user_pass_confirm","_hoisted_32","_hoisted_33","userformOpen","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","user_name","user_email","user_birthday","_hoisted_39","_component_ion_segment","user_avatar_name","_component_ion_segment_button","_component_ion_avatar","$heap","state","hostname","_hoisted_40","_hoisted_41","_hoisted_42","registrationSubmit","uname","_hoisted_43","_hoisted_44","components","IonText","IonButton","IonItem","IonList","IonInput","IonCheckbox","IonSegment","IonSegmentButton","IonAvatar","IonIcon","IonChip","setup","giftOutline","personOutline","atOutline","data","passValue","signinOptions","computed","_this$user_phone","this","replace","length","_this$user_pass","_this$codeValue","min","Math","floor","sec","methods","ev","_ev$target","target","filteredValue","substring","setTimeout","request","jQuery","is_signedin","$flash","$router","go","is_deleted","is_disabled","by_pass","upass","by_code","err","_err$responseJSON","_err$responseJSON$mes","exception_code","responseJSON","messages","error","is_newuser","submitted","user","User","get","_err$responseJSON2","_err$responseJSON2$me","codeCapture","codeClockTick","ucode","_err$responseJSON3","_err$responseJSON3$me","navigator","credentials","otp","transport","code","timeLeft","_ev$target2","codeSignIn","codeVerify","verification_type","verification_target","verification_value","_err$responseJSON4","_err$responseJSON4$me","user_ota_code","_err$responseJSON5","_err$responseJSON5$me","_localStorage$inviter","inviter_user_id","localStorage","metric_id","invalid_field","Object","keys","JSON","parse","invalid_reason","values","mounted","__exports__","render"],"sourceRoot":""}