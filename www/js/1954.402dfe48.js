"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[1954],{1954:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var i=o(641);function s(e,t,o,s,l,r){const a=(0,i.g2)("ckeditor"),d=(0,i.g2)("ion-button"),n=(0,i.g2)("ion-col"),_=(0,i.g2)("ion-row"),h=(0,i.g2)("image-tile-comp"),m=(0,i.g2)("ion-icon"),u=(0,i.g2)("ion-grid"),c=(0,i.g2)("base-layout");return(0,i.uX)(),(0,i.Wv)(c,{pageTitle:`Условия доставки ${l.store.store_name}`,pageDefaultBackLink:`/catalog/store-edit-${l.store_id}`},{default:(0,i.k6)(()=>[(0,i.bF)(a,{editor:l.editor,modelValue:l.store_delivery_methods,"onUpdate:modelValue":t[0]||(t[0]=e=>l.store_delivery_methods=e),config:l.editorConfig},null,8,["editor","modelValue","config"]),(0,i.bF)(u,{style:{width:"100%"}},{default:(0,i.k6)(()=>[(0,i.bF)(_,null,{default:(0,i.k6)(()=>[(0,i.bF)(n,{style:{"text-align":"right"}},{default:(0,i.k6)(()=>[(0,i.bF)(d,{onClick:t[1]||(t[1]=e=>r.itemDelete()),color:"danger",fill:"outline",expand:"block"},{default:(0,i.k6)(()=>t[4]||(t[4]=[(0,i.eW)("Удалить")])),_:1,__:[4]})]),_:1}),(0,i.bF)(n,{style:{"text-align":"right"}},{default:(0,i.k6)(()=>[(0,i.bF)(d,{onClick:t[2]||(t[2]=e=>r.itemUpdate()),expand:"block"},{default:(0,i.k6)(()=>t[5]||(t[5]=[(0,i.eW)("Сохранить")])),_:1,__:[5]})]),_:1})]),_:1}),(0,i.bF)(_,null,{default:(0,i.k6)(()=>[(0,i.bF)(n,null,{default:(0,i.k6)(()=>[t[7]||(t[7]=(0,i.Lk)("h6",null,"Изображения",-1)),(0,i.bF)(h,{images:e.images,image_holder:"store_dmethods",image_holder_id:l.store_id,controller:"Store",title:"Картинка к методам доставки",ref:"storeDmethodsImgs"},null,8,["images","image_holder_id"]),(0,i.bF)(d,{onClick:t[3]||(t[3]=t=>e.$refs.storeDmethodsImgs.take_photo()),color:"light",expand:"block"},{default:(0,i.k6)(()=>[(0,i.bF)(m,{src:s.cameraOutline,slot:"start"},null,8,["src"]),t[6]||(t[6]=(0,i.eW)(" Добавить изображение 5шт "))]),_:1,__:[6]})]),_:1,__:[7]})]),_:1})]),_:1})]),_:1},8,["pageTitle","pageDefaultBackLink"])}var l=o(5846),r=o.n(l),a=o(2819),d=o.n(a),n=(o(1622),o(5480)),_=o(4933),h=o(5634),m=o(2311),u=o.n(m),c={components:{IonButton:h.Jm,IonGrid:h.lO,IonRow:h.ln,IonCol:h.hU,IonIcon:h.iq,imageTileComp:_.A,ckeditor:r().component},setup(){return{documentTextOutline:n.pXZ,cameraOutline:n.GOB}},data(){return{store_id:this.$route.params.id??0,store:{},store_delivery_methods:"",editor:d(),editorConfig:{language:"ru",toolbar:["heading","|","bold","italic","numberedList","bulletedList"]}}},mounted(){this.itemGet()},methods:{async itemGet(){const e={store_id:this.store_id};try{this.store=await u().post(`${this.$heap.state.hostname}Store/itemGet`,e),this.store.store_delivery_methods&&(this.store_delivery_methods=this.store.store_delivery_methods)}catch{}},async itemUpdate(){const e=3e3;this.store_delivery_methods.length>e&&alert(`Текст слишком длинный. Сохранится только первые ${e} символов`);const t={store_id:this.store_id,store_delivery_methods:this.store_delivery_methods};try{await u().post(`${this.$heap.state.hostname}Store/itemUpdate`,JSON.stringify(t)),this.$flash("Сохранено")}catch{}},async itemDelete(){confirm("Удалить условия доставки?")&&(this.store_delivery_methods="",this.itemUpdate())}}},g=o(6262);const k=(0,g.A)(c,[["render",s]]);var f=k}}]);
//# sourceMappingURL=1954.402dfe48.js.map