"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[2464],{2464:function(t,e,r){r.r(e),r.d(e,{default:function(){return k}});var n=r(6252),a=r(3577),i=(0,n.Uk)("Добавить тариф");function u(t,e,r,u,s,o){var f=(0,n.up)("ion-icon"),c=(0,n.up)("ion-label"),l=(0,n.up)("ion-item"),p=(0,n.up)("ion-list"),d=(0,n.up)("base-layout");return(0,n.wg)(),(0,n.j4)(d,{pageDefaultBackLink:"/user","page-title":"Список тарифов"},{default:(0,n.w5)((function(){return[(0,n.Wm)(p,null,{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.tariffList,(function(e){return(0,n.wg)(),(0,n.j4)(l,{key:e.tariff_id,detail:"",button:"",onClick:function(r){return t.$router.push(`/user/admin-tariff-edit-${e.tariff_id}`)}},{default:(0,n.w5)((function(){return[(0,n.Wm)(f,{icon:u.briefcaseOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,n.Wm)(c,null,{default:(0,n.w5)((function(){return[(0,n.Uk)((0,a.zw)(e.tariff_name),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128)),(0,n.Wm)(l,{detail:"",button:"",onClick:e[0]||(e[0]=function(t){return o.itemCreate()})},{default:(0,n.w5)((function(){return[(0,n.Wm)(f,{icon:u.addOutline,slot:"start"},null,8,["icon"]),(0,n.Wm)(c,null,{default:(0,n.w5)((function(){return[i]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var s=r(6835),o=r(8534),f=(r(8862),r(8903)),c=r(2066),l=r(9755),p=r.n(l),d={components:{IonItem:c.Ie,IonLabel:c.Q$,IonList:c.q_,IonIcon:c.gu},setup(){return{briefcaseOutline:f.SVL,addOutline:f.s6O}},data(){return{tariffList:[]}},computed:{},methods:{listLoad(){var t=this;return(0,o.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p().post(`${t.$heap.state.hostname}Admin/Tariff/listGet`);case 3:t.tariffList=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))()},itemCreate(){var t=this;return(0,o.Z)((0,s.Z)().mark((function e(){var r,n,a,i;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={tariff_name:"new tariff"},e.prev=1,e.next=4,p().post(`${t.$heap.state.hostname}Admin/Tariff/itemCreate`,JSON.stringify(r));case 4:n=e.sent,t.$router.push(`/user/admin-tariff-edit-${n}`),e.next=18;break;case 8:e.prev=8,e.t0=e["catch"](1),a=e.t0.responseJSON,i=a.messages.error,e.t1=i,e.next="forbidden"===e.t1?15:17;break;case 15:return t.$flash("Не достаточно прав"),e.abrupt("break",17);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[1,8]])})))()},itemDelete(t){var e=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n,a,i;return(0,s.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(confirm("Вы уверенны")){r.next=2;break}return r.abrupt("return");case 2:return n={tariff_id:t},r.prev=3,r.next=6,p().post(`${e.$heap.state.hostname}Admin/Tariff/itemDelete`,JSON.stringify(n));case 6:e.listLoad(),r.next=18;break;case 9:r.prev=9,r.t0=r["catch"](3),a=r.t0.responseJSON,i=a.messages.error,r.t1=i,r.next="forbidden"===r.t1?16:18;break;case 16:return e.$flash("Не достаточно прав"),r.abrupt("break",18);case 18:case"end":return r.stop()}}),r,null,[[3,9]])})))()}},mounted(){this.listLoad()},ionViewDidEnter(){this.tariffList.length||this.listLoad()},ionViewDidLeave(){this.tariffList=[]}},m=r(3744);const h=(0,m.Z)(d,[["render",u]]);var k=h}}]);
//# sourceMappingURL=2464-legacy.a1dfd517.js.map