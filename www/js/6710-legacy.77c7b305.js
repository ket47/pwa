"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[6710],{6710:function(e,t,l){l.r(t),l.d(t,{default:function(){return b}});var n=l(6252),o=l(3577);const u=(0,n.Uk)("Регистрация нового магазина"),r=(0,n.Uk)("Название магазина или ресторана*"),a=(0,n.Uk)(" Подавая заявку вы даете согласие на условия "),i=(0,n.Uk)("Договор поставки товаров и услуг"),s=(0,n.Uk)("Стать продавцом"),d=(0,n.Uk)("Необходимо зарегистрироваться"),c=(0,n.Uk)(" Чтобы стать продавцом, нужно быть зарегистрированным пользователем. Вы можете зарегистрироваться за 2 минуты. "),p=(0,n.Uk)("Зарегистрироваться"),m=(0,n.Uk)("Зарегистрированые магазины");function f(e,t,l,f,_,k){const w=(0,n.up)("ion-card-title"),h=(0,n.up)("ion-card-header"),W=(0,n.up)("ion-label"),g=(0,n.up)("ion-input"),I=(0,n.up)("ion-item"),b=(0,n.up)("router-link"),v=(0,n.up)("ion-text"),C=(0,n.up)("ion-checkbox"),U=(0,n.up)("ion-button"),$=(0,n.up)("ion-card-content"),y=(0,n.up)("ion-card"),x=(0,n.up)("ion-icon"),G=(0,n.up)("base-layout");return(0,n.wg)(),(0,n.j4)(G,{"page-title":"Панель управления продавца",pageDefaultBackLink:"/user/user-dashboard"},{default:(0,n.w5)((()=>{var l;return[e.$heap.state.user.user_id>1?((0,n.wg)(),(0,n.j4)(y,{key:0,color:"light"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[u])),_:1})])),_:1}),(0,n.Wm)($,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,{lines:"full"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{position:"stacked",color:"primary"},{default:(0,n.w5)((()=>[r])),_:1}),(0,n.Wm)(g,{modelValue:_.store_name,"onUpdate:modelValue":t[0]||(t[0]=e=>_.store_name=e),placeholder:"Название*"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(I,{lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[a,(0,n.Wm)(b,{to:"/page/rules-supplier"},{default:(0,n.w5)((()=>[i])),_:1})])),_:1}),(0,n.Wm)(C,{slot:"end",modelValue:_.contractAccepted,"onUpdate:modelValue":t[1]||(t[1]=e=>_.contractAccepted=e)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(U,{expand:"block",onClick:t[2]||(t[2]=e=>k.itemCreate()),disabled:!_.contractAccepted||!_.store_name},{default:(0,n.w5)((()=>[s])),_:1},8,["disabled"])])),_:1})])),_:1})):((0,n.wg)(),(0,n.j4)(y,{key:1,color:"light"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[d])),_:1})])),_:1}),(0,n.Wm)($,null,{default:(0,n.w5)((()=>[c,(0,n.Wm)(U,{expand:"block",onClick:t[3]||(t[3]=t=>e.$router.push("/user/sign-up"))},{default:(0,n.w5)((()=>[p])),_:1})])),_:1})])),_:1})),(null===(l=_.storeList)||void 0===l?void 0:l.length)>0?((0,n.wg)(),(0,n.j4)(y,{key:2,color:"light"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[m])),_:1})])),_:1}),(0,n.Wm)($,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.storeList,(t=>((0,n.wg)(),(0,n.j4)(I,{key:t.store_id,detail:"",button:"",onClick:l=>e.$router.push(`/catalog/store-edit-${t.store_id}`)},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{icon:f.storefrontOutline,slot:"start"},null,8,["icon"]),(0,n.Uk)(" "+(0,o.zw)(t.store_name||t.store_name_new||"- - -"),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):(0,n.kq)("",!0)]})),_:1})}var _=l(8534),k=l(8292),w=l(8903),h=(l(9755),l(2008),l(351)),W={components:{IonInput:k.pK,IonCard:k.PM,IonCardHeader:k.Zi,IonCardTitle:k.Dq,IonCardContent:k.FN,IonLabel:k.Q$,IonItem:k.Ie,IonButton:k.YG,IonCheckbox:k.nz,IonText:k.yW,IonIcon:k.gu},setup(){return{storefrontOutline:w.qRG}},data(){return{supprier:h.Z.supplier.status,store_name:null,contractAccepted:0,storeList:null}},mounted(){const e=this;this.listGet(),this.$topic.on("userGet",(function(){e.storeList||e.listGet()}))},methods:{itemCreate(){var e=this;return(0,_.Z)((function*(){try{if(!e.store_name)return void e.$flash("Название обязательно");const t=yield h.Z.supplier.storeItemCreate(e.store_name);if(!t)return void e.$flash("Не удалось создать магазин или ресторан");e.$router.push(`/catalog/store-edit-${t}`)}catch(n){var t,l;const o=null===(t=n.responseJSON)||void 0===t||null===(l=t.messages)||void 0===l?void 0:l.error;"limit_exeeded"==o&&e.$flash("У вас зарегистрировано максимальное количество магазинов"),e.$flash("Не удалось создать магазин или ресторан")}}))()},listGet(){var e=this;return(0,_.Z)((function*(){e.storeList=yield h.Z.supplier.listGet()}))()}}},g=l(3744);const I=(0,g.Z)(W,[["render",f],["__scopeId","data-v-239bfb7a"]]);var b=I}}]);
//# sourceMappingURL=6710-legacy.77c7b305.js.map