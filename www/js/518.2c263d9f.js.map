{"version":3,"file":"js/518.2c263d9f.js","mappings":"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","sources":["webpack://tezkel/./src/views/SupplierDashboard.vue","webpack://tezkel/./src/views/SupplierDashboard.vue?f124"],"sourcesContent":["<style scoped>\r\ninput,textarea{\r\n  border: none;\r\n  padding: 5px;\r\n  margin: 5px;\r\n  width: 100%;\r\n  outline: none;\r\n}\r\nion-text{\r\n  color:black;\r\n  padding:20px;\r\n  border-radius:10px;\r\n}\r\n.disabled{\r\n  background-color: var(--ion-color-light-shade);\r\n}\r\n.deleted{\r\n  background-color: var(--ion-color-danger-tint);\r\n}\r\n.image_disabled{\r\n  border: 4px solid #999;\r\n  filter: grayscale(0.5);\r\n}\r\n</style>\r\n<template>\r\n  <base-layout page-title=\"Панель управления продавца\"  pageDefaultBackLink=\"/user/user-dashboard\">\r\n      <ion-card color=\"light\" v-if=\"$heap.state.user.user_id>1\">\r\n        <ion-card-header>\r\n          <ion-card-title>Регистрация нового магазина</ion-card-title>\r\n        </ion-card-header>\r\n        <ion-card-content>\r\n          <ion-item lines=\"full\">\r\n            <ion-label position=\"stacked\" color=\"primary\">Название магазина или ресторана*</ion-label>\r\n            <ion-input v-model=\"store_name\" placeholder=\"Название*\"></ion-input>\r\n          </ion-item>\r\n          <ion-item lines=\"none\">\r\n            <ion-text>\r\n              Подавая заявку вы даете согласие на условия \r\n              <router-link to=\"/page/rules-supplier\">Договор поставки товаров и услуг</router-link>\r\n            </ion-text>\r\n            <ion-checkbox slot=\"end\" v-model=\"contractAccepted\"/>\r\n          </ion-item>\r\n        <ion-button expand=\"block\" @click=\"itemCreate()\" :disabled=\"!contractAccepted || !store_name\">Стать продавцом</ion-button>\r\n        </ion-card-content>\r\n      </ion-card>\r\n      <ion-card color=\"light\" v-else>\r\n        <ion-card-header>\r\n          <ion-card-title>Необходимо зарегистрироваться</ion-card-title>\r\n        </ion-card-header>\r\n        <ion-card-content>\r\n          Чтобы стать продавцом, нужно быть зарегистрированным пользователем. Вы можете зарегистрироваться за 2 минуты.\r\n        <ion-button expand=\"block\" href=\"/user/sign-up\">Зарегистрироваться</ion-button>\r\n        </ion-card-content>\r\n      </ion-card>\r\n\r\n\r\n\r\n      <ion-card color=\"light\" v-if=\"storeList?.length>0\">\r\n        <ion-card-header>\r\n          <ion-card-title>Зарегистрированые магазины</ion-card-title>\r\n        </ion-card-header>\r\n        <ion-card-content>\r\n\r\n          <ion-item v-for=\"store in storeList\" :key=\"store.store_id\" detail button @click=\"$router.push(`/catalog/store-edit-${store.store_id}`)\">\r\n            <ion-icon :icon=\"storefrontOutline\" slot=\"start\"></ion-icon>\r\n            {{store.store_name||store.store_name_new||'- - -'}}\r\n          </ion-item>        \r\n        </ion-card-content>\r\n      </ion-card>\r\n\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  IonInput,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardTitle,\r\n  IonCardContent,\r\n\r\n  IonLabel,\r\n  IonItem,\r\n  IonButton,\r\n  IonCheckbox,\r\n  IonText,\r\n  IonIcon\r\n}                   from \"@ionic/vue\";\r\n\r\nimport {\r\n  storefrontOutline,\r\n} from \"ionicons/icons\";\r\nimport jQuery       from \"jquery\";\r\nimport heap         from '@/heap';\r\nimport User         from '@/scripts/User.js';\r\n\r\nexport default  {\r\n  components: {\r\n  IonInput,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardTitle,\r\n  IonCardContent,\r\n\r\n  IonLabel,\r\n  IonItem,\r\n  IonButton,\r\n  IonCheckbox,\r\n  IonText,\r\n  IonIcon,\r\n  },\r\n  setup() {\r\n    return {\r\n      storefrontOutline,\r\n    };\r\n  },\r\n  data(){\r\n    return {\r\n      supprier:User.supplier.status,\r\n      store_name:null,\r\n      contractAccepted:0,\r\n      storeList:null\r\n    }\r\n  },\r\n  mounted(){\r\n    const self=this;\r\n    this.listGet();\r\n    this.$topic.on('userGet',function(){\r\n      if(self.storeList){\r\n        return;\r\n      }\r\n      self.listGet();\r\n    });\r\n  },\r\n  methods:{\r\n    async itemCreate(){\r\n      try{\r\n        if(!this.store_name){\r\n          this.$flash(\"Название обязательно\")\r\n          return\r\n        }\r\n        const store_id=await User.supplier.storeItemCreate(this.store_name)\r\n        if(!store_id){\r\n          this.$flash(\"Не удалось создать магазин или ресторан\")\r\n          return\r\n        }\r\n        this.$router.push(`/catalog/store-edit-${store_id}`)\r\n      }catch(err){\r\n        const message=err.responseJSON?.messages?.error;\r\n        if( message=='limit_exeeded' ){\r\n          this.$flash(\"У вас зарегистрировано максимальное количество магазинов\")\r\n        }\r\n        this.$flash(\"Не удалось создать магазин или ресторан\")\r\n      }\r\n    },\r\n    async listGet(){\r\n      this.storeList=await User.supplier.listGet()\r\n    }\r\n  },\r\n}\r\n</script>","import { render } from \"./SupplierDashboard.vue?vue&type=template&id=d3ba6ce2&scoped=true\"\nimport script from \"./SupplierDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./SupplierDashboard.vue?vue&type=script&lang=js\"\n\nimport \"./SupplierDashboard.vue?vue&type=style&index=0&id=d3ba6ce2&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\Ionic\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d3ba6ce2\"]])\n\nexport default __exports__"],"names":["_createBlock","_component_base_layout","pageDefaultBackLink","_ctx","state","user","user_id","_component_ion_card","color","_createVNode","_component_ion_card_header","_component_ion_card_title","_component_ion_card_content","_component_ion_item","lines","_component_ion_label","position","_component_ion_input","$data","placeholder","_component_ion_text","_component_router_link","to","_component_ion_checkbox","slot","_component_ion_button","expand","onClick","$options","disabled","href","storeList","length","_createElementBlock","_Fragment","store","key","store_id","detail","button","push","_component_ion_icon","icon","$setup","store_name","store_name_new","components","IonInput","IonCard","IonCardHeader","IonCardTitle","IonCardContent","IonLabel","IonItem","IonButton","IonCheckbox","IonText","IonIcon","setup","storefrontOutline","data","supprier","User","contractAccepted","mounted","self","this","listGet","$topic","on","methods","async","$flash","$router","err","message","responseJSON","messages","error","__exports__","render"],"sourceRoot":""}