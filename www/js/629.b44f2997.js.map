{"version":3,"file":"js/629.b44f2997.js","mappings":"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","sources":["webpack://Tezkel/./src/views/UserSignUp.vue","webpack://Tezkel/./src/views/UserSignUp.vue?0e3d"],"sourcesContent":["<template>\r\n  <base-layout page-title=\"Зарегистрироваться\"  page-default-back-link=\"/home\">\r\n      <form novalidate>\r\n        <ion-list>\r\n          <ion-item>\r\n            <ion-row>\r\n              <ion-col>\r\n                <ion-label position=\"stacked\" color=\"primary\">Код</ion-label>\r\n                <ion-select \r\n                  :value=\"fields.phonePrefix\" \r\n                  @ionChange=\"fields.phonePrefix = $event.target.value\" \r\n                >\r\n                  <ion-select-option value=\"+7\" >+7</ion-select-option>\r\n                </ion-select>\r\n              </ion-col>\r\n              <ion-col>\r\n                <ion-label position=\"stacked\" color=\"primary\">Телефон</ion-label>\r\n                <ion-input\r\n                  v-model=\"fields.phoneBody\"\r\n                  name=\"phone\"\r\n                  type=\"numeric\"\r\n                  inputmode=\"tel\"\r\n                  :value=\"fields.phoneBody\"\r\n                  @input=\"$event.target.value = phoneValidate($event);\"\r\n                  placeholder=\"(978)-000-00-00\"\r\n                  spellcheck=\"false\"\r\n                  autocapitalize=\"off\"\r\n                  required\r\n                ></ion-input>\r\n              </ion-col>\r\n            </ion-row>\r\n          </ion-item>\r\n\r\n          <ion-text color=\"danger\">\r\n            <p v-show=\"!phoneValid && submitted == true\" padding-left>Неверный номер телефона</p>\r\n          </ion-text>\r\n\r\n          <ion-item>\r\n            <ion-label position=\"stacked\" color=\"primary\">Пароль (Минимум 6 символов)</ion-label>\r\n            <ion-input \r\n              v-model=\"fields.password\" \r\n              name=\"password\" \r\n              type=\"password\"\r\n              placeholder=\"Пароль (Минимум 6 символов)\"\r\n              required\r\n            ></ion-input>\r\n          </ion-item>\r\n\r\n          <ion-text color=\"danger\">\r\n            <p v-show=\"!passwordValid && submitted == true\" padding-left>Пароль должен содержать не менее 6 символов.</p>\r\n          </ion-text>\r\n\r\n          <ion-item>\r\n            <ion-label position=\"stacked\" color=\"primary\">Имя пользователя</ion-label>\r\n            <ion-input \r\n              v-model=\"fields.username\" \r\n              name=\"username\" \r\n              type=\"text\" \r\n              placeholder=\"Имя пользователя\"\r\n              required\r\n            ></ion-input>\r\n          </ion-item>\r\n\r\n          <ion-text color=\"danger\">\r\n            <p v-show=\"!usernameValid && submitted == true\" padding-left>Неверное имя пользователя</p>\r\n          </ion-text>\r\n\r\n        </ion-list>\r\n\r\n        <ion-row responsive-sm>\r\n          <ion-col>\r\n            <ion-button @click=\"onSubmit\" expand=\"block\">Зарегистрироваться</ion-button>\r\n          </ion-col>\r\n        </ion-row>\r\n        \r\n        <ion-row responsive-sm>\r\n          <ion-col>\r\n          <router-link to=\"/sign-in\">\r\n            <ion-button color=\"light\" expand=\"block\">Уже есть учетная запись?</ion-button>\r\n          </router-link>\r\n          </ion-col>\r\n        </ion-row>\r\n      </form>\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n  IonRow,\r\n  IonCol, \r\n  IonSelect, \r\n  IonSelectOption,\r\n  IonLabel,\r\n  IonInput,\r\n  IonItem,\r\n  IonText,\r\n  IonList,\r\n  IonButton,\r\n\r\n} from '@ionic/vue';\r\n\r\nimport User from '../scripts/User.js'\r\n\r\nimport router from '../router';\r\n\r\nexport default  {\r\n  name: 'UserSignup',\r\n  components: {\r\n  IonRow,\r\n  IonCol, \r\n  IonSelect, \r\n  IonSelectOption,\r\n  IonLabel,\r\n  IonInput,\r\n  IonItem,\r\n  IonText,\r\n  IonList,\r\n  IonButton,    \r\n  },\r\n  data(){\r\n    return {\r\n      error: '',\r\n      submitted: false,\r\n      config: {\r\n        phoneMask: '(000)-000-00-00'\r\n      },\r\n      fields: {\r\n        phonePrefix: '+7',\r\n        phoneBody: '9785141948',\r\n        password: '123456',\r\n        username: 'Adam Hi'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    phoneValid() {\r\n      return this.fields.phoneBody.replace(/\\D/g,\"\").length == 10;\r\n    },\r\n    passwordValid() {\r\n      return this.fields.password.length >= 6;\r\n    },\r\n    usernameValid() {\r\n      return this.fields.username.length > 0;\r\n    }\r\n  },\r\n  methods:{\r\n    onSubmit() {\r\n      var self = this;\r\n      this.submitted = true;\r\n      if(!this.phoneValid || !this.passwordValid || !this.usernameValid){\r\n        return false;\r\n      }\r\n      let requestData = {\r\n        user_phone: this.fields.phonePrefix + this.fields.phoneBody.replace(/\\D/g,\"\"),\r\n        user_pass: this.fields.password,\r\n        user_pass_confirm: this.fields.password,\r\n        user_name: this.fields.username\r\n      }\r\n      User.signUp(requestData, function(result){\r\n        if(result.success){\r\n          router.push('/sign-in');\r\n        } else {\r\n            self.error = result.message;\r\n        }\r\n      });\r\n    },\r\n    phoneValidate(ev) {\r\n      this.fields.phoneBody = ev.target.value;\r\n      this.fields.phoneBody = this.fields.phoneBody.replace(/\\D/g,\"\");\r\n      if(this.fields.phoneBody.length > 10){\r\n        this.fields.phoneBody = this.fields.phoneBody.substring(0, 10);\r\n      }\r\n      let result = '';\r\n      let numberIndex = 0; \r\n      for(let index in this.config.phoneMask){\r\n        if(!this.fields.phoneBody[numberIndex]){\r\n          break;\r\n        }\r\n        let character = this.config.phoneMask[index];\r\n        if(character == '0'){\r\n          result += this.fields.phoneBody[numberIndex];\r\n          numberIndex++;\r\n        } else {\r\n          result += character\r\n        }\r\n      }\r\n      this.fields.phoneBody = result;\r\n      return this.fields.phoneBody;\r\n    }\r\n  }\r\n}\r\n</script>","import { render } from \"./UserSignUp.vue?vue&type=template&id=2496dfe7\"\nimport script from \"./UserSignUp.vue?vue&type=script&lang=js\"\nexport * from \"./UserSignUp.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["novalidate","position","color","value","fields","phonePrefix","$event","target","phoneBody","name","type","inputmode","phoneValidate","placeholder","spellcheck","autocapitalize","required","phoneValid","submitted","password","passwordValid","username","usernameValid","onSubmit","expand","to","components","IonRow","IonCol","IonSelect","IonSelectOption","IonLabel","IonInput","IonItem","IonText","IonList","IonButton","data","error","config","phoneMask","computed","this","replace","length","methods","self","requestData","user_phone","user_pass","user_pass_confirm","user_name","User","result","success","router","message","ev","substring","numberIndex","index","character","__exports__","render"],"sourceRoot":""}