"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[6800],{6800:function(e,n,l){l.r(n),l.d(n,{default:function(){return b}});var t=l(641),i=l(33);function o(e,n,l,o,u,a){const r=(0,t.g2)("ion-icon"),s=(0,t.g2)("ion-row"),d=(0,t.g2)("ion-col"),c=(0,t.g2)("ion-grid"),k=(0,t.g2)("ion-label"),v=(0,t.g2)("ion-item"),b=(0,t.g2)("ion-list"),f=(0,t.g2)("ion-skeleton-text"),_=(0,t.g2)("base-layout");return(0,t.uX)(),(0,t.Wv)(_,{pageTitle:"Мои чеки",pageDefaultBackLink:"/user"},{default:(0,t.k6)((()=>{var n,l;return[(null===(n=u.invoiceList)||void 0===n?void 0:n.length)>0?((0,t.uX)(),(0,t.Wv)(b,{key:0},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.invoiceList,(n=>((0,t.uX)(),(0,t.Wv)(v,{key:n.order_id,button:"",onClick:e=>a.billOpen(null===n||void 0===n?void 0:n.invoice_link)},{default:(0,t.k6)((()=>[(0,t.bF)(r,{icon:o.receiptOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,t.bF)(c,null,{default:(0,t.k6)((()=>[(0,t.bF)(d,null,{default:(0,t.k6)((()=>[(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.eW)("Фискальный чек от "+(0,i.v_)(null===n||void 0===n?void 0:n.invoice_date),1)])),_:2},1024),(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.eW)(" заказ №"+(0,i.v_)(null===n||void 0===n?void 0:n.order_id),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,t.bF)(k,{slot:"end"},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(null===n||void 0===n?void 0:n.order_sum_total)+(0,i.v_)(e.$heap.state.currencySign),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(0,t.Q3)("",!0),0==(null===(l=u.invoiceList)||void 0===l?void 0:l.length)?((0,t.uX)(),(0,t.Wv)(b,{key:1},{default:(0,t.k6)((()=>[(0,t.bF)(v,null,{default:(0,t.k6)((()=>[(0,t.bF)(k,null,{default:(0,t.k6)((()=>[(0,t.eW)("Чеков нет")])),_:1})])),_:1})])),_:1})):(0,t.Q3)("",!0),null==u.invoiceList?((0,t.uX)(),(0,t.Wv)(b,{key:2},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)([1,2,3],(e=>(0,t.bF)(v,{key:e},{default:(0,t.k6)((()=>[(0,t.bF)(r,{style:{"background-color":"var(--ion-color-light)"}}),(0,t.bF)(c,null,{default:(0,t.k6)((()=>[(0,t.bF)(d,null,{default:(0,t.k6)((()=>[(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.bF)(f,{animated:"",style:{width:"100%"}})])),_:1}),(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.bF)(k,{color:"primary"},{default:(0,t.k6)((()=>[(0,t.bF)(f,{animated:"",style:{width:"100px"}})])),_:1})])),_:1})])),_:1})])),_:1})])),_:2},1024))),64))])),_:1})):(0,t.Q3)("",!0)]})),_:1})}var u=l(972),a=l(5480),r=l(9564),s=l(2311),d=l.n(s),c={components:{IonList:u.nf,IonItem:u.uz,IonGrid:u.lO,IonRow:u.ln,IonCol:u.hU,IonSkeletonText:u.ds,IonLabel:u.he,IonIcon:u.iq},setup(){return{receiptOutline:a.BVr}},data(){return{invoiceList:null,isOpen:!1,billLink:""}},methods:{async listGet(){try{const e={has_invoice:"1"};this.invoiceList=await d().post(this.$heap.state.hostname+"Order/listGet",e)}catch{}},async billOpen(e){if(!e)return void this.$flash("Невозможно открыть чек");e=e.replace(/"/g,"");const n=await u.OZ.create({component:r.A,componentProps:{billLink:e},initialBreakpoint:.85,breakpoints:[0,.85,1]}),l=function(){n.dismiss()};return this.$topic.on("dismissModal",l),n.present()}},mounted(){this.listGet()}},k=l(6262);const v=(0,k.A)(c,[["render",o]]);var b=v}}]);
//# sourceMappingURL=6800.67f71f6a.js.map