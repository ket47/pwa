"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[179],{5179:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var l=n(6252),i=n(3577);function o(e,t,n,o,u,a){const d=(0,l.up)("ion-icon"),r=(0,l.up)("ion-row"),s=(0,l.up)("ion-col"),c=(0,l.up)("ion-grid"),w=(0,l.up)("ion-label"),p=(0,l.up)("ion-item"),m=(0,l.up)("ion-list"),k=(0,l.up)("ion-skeleton-text"),f=(0,l.up)("base-layout");return(0,l.wg)(),(0,l.j4)(f,{pageTitle:"Мои чеки",pageDefaultBackLink:"/user"},{default:(0,l.w5)((()=>{var t,n;return[(null===(t=u.invoiceList)||void 0===t?void 0:t.length)>0?((0,l.wg)(),(0,l.j4)(m,{key:0},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.invoiceList,(t=>((0,l.wg)(),(0,l.j4)(p,{key:t.order_id,button:"",onClick:e=>a.billOpen(null===t||void 0===t?void 0:t.invoice_link)},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{icon:o.receiptOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Фискальный чек от "+(0,i.zw)(null===t||void 0===t?void 0:t.invoice_date),1)])),_:2},1024),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)(" заказ №"+(0,i.zw)(null===t||void 0===t?void 0:t.order_id),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,l.Wm)(w,{slot:"end"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(null===t||void 0===t?void 0:t.order_sum_total)+(0,i.zw)(e.$heap.state.currencySign),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(0,l.kq)("",!0),0==(null===(n=u.invoiceList)||void 0===n?void 0:n.length)?((0,l.wg)(),(0,l.j4)(m,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Чеков нет")])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),null==u.invoiceList?((0,l.wg)(),(0,l.j4)(m,{key:2},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([1,2,3],(e=>(0,l.Wm)(p,{key:e},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{style:{"background-color":"var(--ion-color-light)"}}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{animated:"",style:{width:"100%"}})])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{color:"primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{animated:"",style:{width:"100px"}})])),_:1})])),_:1})])),_:1})])),_:1})])),_:2},1024))),64))])),_:1})):(0,l.kq)("",!0)]})),_:1})}n(4916),n(5306);var u=n(2824),a=n(8903),d=n(7620),r=n(9755),s=n.n(r),c={components:{IonList:u.q_,IonItem:u.Ie,IonGrid:u.jY,IonRow:u.Nd,IonCol:u.wI,IonSkeletonText:u.CK,IonLabel:u.Q$,IonIcon:u.gu},setup(){return{receiptOutline:a.d71}},data(){return{invoiceList:null,isOpen:!1,billLink:""}},methods:{async listGet(){try{const e={has_invoice:"1"};this.invoiceList=await s().post(this.$heap.state.hostname+"Order/listGet",e)}catch(e){}},async billOpen(e){if(!e)return void this.$flash("Невозможно открыть чек");e=e.replace(/"/g,"");const t=await u.Fy.create({component:d.Z,componentProps:{billLink:e},initialBreakpoint:.85,breakpoints:[0,.85,1]}),n=function(){t.dismiss()};return this.$topic.on("dismissModal",n),t.present()}},mounted(){this.listGet()}},w=n(3744);const p=(0,w.Z)(c,[["render",o]]);var m=p}}]);
//# sourceMappingURL=179-legacy.ad9e383d.js.map