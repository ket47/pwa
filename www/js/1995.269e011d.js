"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[1995],{1995:function(e,s,a){a.r(s),a.d(s,{default:function(){return oe}});var t=a(641),l=a(3751),n=a(33);const i=e=>((0,t.Qi)("data-v-480bdbaf"),e=e(),(0,t.jt)(),e),o={novalidate:"",onsubmit:"return false"},r={style:{display:"grid","grid-template-columns":"auto minmax(330px,400px) auto",width:"100%","min-height":"80vh"}},u=i((()=>(0,t.Lk)("div",null,null,-1))),d={key:0,class:"ion-padding"},c=i((()=>(0,t.Lk)("h4",null,"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞",-1))),h=i((()=>(0,t.Lk)("p",{style:{color:"var(--ion-color-medium)","font-size":"0.9em"}}," –î–ª—è –≤—Ö–æ–¥–∞ –≤ –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ",-1))),p=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),_=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),m=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),k=i((()=>(0,t.Lk)("u",null,"–ü—Ä–∞–≤–∏–ª–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è",-1))),f=[k],b=i((()=>(0,t.Lk)("u",null,"–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏",-1))),v=[b],g={key:1,class:"ion-padding"},$=i((()=>(0,t.Lk)("h4",null,"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",-1))),y=i((()=>(0,t.Lk)("p",{style:{color:"var(--ion-color-medium)","font-size":"0.9em"}}," –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ –ø–∞—Ä–æ–ª—å, –≤–æ–π–¥–∏—Ç–µ —Å –ø–æ–º–æ—à—å—é —Å–º—Å –∫–æ–¥–∞. ",-1))),V=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),I=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),L=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),F={key:2,class:"ion-padding"},C=i((()=>(0,t.Lk)("h4",null,"–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ —Å–º—Å",-1))),S=i((()=>(0,t.Lk)("p",{style:{color:"var(--ion-color-medium)","font-size":"0.9em"}}," –°–º—Å —Å –∫–æ–¥–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω ",-1))),w={style:{color:"var(--ion-color-medium)"}},W=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),O=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),x=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),X={key:0},T=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),U={key:3,class:"ion-padding"},q=i((()=>(0,t.Lk)("h4",null,"–ü–∞—Ä–æ–ª—å",-1))),Q=i((()=>(0,t.Lk)("p",{style:{color:"var(--ion-color-medium)","font-size":"0.9em"}}," –í—ã –º–æ–∂–µ—Ç–µ –±—ã—Å—Ç—Ä–µ–µ –≤—Ö–æ–¥–∏—Ç—å –≤ –ø—Ä–æ—Ñ–∏–ª—å, –µ—Å–ª–∏ —Å–æ–∑–¥–∞–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å. ",-1))),A=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),E={key:2,class:"ion-padding"},J=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),N={key:2,style:{color:"var(--ion-color-medium)","font-size":"0.9em","text-align":"center"}},z=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),R={key:4,class:"ion-padding"},P=i((()=>(0,t.Lk)("h4",null,"–ê–Ω–∫–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",-1))),j=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),B=i((()=>(0,t.Lk)("h4",null,"–í–∞—à –∞–≤–∞—Ç–∞—Ä",-1))),D=["src"],G=["src"],K=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),Z=i((()=>(0,t.Lk)("div",{class:"vspace"},null,-1))),M=i((()=>(0,t.Lk)("div",null,null,-1)));function Y(e,s,a,i,k,b){const Y=(0,t.g2)("ion-input"),H=(0,t.g2)("ion-text"),ee=(0,t.g2)("ion-button"),se=(0,t.g2)("ion-icon"),ae=(0,t.g2)("ion-item"),te=(0,t.g2)("ion-chip"),le=(0,t.g2)("ion-checkbox"),ne=(0,t.g2)("ion-list"),ie=(0,t.g2)("ion-avatar"),oe=(0,t.g2)("ion-segment-button"),re=(0,t.g2)("ion-segment"),ue=(0,t.g2)("base-layout");return(0,t.uX)(),(0,t.Wv)(ue,{"page-title":"–í—Ö–æ–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å",pageDefaultBackLink:"/user"},{default:(0,t.k6)((()=>[(0,t.Lk)("form",o,[(0,t.Lk)("div",r,[u,"enter_phone"==k.screen?((0,t.uX)(),(0,t.CE)("section",d,[c,h,p,(0,t.bF)(Y,{ref:"uphone",fill:"outline",mode:"md",placeholder:"+7(___)___ __ __",name:"phone",type:"tel",inputmode:"tel",autocomplete:"tel-national",modelValue:k.user_phone,"onUpdate:modelValue":s[0]||(s[0]=e=>k.user_phone=e),onIonInput:s[1]||(s[1]=e=>b.phoneFormat(e)),onKeyup:s[2]||(s[2]=(0,l.jR)((e=>b.phoneSubmit()),["enter"])),label:"–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞","label-placement":"stacked"},null,8,["modelValue"]),_,(0,t.bo)((0,t.bF)(H,{color:"danger"},{default:(0,t.k6)((()=>[(0,t.eW)(" –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ ")])),_:1},512),[[l.aG,!b.phoneIsValid&&1==k.phoneSubmitted]]),b.phoneIsValid?((0,t.uX)(),(0,t.Wv)(ee,{key:0,onClick:b.phoneSubmit,expand:"block"},{default:(0,t.k6)((()=>[(0,t.eW)("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")])),_:1},8,["onClick"])):((0,t.uX)(),(0,t.Wv)(ee,{key:1,onClick:s[3]||(s[3]=s=>e.$refs.uphone.$el.setFocus()),expand:"block",color:"light"},{default:(0,t.k6)((()=>[(0,t.eW)("–ó–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–æ–º–µ—Ä")])),_:1})),m,(0,t.bF)(H,{color:"medium",style:{"text-align":"center",color:"var(--ion-color-medium)","font-size":"0.7em"}},{default:(0,t.k6)((()=>[(0,t.eW)(" –ù–∞–∂–∞—Ç–∏–µ–º –∫–Ω–æ–ø–∫–∏ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å "),(0,t.Lk)("b",{onClick:s[4]||(s[4]=s=>e.$go("/page/rules-customer"))},f),(0,t.eW)(" –∏ "),(0,t.Lk)("b",{onClick:s[5]||(s[5]=s=>e.$go("/page/privacy_policy"))},v)])),_:1})])):(0,t.Q3)("",!0),"enter_pass"==k.screen?((0,t.uX)(),(0,t.CE)("section",g,[$,y,(0,t.bF)(Y,{ref:"uphone",fill:"outline",mode:"md",placeholder:"+7(___)___ __ __",name:"phone",type:"tel",inputmode:"tel",autocomplete:"tel-national",modelValue:k.user_phone,"onUpdate:modelValue":s[6]||(s[6]=e=>k.user_phone=e),onIonInput:s[7]||(s[7]=e=>b.phoneFormat(e)),onIonChange:s[8]||(s[8]=e=>b.phoneSubmit()),label:"–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞","label-placement":"stacked"},null,8,["modelValue"]),V,(0,t.bF)(Y,{ref:"upass",fill:"outline",mode:"md",modelValue:k.user_pass,"onUpdate:modelValue":s[9]||(s[9]=e=>k.user_pass=e),name:"password",type:"password",required:"",label:"–ü–∞—Ä–æ–ª—å","label-placement":"stacked",onKeyup:s[10]||(s[10]=(0,l.jR)((e=>b.passSubmit()),["enter"]))},null,8,["modelValue"]),I,(0,t.bF)(ee,{onClick:b.passSubmit,expand:"block",disabled:!b.passwordIsValid},{default:(0,t.k6)((()=>[(0,t.eW)("–í—Ö–æ–¥")])),_:1},8,["onClick","disabled"]),L,(0,t.bF)(ee,{onClick:b.codeSend,expand:"block",color:"success"},{default:(0,t.k6)((()=>[(0,t.bF)(se,{src:i.chatboxEllipsesOutline,slot:"start"},null,8,["src"]),(0,t.eW)("–í–æ–π—Ç–∏ –°–ú–° –∫–æ–¥–æ–º")])),_:1},8,["onClick"])])):(0,t.Q3)("",!0),"enter_code"==k.screen?((0,t.uX)(),(0,t.CE)("section",F,[C,S,(0,t.Lk)("p",w,[(0,t.Lk)("b",null,(0,n.v_)(k.user_phone),1)]),W,(0,t.bF)(Y,{ref:"ucode",fill:"outline",mode:"md",modelValue:k.codeValue,"onUpdate:modelValue":s[11]||(s[11]=e=>k.codeValue=e),type:"numeric",inputmode:"numeric",maxlength:"4",pattern:"\\d{4}",placeholder:"- - - -",enterkeyhint:"go",required:"",autocomplete:"one-time-code",label:"–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ —Å–º—Å","label-placement":"stacked",onIonInput:s[12]||(s[12]=e=>b.codeSubmit(e))},null,8,["modelValue"]),O,(0,t.bF)(ee,{onClick:s[13]||(s[13]=e=>b.codeSubmit()),expand:"block",disabled:!b.codeIsValid},{default:(0,t.k6)((()=>[(0,t.eW)("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")])),_:1},8,["disabled"]),x,k.codeResendTime>0?((0,t.uX)(),(0,t.Wv)(ae,{key:0,lines:"none"},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[(0,t.eW)("–í—ã –ø–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –≤ —Ç–µ—á–µ–Ω–∏–µ "+(0,n.v_)(b.codeArriveAt)+". ",1),k.codeResendTime<90?((0,t.uX)(),(0,t.CE)("b",X,"–ú–æ–∂–µ—Ç –ø–æ–∑–≤–æ–Ω–∏—Ç—å ü§ñ —Ä–æ–±–æ—Ç –∏ –ø—Ä–æ–¥–∏–∫—Ç–æ–≤–∞—Ç—å –∫–æ–¥.")):(0,t.Q3)("",!0)])])),_:1})):((0,t.uX)(),(0,t.Wv)(ae,{key:1,lines:"none"},{default:(0,t.k6)((()=>[(0,t.eW)(" –°–º—Å —Å –∫–æ–¥–æ–º –Ω–µ –ø—Ä–∏—à–ª–∞? "),(0,t.bF)(te,{slot:"end",onClick:b.codeSend,color:"primary"},{default:(0,t.k6)((()=>[(0,t.eW)("–ü–æ—Å–ª–∞—Ç—å –µ—â–µ —Ä–∞–∑")])),_:1},8,["onClick"])])),_:1})),T,(0,t.bF)(ee,{onClick:s[14]||(s[14]=e=>k.screen="enter_phone"),expand:"block",fill:"outline",color:"medium"},{default:(0,t.k6)((()=>[(0,t.eW)("–ò–∑–º–µ–Ω–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞")])),_:1})])):(0,t.Q3)("",!0),"enter_createpass"==k.screen?((0,t.uX)(),(0,t.CE)("section",U,[q,Q,A,(0,t.bF)(ne,null,{default:(0,t.k6)((()=>[(0,t.bF)(ae,{lines:"none"},{default:(0,t.k6)((()=>[(0,t.bF)(se,{slot:"start",src:i.keyOutline},null,8,["src"]),(0,t.bF)(le,{modelValue:k.registerWithPass,"onUpdate:modelValue":s[15]||(s[15]=e=>k.registerWithPass=e),value:"1"},{default:(0,t.k6)((()=>[(0,t.eW)("–°–æ–∑–¥–∞—Ç—å –ø–∞—Ä–æ–ª—å")])),_:1},8,["modelValue"])])),_:1}),k.registerWithPass?((0,t.uX)(),(0,t.Wv)(ae,{key:0,lines:"none"},{default:(0,t.k6)((()=>[(0,t.bF)(Y,{modelValue:k.user_pass,"onUpdate:modelValue":s[16]||(s[16]=e=>k.user_pass=e),name:"password",type:"password",placeholder:"–Ω–∞–ø–∏—à–∏—Ç–µ –ø–∞—Ä–æ–ª—å",required:"",label:"–ü–∞—Ä–æ–ª—å","label-placement":"stacked"},null,8,["modelValue"])])),_:1})):(0,t.Q3)("",!0),k.registerWithPass&&k.user_pass?((0,t.uX)(),(0,t.Wv)(ae,{key:1},{default:(0,t.k6)((()=>[(0,t.bF)(Y,{modelValue:k.user_pass_confirm,"onUpdate:modelValue":s[17]||(s[17]=e=>k.user_pass_confirm=e),type:"password",placeholder:"–Ω–∞–ø–∏—à–∏—Ç–µ –ø–æ–≤—Ç–æ—Ä",required:"",label:"–ü–∞—Ä–æ–ª—å –ø–æ–≤—Ç–æ—Ä","label-placement":"stacked"},null,8,["modelValue"])])),_:1})):(0,t.Q3)("",!0),k.user_pass&&k.user_pass!=k.user_pass_confirm?((0,t.uX)(),(0,t.CE)("p",E," –ü–∞—Ä–æ–ª–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å ")):(0,t.Q3)("",!0)])),_:1}),J,k.user_pass?((0,t.uX)(),(0,t.Wv)(ee,{key:0,onClick:s[18]||(s[18]=e=>b.userformOpen()),expand:"block"},{default:(0,t.k6)((()=>[(0,t.eW)("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")])),_:1})):(0,t.Q3)("",!0),k.user_pass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(ee,{key:1,onClick:s[19]||(s[19]=e=>b.userformOpen()),expand:"block"},{default:(0,t.k6)((()=>[(0,t.eW)("–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å")])),_:1})),k.user_pass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("p",N," –í—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç–µ—Å—å –±–µ–∑ –ø–∞—Ä–æ–ª—è ")),z,(0,t.bF)(ee,{onClick:s[20]||(s[20]=e=>k.screen="enter_phone"),expand:"block",fill:"outline",color:"medium"},{default:(0,t.k6)((()=>[(0,t.eW)("–ò–∑–º–µ–Ω–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞")])),_:1})])):(0,t.Q3)("",!0),"enter_data"==k.screen?((0,t.uX)(),(0,t.CE)("section",R,[P,j,(0,t.bF)(ne,null,{default:(0,t.k6)((()=>[(0,t.bF)(ae,null,{default:(0,t.k6)((()=>[(0,t.bF)(Y,{modelValue:k.user_name,"onUpdate:modelValue":s[21]||(s[21]=e=>k.user_name=e),placeholder:"–Ω–∞–ø–∏—à–∏—Ç–µ –∏–º—è",required:"",label:"–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è *","label-placement":"stacked",ref:"uname"},null,8,["modelValue"])])),_:1}),(0,t.bF)(ae,null,{default:(0,t.k6)((()=>[(0,t.bF)(Y,{modelValue:k.user_birthday,"onUpdate:modelValue":s[22]||(s[22]=e=>k.user_birthday=e),type:"date",placeholder:"",required:"",label:"–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å)","label-placement":"stacked"},null,8,["modelValue"])])),_:1}),(0,t.bF)(ae,null,{default:(0,t.k6)((()=>[(0,t.bF)(Y,{modelValue:k.user_email,"onUpdate:modelValue":s[23]||(s[23]=e=>k.user_email=e),type:"email",placeholder:"@",required:"",label:"–í–∞—à e-mail (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å)","label-placement":"stacked"},null,8,["modelValue"])])),_:1})])),_:1}),B,(0,t.bF)(re,{mode:"ios",modelValue:k.user_avatar_name,"onUpdate:modelValue":s[24]||(s[24]=e=>k.user_avatar_name=e)},{default:(0,t.k6)((()=>[(0,t.bF)(oe,{value:"man"},{default:(0,t.k6)((()=>[(0,t.bF)(ie,null,{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:e.$heap.state.hostname+"img/avatar/man.png"},null,8,D)])),_:1})])),_:1}),(0,t.bF)(oe,{value:"woman"},{default:(0,t.k6)((()=>[(0,t.bF)(ie,null,{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:e.$heap.state.hostname+"img/avatar/woman.png"},null,8,G)])),_:1})])),_:1})])),_:1},8,["modelValue"]),K,k.user_name?((0,t.uX)(),(0,t.Wv)(ee,{key:0,onClick:b.registrationSubmit,expand:"block"},{default:(0,t.k6)((()=>[(0,t.eW)("–ì–æ—Ç–æ–≤–æ")])),_:1},8,["onClick"])):((0,t.uX)(),(0,t.Wv)(ee,{key:1,onClick:s[25]||(s[25]=s=>e.$refs.uname.$el.setFocus()),expand:"block",color:"light"},{default:(0,t.k6)((()=>[(0,t.eW)("–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∏–º—è")])),_:1})),Z])):(0,t.Q3)("",!0),M])])])),_:1})}var H=a(5654),ee=a(2311),se=a.n(ee),ae=a(8701),te=a(5480),le={components:{IonText:H.IO,IonButton:H.Jm,IonItem:H.uz,IonList:H.nf,IonInput:H.$w,IonCheckbox:H.eY,IonSegment:H.Gp,IonSegmentButton:H.eP,IonAvatar:H.mC,IonIcon:H.iq,IonChip:H.ZB},setup(){return{giftOutline:te.Lsq,personOutline:te.wAZ,keyOutline:te.uNo,atOutline:te.WFd,chatboxEllipsesOutline:te.Pkp}},data(){return{user_phone:"",user_name:null,user_email:null,user_avatar_name:"man",user_birthday:null,user_pass:null,user_pass_confirm:null,screen:"enter_phone",codeValue:null,passValue:null,codeResendTime:0,phoneSubmitted:0,signinOptions:{},registerWithPass:0}},computed:{phoneIsValid(){var e;return 11==(null===(e=this.user_phone)||void 0===e?void 0:e.replace(/\D/g,"").length)},passwordIsValid(){var e;return(null===(e=this.user_pass)||void 0===e?void 0:e.length)>=4},codeIsValid(){var e;return 4==(null===(e=this.codeValue)||void 0===e?void 0:e.replace(/\D/g,"").length)},codeArriveAt(){const e=Math.floor(this.codeResendTime/60),s=this.codeResendTime-60*e;return(e>0?`${e} –º–∏–Ω `:"")+`${s} —Å–µ–∫`}},methods:{phoneFormat(e){var s;const a=null===(s=e.target)||void 0===s?void 0:s.value;let t=a.replace(/[^0-9]+/g,"")||"";"7"!=t.substring(0,1)&&(t="7"+t),t.length>11&&(t=t.substring(t.length-11)),setTimeout((()=>{this.user_phone="+"+t}),50)},async phoneSubmit(){if(this.phoneSubmitted=1,!this.phoneIsValid)return!1;const e={user_phone:this.user_phone};try{if(this.signinOptions=await se().post(`${this.$heap.state.hostname}User/signInOptionsGet`,e),1==this.signinOptions.is_signedin)return this.$flash("–í—ã –≤–æ—à–ª–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å"),void this.$router.go(-1);if(1==this.signinOptions.is_deleted)return void this.$flash("–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å —É–¥–∞–ª–µ–Ω");if(1==this.signinOptions.is_disabled)return void this.$flash("–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω");if(1==this.signinOptions.by_pass)return this.screen="enter_pass",void setTimeout((()=>{this.$refs.upass.$el.setFocus()}),100);if(1==this.signinOptions.by_code)return void this.codeSend()}catch(t){var s,a;const e=null===t||void 0===t||null===(s=t.responseJSON)||void 0===s||null===(a=s.messages)||void 0===a?void 0:a.error;switch(e){case"notfound":this.signinOptions={is_newuser:1},this.codeSend();break;default:this.$flash("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥");break}}},async passSubmit(){if(this.submitted=!0,!this.phoneIsValid||!this.passwordIsValid)return!1;let e={user_phone:this.user_phone,user_pass:this.user_pass,user_pass_confirm:this.user_pass};try{await se().post(`${this.$heap.state.hostname}User/signIn`,e);const s=await ae.A.get();this.$flash(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å ${s.user_name}`),this.$router.go(-1)}catch(t){var s,a;const e=null===t||void 0===t||null===(s=t.responseJSON)||void 0===s||null===(a=s.messages)||void 0===a?void 0:a.error;switch(e){case"user_not_found":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–π–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é.");break;case"user_pass_wrong":this.$flash("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å");break;case"user_code_wrong":this.$flash("–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è");break;case"user_is_disabled":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª—é—á–µ–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É");break;case"user_is_deleted":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É");break;case"user_phone_unverified":this.$flash("–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω"),this.codeSend();break;default:this.$flash("–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å")}}},async codeSend(){if(this.phoneSubmitted=1,!this.phoneIsValid)return!1;const e={user_phone:this.user_phone};try{this.screen="enter_code",await se().post(`${this.$heap.state.hostname}User/phoneVerificationSend`,e),this.codeCapture(),this.codeClockTick(120),this.$refs.ucode.$el.setFocus()}catch(t){var s,a;const e=null===t||void 0===t||null===(s=t.responseJSON)||void 0===s||null===(a=s.messages)||void 0===a?void 0:a.error;switch(e){case"verification_target_invalid":this.$flash("–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞");break;case"verification_already_sent":this.$flash("–ö–æ–¥ —É–∂–µ –ø–æ—Å–ª–∞–Ω");break;default:this.$flash("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥");break}}},async codeCapture(){if(navigator.credentials)try{const e=await navigator.credentials.get({otp:{transport:["sms"]}});this.codeValue=e.code,this.codeSubmit()}catch(e){}},codeClockTick(e){e<0||(this.codeResendTime=e,setTimeout((()=>this.codeClockTick(this.codeResendTime-1)),1e3))},async codeSubmit(e){var s;e&&(this.codeValue=null===(s=e.target)||void 0===s?void 0:s.value);if(!this.phoneIsValid||!this.codeIsValid)return!1;1!=this.signinOptions.is_newuser&&1==this.signinOptions.by_code?this.codeSignIn():this.codeVerify()},async codeVerify(){try{const e={verification_type:"phone",verification_target:this.user_phone,verification_value:this.codeValue};await se().post(`${this.$heap.state.hostname}User/verificationCheck`,e),this.screen="enter_createpass"}catch(a){var e,s;const t=null===a||void 0===a||null===(e=a.responseJSON)||void 0===e||null===(s=e.messages)||void 0===s?void 0:s.error;switch(t){default:this.$flash("–ù–µ –≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è");break}}},async codeSignIn(){let e={user_phone:this.user_phone,user_ota_code:this.codeValue};try{await se().post(`${this.$heap.state.hostname}User/signInByCode`,e);const s=await ae.A.get();this.$flash(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å ${s.user_name}`),this.$heap.state.next_route?(this.$go(this.$heap.state.next_route),this.$heap.state.next_route=null):this.$router.go(-1)}catch(t){var s,a;const e=null===t||void 0===t||null===(s=t.responseJSON)||void 0===s||null===(a=s.messages)||void 0===a?void 0:a.error;switch(e){case"user_not_found":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–π–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é.");break;case"user_pass_wrong":this.$flash("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å");break;case"user_code_wrong":this.$flash("–ù–µ –≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è");break;case"user_is_disabled":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª—é—á–µ–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É");break;case"user_is_deleted":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É");break;case"user_phone_unverified":this.$flash("–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω"),this.codeSend();break;default:this.$flash("–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å")}}},async userformOpen(){if(this.phoneSubmitted=1,!this.phoneIsValid)return!1;this.screen="enter_data",setTimeout((()=>{this.$refs.uname&&this.$refs.uname.$el.setFocus()}),100)},async registrationSubmit(){if(this.user_name)try{var e;const s={user_phone:this.user_phone,user_name:this.user_name,user_birthday:this.user_birthday||null,user_avatar_name:this.user_avatar_name,user_email:this.user_email,user_pass:this.user_pass,user_pass_confirm:this.user_pass_confirm,user_ota_code:this.codeValue,inviter_user_id:null!==(e=localStorage.inviter_user_id)&&void 0!==e?e:0,metric_id:0},a=(await se().post(`${this.$heap.state.hostname}User/signUp`,s),await ae.A.get());this.$flash(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å ${a.user_name}`),this.$router.go(-1)}catch(s){let e="unknown";try{const a=Object.keys(JSON.parse(s.responseJSON.messages.error))[0],t=Object.values(JSON.parse(s.responseJSON.messages.error))[0];e=a+"_"+t}catch{}switch(e){case"user_phone_notunique":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω");break;case"user_phone_required":case"user_phone_invalid":case"user_phone_short":this.$flash("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞");break;case"user_name_required":case"user_name_short":this.$flash("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à –ø—Å–µ–≤–¥–æ–Ω–∏–º");break;case"user_email_invalid":this.$flash("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à –µ-–º–∞–∏–ª");break;case"user_email_notunique":this.$flash("–¢–∞–∫–æ–π –µ-–º–∞–∏–ª —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è");break;case"user_pass_required":this.$flash("–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è");break;case"user_pass_short":this.$flash("–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π");break;case"user_pass_notmatches":this.$flash("–ü–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º");break;default:this.$flash("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è")}}else this.$flash("–ò–º—è –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç—ã–º")}},mounted(){setTimeout((()=>{this.$refs.uphone&&this.$refs.uphone.$el.setFocus()}),100)}},ne=a(6262);const ie=(0,ne.A)(le,[["render",Y],["__scopeId","data-v-480bdbaf"]]);var oe=ie}}]);
//# sourceMappingURL=1995.269e011d.js.map