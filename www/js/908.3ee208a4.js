"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[908],{8908:function(e,t,o){o.r(t),o.d(t,{default:function(){return b}});var l=o(6252),n=o(3577);const a=e=>((0,l.dD)("data-v-daea44fc"),e=e(),(0,l.Cn)(),e),i={class:"header-image-container main-block"},s={class:"main-block-content",style:{transform:"rotate(-7deg)"}},r={class:"text",style:{color:"white"}},u=a((()=>(0,l._)("h2",{style:{color:"rgb(235, 192, 0)","font-size":"42px",margin:"0",filter:"drop-shadow(-2px 2px 2px #042c4f)"}},"Узнайте преимущества",-1))),d=a((()=>(0,l._)("h4",{style:{"font-size":"24px","margin-top":"5px"}},"работы с нашей платформой",-1))),c=a((()=>(0,l._)("b",null,"Презентация",-1))),p={key:0},m=a((()=>(0,l._)("h4",{style:{color:"var(--ion-color-primary)"}},"Регистрация нового продавца",-1)));function f(e,t,o,a,f,_){const h=(0,l.up)("ion-button"),k=(0,l.up)("ion-item"),w=(0,l.up)("ion-input"),g=(0,l.up)("router-link"),v=(0,l.up)("ion-text"),b=(0,l.up)("ion-checkbox"),W=(0,l.up)("ion-card-title"),C=(0,l.up)("ion-card-header"),y=(0,l.up)("ion-card-content"),I=(0,l.up)("ion-card"),x=(0,l.up)("ion-icon"),$=(0,l.up)("base-layout");return(0,l.wg)(),(0,l.j4)($,{"page-title":"Панель управления продавца"},{default:(0,l.w5)((()=>{var o;return[(0,l._)("div",i,[(0,l._)("div",s,[(0,l._)("div",r,[u,d,(0,l.Wm)(h,{color:"light",onClick:t[0]||(t[0]=t=>e.$go("/page/supplier-guide"))},{default:(0,l.w5)((()=>[c])),_:1})])])]),e.$heap.state.user.user_id>1?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(k,{lines:"none"},{default:(0,l.w5)((()=>[m])),_:1}),(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{modelValue:f.store_name,"onUpdate:modelValue":t[1]||(t[1]=e=>f.store_name=e),label:"Название магазина или ресторана*",labelPlacement:"stacked",placeholder:"Название*"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(k,{lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{style:{"font-size":"0.9em"}},{default:(0,l.w5)((()=>[(0,l.Uk)(" Я согласен(на) на условия "),(0,l.Wm)(g,{to:"/page/rules-supplier"},{default:(0,l.w5)((()=>[(0,l.Uk)("Договора оказания услуг")])),_:1})])),_:1}),(0,l.Wm)(b,{slot:"end",modelValue:f.contractAccepted,"onUpdate:modelValue":t[2]||(t[2]=e=>f.contractAccepted=e),"aria-label":""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(h,{expand:"block",onClick:t[3]||(t[3]=e=>_.itemCreate()),disabled:!f.contractAccepted||!f.store_name},{default:(0,l.w5)((()=>[(0,l.Uk)("Стать продавцом")])),_:1},8,["disabled"])])):((0,l.wg)(),(0,l.j4)(I,{key:1,color:"light"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Необходимо зарегистрироваться")])),_:1})])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Uk)(" Чтобы стать продавцом, нужно быть зарегистрированным пользователем. Вы можете зарегистрироваться за 2 минуты. "),(0,l.Wm)(h,{expand:"block",onClick:t[4]||(t[4]=t=>e.$go("/user/sign-up"))},{default:(0,l.w5)((()=>[(0,l.Uk)("Зарегистрироваться")])),_:1})])),_:1})])),_:1})),(null===(o=f.storeList)||void 0===o?void 0:o.length)>0?((0,l.wg)(),(0,l.j4)(I,{key:2,color:"light"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Зарегистрированые магазины")])),_:1})])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.storeList,(t=>((0,l.wg)(),(0,l.j4)(k,{key:t.store_id,detail:"",button:"",onClick:o=>e.$go(`/catalog/store-edit-${t.store_id}`)},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{icon:a.storefrontOutline,slot:"start"},null,8,["icon"]),(0,l.Uk)(" "+(0,n.zw)(t.store_name||t.store_name_new||"- - -"),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):(0,l.kq)("",!0)]})),_:1})}var _=o(2824),h=o(8903),k=(o(9755),o(2008),o(351)),w={components:{IonInput:_.pK,IonCard:_.PM,IonCardHeader:_.Zi,IonCardTitle:_.Dq,IonCardContent:_.FN,IonItem:_.Ie,IonButton:_.YG,IonCheckbox:_.nz,IonText:_.yW,IonIcon:_.gu},setup(){return{storefrontOutline:h.qRG}},data(){return{supprier:k.Z.supplier.status,store_name:null,contractAccepted:0,storeList:null}},mounted(){const e=this;this.listGet(),this.$topic.on("userGet",(function(){e.storeList||e.listGet()}))},methods:{async itemCreate(){try{if(!this.store_name)return void this.$flash("Название обязательно");const e=await k.Z.supplier.storeItemCreate(this.store_name);if(!e)return void this.$flash("Не удалось создать магазин или ресторан");this.$go(`/catalog/store-edit-${e}`)}catch(o){var e,t;const l=null===(e=o.responseJSON)||void 0===e||null===(t=e.messages)||void 0===t?void 0:t.error;"limit_exeeded"==l&&this.$flash("У вас зарегистрировано максимальное количество магазинов"),this.$flash("Не удалось создать магазин или ресторан")}},async listGet(){this.storeList=await k.Z.supplier.listGet()}}},g=o(3744);const v=(0,g.Z)(w,[["render",f],["__scopeId","data-v-daea44fc"]]);var b=v}}]);
//# sourceMappingURL=908.3ee208a4.js.map