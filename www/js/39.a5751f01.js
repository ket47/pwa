"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[39],{4966:function(t,e,o){o.d(e,{Z:function(){return h}});var i=o(6252),r=o(3577);const n={key:0,style:{position:"relative"}},l=["src"],u=["src"];function a(t,e,o,a,c,s){const d=(0,i.up)("ion-icon"),p=(0,i.up)("ion-fab-button"),m=(0,i.up)("ion-fab"),g=(0,i.up)("swiper-slide"),_=(0,i.up)("swiper");return c.expanded?((0,i.wg)(),(0,i.iD)("div",n,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.imageList,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.image_hash,style:{border:"2px solid var(--ion-color-primary)"}},[(0,i._)("img",{src:`${t.$heap.state.hostname}image/get.php/${e.image_hash}.1000.1000.webp`},null,8,l)])))),128)),(0,i.Wm)(m,{horizontal:"end",vertical:"top",slot:"fixed"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"light"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{src:a.contract,size:"large",onClick:e[0]||(e[0]=t=>s.minimize())},null,8,["src"])])),_:1})])),_:1})])):((0,i.wg)(),(0,i.j4)(_,{key:1,modules:a.modules,autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,effect:"fade",style:(0,r.j5)(`height: ${o.imgHeight||"100%"};`)},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.imageList,(e=>((0,i.wg)(),(0,i.j4)(g,{key:e.image_hash},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,r.C_)(`${o.mode?o.mode:""} cropper`),style:(0,r.j5)(`height: ${o.imgHeight+"px"||0};`)},[(0,i._)("img",{style:(0,r.j5)(`min-height: ${o.imgHeight+"px;"||0}`),src:`${t.$heap.state.hostname}image/get.php/${e.image_hash}.${4*o.imgHeight||1200}.${4*o.imgHeight||1200}.webp`},null,12,u)],6)])),_:2},1024)))),128))])),_:1},8,["modules","style"]))}var c=o(8903),s=o(2066),d=o(702),p=o(3181),m={components:{Swiper:p.t,SwiperSlide:p.o,IonFab:s.IJ,IonFabButton:s.W4,IonIcon:s.gu},props:["imageList","imgHeight","mode"],setup(){return{modules:[d.pt,d.xW],expand:c.jnR,contract:c.LJB}},data(){return{expanded:!1,vh:0,vw:0}},methods:{maximize(){this.expanded=!0,this.vh=document.getElementsByTagName("ion-content")[0].clientHeight,this.vw=document.getElementsByTagName("ion-content")[0].clientWidth},minimize(){this.expanded=!1,this.vh=document.getElementsByTagName("ion-content")[0].clientHeight,this.vw=document.getElementsByTagName("ion-content")[0].clientWidth}}},g=o(3744);const _=(0,g.Z)(m,[["render",a],["__scopeId","data-v-57ad0950"]]);var h=_},7039:function(t,e,o){o.r(e),o.d(e,{default:function(){return H}});o(5306);var i=o(6252),r=o(3577);const n={key:0,class:"product-images"},l={class:"blur-image"},u=["src"],a={style:{"font-size":"1.2em"}},c=(0,i.Uk)(),s={key:0},d=(0,i.Uk)(),p={key:1},m={key:2},g=(0,i.Uk)("Варианты"),_={key:0,style:{color:"var(--ion-color-danger)","font-size":"0.75em"}},h=(0,i.Uk)("   "),w=(0,i.Uk)("Не заказан"),y=(0,i.Uk)("Итог");function f(t,e,o,f,I,k){var v;const W=(0,i.up)("image-slider-comp"),z=(0,i.up)("ion-list-header"),b=(0,i.up)("ion-text"),C=(0,i.up)("ion-item"),$=(0,i.up)("ion-list"),j=(0,i.up)("ion-accordion"),U=(0,i.up)("ion-accordion-group"),x=(0,i.up)("ion-icon"),O=(0,i.up)("ion-chip"),H=(0,i.up)("ion-label"),q=(0,i.up)("cart-add-buttons"),D=(0,i.up)("ion-textarea"),L=(0,i.up)("base-layout");return(0,i.wg)(),(0,i.j4)(L,{"page-title":null===(v=I.productItem)||void 0===v?void 0:v.product_name,pageDefaultBackLink:"/catalog",cartComponent:f.CartHeader},{default:(0,i.w5)((()=>{var o;return[I.productItem?((0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",l,[(0,i._)("img",{src:`${t.$heap.state.hostname}image/get.php/${null===(o=I.productItem.images[0])||void 0===o?void 0:o.image_hash}.50.50.webp`},null,8,u)]),(0,i.Wm)(W,{imageList:I.productItem.images,imgHeight:400,mode:"save-aspect-ratio"},null,8,["imageList"])])):(0,i.kq)("",!0),I.productItem?((0,i.wg)(),(0,i.j4)($,{key:1},{default:(0,i.w5)((()=>{var o;return[(0,i.Wm)(z,{style:{"font-size":"1.2em"}},{default:(0,i.w5)((()=>[(0,i._)("h3",a,[(0,i._)("b",null,(0,r.zw)(I.productItem.product_name),1),c,I.productItem.product_option?((0,i.wg)(),(0,i.iD)("b",s,"["+(0,r.zw)(I.productItem.product_option)+"]",1)):(0,i.kq)("",!0),d,k.isAvailable?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",p,"(Нет в наличии)"))])])),_:1}),I.productItem.product_description?((0,i.wg)(),(0,i.j4)(U,{key:0,style:{width:"100%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(j,null,{default:(0,i.w5)((()=>[(0,i.Wm)(C,{slot:"header",lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{class:"product-description",color:"medium"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(I.productItem.product_description),1)])),_:1})])),_:1}),(0,i.Wm)($,{slot:"content"},{default:(0,i.w5)((()=>[(0,i.Wm)(C,{lines:"none"})])),_:1})])),_:1})])),_:1})):(0,i.kq)("",!0),I.productItem.is_writable?((0,i.wg)(),(0,i.j4)(C,{key:1,lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{slot:"end",color:"primary",src:f.settingsOutline,onClick:e[0]||(e[0]=e=>t.$router.push("/catalog/product-edit-"+I.productId))},null,8,["src"])])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(C,{lines:"none"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(k.categories,(t=>((0,i.wg)(),(0,i.j4)(O,{outline:!0,color:"primary",key:t.group_id},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(t.group_name),1)])),_:2},1024)))),128))])),_:1}),null!==(o=I.productItem)&&void 0!==o&&o.options?((0,i.wg)(),(0,i.iD)("div",m,[(0,i.Wm)(C,{lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{src:f.layersOutline,color:"primary",slot:"start"},null,8,["src"]),(0,i.Wm)(H,null,{default:(0,i.w5)((()=>[g])),_:1})])),_:1}),(0,i.Wm)(C,{lines:"none"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.productItem.options,(e=>((0,i.wg)(),(0,i.j4)(O,{onClick:o=>t.$router.replace(`/catalog/product-${e.product_id}`),color:"primary",key:e.product_id},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(e.product_option),1)])),_:2},1032,["onClick"])))),128))])),_:1})])):(0,i.kq)("",!0),I.productItem.product_price!=I.productItem.product_final_price?((0,i.wg)(),(0,i.j4)(C,{key:3,lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{slot:"start",color:"primary",src:f.giftOutline},null,8,["src"]),(0,i.Wm)(H,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Акция до "+(0,r.zw)(k.promoFinish),1)])),_:1}),(0,i.Wm)(H,{slot:"end",color:"success",style:{"font-size":"1.2em"}},{default:(0,i.w5)((()=>[(0,i.Uk)("-"+(0,r.zw)(k.promoPercent)+"%",1)])),_:1})])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(C,{lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{slot:"start",color:"primary",src:f.pricetagOutline},null,8,["src"]),"порция"==I.productItem.product_unit?((0,i.wg)(),(0,i.j4)(H,{key:0},{default:(0,i.w5)((()=>[(0,i.Uk)("Цена за "+(0,r.zw)(k.weight_in_gramms)+"г",1)])),_:1})):((0,i.wg)(),(0,i.j4)(H,{key:1},{default:(0,i.w5)((()=>[(0,i.Uk)("Цена за "+(0,r.zw)(I.productItem.product_unit),1)])),_:1})),(0,i.Wm)(H,{slot:"end",color:"primary",style:{"font-size":"1.2em"}},{default:(0,i.w5)((()=>[I.productItem.product_price!=I.productItem.product_final_price?((0,i.wg)(),(0,i.iD)("span",_,[(0,i._)("s",null,(0,r.zw)(I.productItem.product_price)+(0,r.zw)(t.$heap.state.currencySign),1),h])):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,r.zw)(I.productItem.product_final_price)+(0,r.zw)(t.$heap.state.currencySign),1)])),_:1})])),_:1}),(0,i.Wm)(C,{lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{slot:"start",color:"primary",src:f.cartOutline},null,8,["src"]),k.inCart?((0,i.wg)(),(0,i.j4)(H,{key:0},{default:(0,i.w5)((()=>[(0,i.Uk)("В корзине ("+(0,r.zw)(I.productItem.product_unit)+")",1)])),_:1})):((0,i.wg)(),(0,i.j4)(H,{key:1},{default:(0,i.w5)((()=>[w])),_:1})),(0,i.Wm)(q,{slot:"end",buttonLayout:"horizontal",display:"inline",productItem:I.productItem},null,8,["productItem"])])),_:1}),k.inCart?((0,i.wg)(),(0,i.j4)(C,{key:4,lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{slot:"start",color:"primary",src:f.walletOutline},null,8,["src"]),(0,i.Wm)(H,null,{default:(0,i.w5)((()=>[y])),_:1}),(0,i.Wm)(H,{slot:"end",color:"primary",style:{"font-size":"1.2em"}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(k.inCart)+(0,r.zw)(t.$heap.state.currencySign),1)])),_:1})])),_:1})):(0,i.kq)("",!0),null!=k.inCartComment?((0,i.wg)(),(0,i.j4)(C,{key:5,lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{slot:"start",color:"primary",src:f.chatboxEllipsesOutline},null,8,["src"]),(0,i.Wm)(D,{value:k.inCartComment,onChange:e[1]||(e[1]=t=>k.cartCommentUpdate(t.target.value)),placeholder:"заметка для продавца"},null,8,["value"])])),_:1})):(0,i.kq)("",!0)]})),_:1})):(0,i.kq)("",!0)]})),_:1},8,["page-title","cartComponent"])}var I=o(9755),k=o.n(I),v=o(2008),W=o(8903),z=o(2066),b=o(4966),C=o(3387),$=o(9052),j=o(7782),U={components:{ImageSliderComp:b.Z,CartAddButtons:C.Z,IonTextarea:z.g2,IonListHeader:z.yh,IonText:z.yW,IonIcon:z.gu,IonItem:z.Ie,IonChip:z.hM,IonLabel:z.Q$,IonList:z.q_,IonAccordion:z.We,IonAccordionGroup:z.eh},setup(){return{CartHeader:$.Z,compassOutline:W.gmD,cartOutline:W.Ox0,pricetagOutline:W.TuG,giftOutline:W._$o,walletOutline:W.S5P,chatboxEllipsesOutline:W._Pt,settingsOutline:W.C$N,layersOutline:W.Y1P}},data(){return{productId:this.$route.params.id,productItem:null,is_loading:0}},mounted(){this.getProduct()},computed:{categories(){var t,e,o,i,r,n;if(null===(t=this.productItem)||void 0===t||null===(e=t.member_of_groups)||void 0===e||!e.group_ids)return[];const l=null===(o=this.productItem)||void 0===o||null===(i=o.member_of_groups)||void 0===i?void 0:i.group_ids.split(","),u=null===(r=this.productItem)||void 0===r||null===(n=r.member_of_groups)||void 0===n?void 0:n.group_names.split(",");let a=[];for(let c in l)a.push({group_id:l[c],group_name:u[c]});return a},promoFinish(){try{return this.productItem.product_promo_finish.split(" ")[0].split("-").reverse().join(".")}catch{return null}},promoPercent(){return Math.round(100-this.productItem.product_final_price/this.productItem.product_price*100)},inCart(){const t=j.Z.cart.entryGet(this.productId);return t?t.data.entry_quantity*t.data.entry_price:0},inCartComment(){var t;const e=j.Z.cart.entryGet(this.productId);return e?null!==(t=e.data.entry_comment)&&void 0!==t?t:"":null},isAvailable(){return 1!=this.productItem.is_counted||this.productItem.product_quantity-this.productItem.product_quantity_reserved>0},weight_in_gramms(){return 1e3*this.productItem.product_weight}},methods:{async getProduct(){if(1!=this.is_loading){try{this.is_loading=1,this.productItem=await k().post(v.Z.state.hostname+"Product/itemGet",{product_id:this.productId})}catch{}this.is_loading=0}},cartCommentUpdate(t){const e={product_id:this.productId,entry_comment:t};j.Z.cart.entryUpdate(e)}}},x=o(3744);const O=(0,x.Z)(U,[["render",f]]);var H=O}}]);
//# sourceMappingURL=39.a5751f01.js.map