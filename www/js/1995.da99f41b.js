"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[1995],{1995:function(e,s,a){a.r(s),a.d(s,{default:function(){return S}});var t=a(641),l=a(3751),n=a(33);const i={novalidate:"",onsubmit:"return false"},o={style:{display:"grid","grid-template-columns":"auto minmax(330px,400px) auto",width:"100%","min-height":"80vh"}},r={key:0,class:"ion-padding"},u={key:1,class:"ion-padding"},d={key:2,class:"ion-padding"},c={style:{color:"var(--ion-color-medium)"}},h={key:0},p={key:3,class:"ion-padding"},_={key:2,class:"ion-padding"},m={key:2,style:{color:"var(--ion-color-medium)","font-size":"0.9em","text-align":"center"}},k={key:4,class:"ion-padding"},f=["src"],b=["src"];function v(e,s,a,v,g,$){const y=(0,t.g2)("ion-input"),V=(0,t.g2)("ion-text"),I=(0,t.g2)("ion-button"),L=(0,t.g2)("ion-icon"),F=(0,t.g2)("ion-item"),C=(0,t.g2)("ion-chip"),S=(0,t.g2)("ion-checkbox"),w=(0,t.g2)("ion-list"),W=(0,t.g2)("ion-avatar"),O=(0,t.g2)("ion-segment-button"),x=(0,t.g2)("ion-segment"),X=(0,t.g2)("base-layout");return(0,t.uX)(),(0,t.Wv)(X,{"page-title":"–í—Ö–æ–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å",pageDefaultBackLink:"/user"},{default:(0,t.k6)(()=>[(0,t.Lk)("form",i,[(0,t.Lk)("div",o,[s[71]||(s[71]=(0,t.Lk)("div",null,null,-1)),"enter_phone"==g.screen?((0,t.uX)(),(0,t.CE)("section",r,[s[33]||(s[33]=(0,t.Lk)("h4",null,"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞",-1)),s[34]||(s[34]=(0,t.Lk)("p",{style:{color:"var(--ion-color-medium)","font-size":"0.9em"}}," –î–ª—è –≤—Ö–æ–¥–∞ –≤ –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ",-1)),s[35]||(s[35]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(y,{ref:"uphone",fill:"outline",mode:"md",placeholder:"+7(___)___ __ __",name:"phone",type:"tel",inputmode:"tel",autocomplete:"tel-national",modelValue:g.user_phone,"onUpdate:modelValue":s[0]||(s[0]=e=>g.user_phone=e),onIonInput:s[1]||(s[1]=e=>$.phoneFormat(e)),onKeyup:s[2]||(s[2]=(0,l.jR)(e=>$.phoneSubmit(),["enter"])),label:"–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞","label-placement":"stacked"},null,8,["modelValue"]),s[36]||(s[36]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bo)((0,t.bF)(V,{color:"danger"},{default:(0,t.k6)(()=>s[26]||(s[26]=[(0,t.eW)(" –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ ")])),_:1,__:[26]},512),[[l.aG,!$.phoneIsValid&&1==g.phoneSubmitted]]),$.phoneIsValid?((0,t.uX)(),(0,t.Wv)(I,{key:0,onClick:$.phoneSubmit,expand:"block"},{default:(0,t.k6)(()=>s[27]||(s[27]=[(0,t.eW)("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")])),_:1,__:[27]},8,["onClick"])):((0,t.uX)(),(0,t.Wv)(I,{key:1,onClick:s[3]||(s[3]=s=>e.$refs.uphone.$el.setFocus()),expand:"block",color:"light"},{default:(0,t.k6)(()=>s[28]||(s[28]=[(0,t.eW)("–ó–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–æ–º–µ—Ä")])),_:1,__:[28]})),s[37]||(s[37]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(V,{color:"medium",style:{"text-align":"center",color:"var(--ion-color-medium)","font-size":"0.7em"}},{default:(0,t.k6)(()=>[s[31]||(s[31]=(0,t.eW)(" –ù–∞–∂–∞—Ç–∏–µ–º –∫–Ω–æ–ø–∫–∏ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å ")),(0,t.Lk)("b",{onClick:s[4]||(s[4]=s=>e.$go("/page/rules-customer"))},s[29]||(s[29]=[(0,t.Lk)("u",null,"–ü—Ä–∞–≤–∏–ª–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è",-1)])),s[32]||(s[32]=(0,t.eW)(" –∏ ")),(0,t.Lk)("b",{onClick:s[5]||(s[5]=s=>e.$go("/page/privacy_policy"))},s[30]||(s[30]=[(0,t.Lk)("u",null,"–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏",-1)]))]),_:1,__:[31,32]})])):(0,t.Q3)("",!0),"enter_pass"==g.screen?((0,t.uX)(),(0,t.CE)("section",u,[s[40]||(s[40]=(0,t.Lk)("h4",null,"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",-1)),s[41]||(s[41]=(0,t.Lk)("p",{style:{color:"var(--ion-color-medium)","font-size":"0.9em"}}," –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ –ø–∞—Ä–æ–ª—å, –≤–æ–π–¥–∏—Ç–µ —Å –ø–æ–º–æ—à—å—é —Å–º—Å –∫–æ–¥–∞. ",-1)),(0,t.bF)(y,{ref:"uphone",fill:"outline",mode:"md",placeholder:"+7(___)___ __ __",name:"phone",type:"tel",inputmode:"tel",autocomplete:"tel-national",modelValue:g.user_phone,"onUpdate:modelValue":s[6]||(s[6]=e=>g.user_phone=e),onIonInput:s[7]||(s[7]=e=>$.phoneFormat(e)),onIonChange:s[8]||(s[8]=e=>$.phoneSubmit()),label:"–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞","label-placement":"stacked"},null,8,["modelValue"]),s[42]||(s[42]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(y,{ref:"upass",fill:"outline",mode:"md",modelValue:g.user_pass,"onUpdate:modelValue":s[9]||(s[9]=e=>g.user_pass=e),name:"password",type:"password",required:"",label:"–ü–∞—Ä–æ–ª—å","label-placement":"stacked",onKeyup:s[10]||(s[10]=(0,l.jR)(e=>$.passSubmit(),["enter"]))},null,8,["modelValue"]),s[43]||(s[43]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(I,{onClick:$.passSubmit,expand:"block",disabled:!$.passwordIsValid},{default:(0,t.k6)(()=>s[38]||(s[38]=[(0,t.eW)("–í—Ö–æ–¥")])),_:1,__:[38]},8,["onClick","disabled"]),s[44]||(s[44]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(I,{onClick:$.codeSend,expand:"block",color:"success"},{default:(0,t.k6)(()=>[(0,t.bF)(L,{src:v.chatboxEllipsesOutline,slot:"start"},null,8,["src"]),s[39]||(s[39]=(0,t.eW)("–í–æ–π—Ç–∏ –°–ú–° –∫–æ–¥–æ–º"))]),_:1,__:[39]},8,["onClick"])])):(0,t.Q3)("",!0),"enter_code"==g.screen?((0,t.uX)(),(0,t.CE)("section",d,[s[49]||(s[49]=(0,t.Lk)("h4",null,"–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ —Å–º—Å",-1)),s[50]||(s[50]=(0,t.Lk)("p",{style:{color:"var(--ion-color-medium)","font-size":"0.9em"}}," –°–º—Å —Å –∫–æ–¥–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω ",-1)),(0,t.Lk)("p",c,[(0,t.Lk)("b",null,(0,n.v_)(g.user_phone),1)]),s[51]||(s[51]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(y,{ref:"ucode",fill:"outline",mode:"md",modelValue:g.codeValue,"onUpdate:modelValue":s[11]||(s[11]=e=>g.codeValue=e),type:"numeric",inputmode:"numeric",maxlength:"4",pattern:"\\d{4}",placeholder:"- - - -",enterkeyhint:"go",required:"",autocomplete:"one-time-code",label:"–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ —Å–º—Å","label-placement":"stacked",onIonInput:s[12]||(s[12]=e=>$.codeSubmit(e))},null,8,["modelValue"]),s[52]||(s[52]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(I,{onClick:s[13]||(s[13]=e=>$.codeSubmit()),expand:"block",disabled:!$.codeIsValid},{default:(0,t.k6)(()=>s[45]||(s[45]=[(0,t.eW)("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")])),_:1,__:[45]},8,["disabled"]),s[53]||(s[53]=(0,t.Lk)("div",{class:"vspace"},null,-1)),g.codeResendTime>0?((0,t.uX)(),(0,t.Wv)(F,{key:0,lines:"none"},{default:(0,t.k6)(()=>[(0,t.Lk)("p",null,[(0,t.eW)("–í—ã –ø–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –≤ —Ç–µ—á–µ–Ω–∏–µ "+(0,n.v_)($.codeArriveAt)+". ",1),g.codeResendTime<90?((0,t.uX)(),(0,t.CE)("b",h,"–ú–æ–∂–µ—Ç –ø–æ–∑–≤–æ–Ω–∏—Ç—å ü§ñ —Ä–æ–±–æ—Ç –∏ –ø—Ä–æ–¥–∏–∫—Ç–æ–≤–∞—Ç—å –∫–æ–¥.")):(0,t.Q3)("",!0)])]),_:1})):((0,t.uX)(),(0,t.Wv)(F,{key:1,lines:"none"},{default:(0,t.k6)(()=>[s[47]||(s[47]=(0,t.eW)(" –°–º—Å —Å –∫–æ–¥–æ–º –Ω–µ –ø—Ä–∏—à–ª–∞? ")),(0,t.bF)(C,{slot:"end",onClick:$.codeSend,color:"primary"},{default:(0,t.k6)(()=>s[46]||(s[46]=[(0,t.eW)("–ü–æ—Å–ª–∞—Ç—å –µ—â–µ —Ä–∞–∑")])),_:1,__:[46]},8,["onClick"])]),_:1,__:[47]})),s[54]||(s[54]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(I,{onClick:s[14]||(s[14]=e=>g.screen="enter_phone"),expand:"block",fill:"outline",color:"medium"},{default:(0,t.k6)(()=>s[48]||(s[48]=[(0,t.eW)("–ò–∑–º–µ–Ω–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞")])),_:1,__:[48]})])):(0,t.Q3)("",!0),"enter_createpass"==g.screen?((0,t.uX)(),(0,t.CE)("section",p,[s[59]||(s[59]=(0,t.Lk)("h4",null,"–ü–∞—Ä–æ–ª—å",-1)),s[60]||(s[60]=(0,t.Lk)("p",{style:{color:"var(--ion-color-medium)","font-size":"0.9em"}}," –í—ã –º–æ–∂–µ—Ç–µ –±—ã—Å—Ç—Ä–µ–µ –≤—Ö–æ–¥–∏—Ç—å –≤ –ø—Ä–æ—Ñ–∏–ª—å, –µ—Å–ª–∏ —Å–æ–∑–¥–∞–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å. ",-1)),s[61]||(s[61]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(w,null,{default:(0,t.k6)(()=>[(0,t.bF)(F,{lines:"none"},{default:(0,t.k6)(()=>[(0,t.bF)(L,{slot:"start",src:v.keyOutline},null,8,["src"]),(0,t.bF)(S,{modelValue:g.registerWithPass,"onUpdate:modelValue":s[15]||(s[15]=e=>g.registerWithPass=e),value:"1"},{default:(0,t.k6)(()=>s[55]||(s[55]=[(0,t.eW)("–°–æ–∑–¥–∞—Ç—å –ø–∞—Ä–æ–ª—å")])),_:1,__:[55]},8,["modelValue"])]),_:1}),g.registerWithPass?((0,t.uX)(),(0,t.Wv)(F,{key:0,lines:"none"},{default:(0,t.k6)(()=>[(0,t.bF)(y,{modelValue:g.user_pass,"onUpdate:modelValue":s[16]||(s[16]=e=>g.user_pass=e),name:"password",type:"password",placeholder:"–Ω–∞–ø–∏—à–∏—Ç–µ –ø–∞—Ä–æ–ª—å",required:"",label:"–ü–∞—Ä–æ–ª—å","label-placement":"stacked"},null,8,["modelValue"])]),_:1})):(0,t.Q3)("",!0),g.registerWithPass&&g.user_pass?((0,t.uX)(),(0,t.Wv)(F,{key:1},{default:(0,t.k6)(()=>[(0,t.bF)(y,{modelValue:g.user_pass_confirm,"onUpdate:modelValue":s[17]||(s[17]=e=>g.user_pass_confirm=e),type:"password",placeholder:"–Ω–∞–ø–∏—à–∏—Ç–µ –ø–æ–≤—Ç–æ—Ä",required:"",label:"–ü–∞—Ä–æ–ª—å –ø–æ–≤—Ç–æ—Ä","label-placement":"stacked"},null,8,["modelValue"])]),_:1})):(0,t.Q3)("",!0),g.user_pass&&g.user_pass!=g.user_pass_confirm?((0,t.uX)(),(0,t.CE)("p",_," –ü–∞—Ä–æ–ª–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å ")):(0,t.Q3)("",!0)]),_:1}),s[62]||(s[62]=(0,t.Lk)("div",{class:"vspace"},null,-1)),g.user_pass?((0,t.uX)(),(0,t.Wv)(I,{key:0,onClick:s[18]||(s[18]=e=>$.userformOpen()),expand:"block"},{default:(0,t.k6)(()=>s[56]||(s[56]=[(0,t.eW)("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")])),_:1,__:[56]})):(0,t.Q3)("",!0),g.user_pass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(I,{key:1,onClick:s[19]||(s[19]=e=>$.userformOpen()),expand:"block"},{default:(0,t.k6)(()=>s[57]||(s[57]=[(0,t.eW)("–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å")])),_:1,__:[57]})),g.user_pass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("p",m," –í—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç–µ—Å—å –±–µ–∑ –ø–∞—Ä–æ–ª—è ")),s[63]||(s[63]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(I,{onClick:s[20]||(s[20]=e=>g.screen="enter_phone"),expand:"block",fill:"outline",color:"medium"},{default:(0,t.k6)(()=>s[58]||(s[58]=[(0,t.eW)("–ò–∑–º–µ–Ω–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞")])),_:1,__:[58]})])):(0,t.Q3)("",!0),"enter_data"==g.screen?((0,t.uX)(),(0,t.CE)("section",k,[s[66]||(s[66]=(0,t.Lk)("h4",null,"–ê–Ω–∫–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",-1)),s[67]||(s[67]=(0,t.Lk)("div",{class:"vspace"},null,-1)),(0,t.bF)(w,null,{default:(0,t.k6)(()=>[(0,t.bF)(F,null,{default:(0,t.k6)(()=>[(0,t.bF)(y,{modelValue:g.user_name,"onUpdate:modelValue":s[21]||(s[21]=e=>g.user_name=e),placeholder:"–Ω–∞–ø–∏—à–∏—Ç–µ –∏–º—è",required:"",label:"–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è *","label-placement":"stacked",ref:"uname"},null,8,["modelValue"])]),_:1}),(0,t.bF)(F,null,{default:(0,t.k6)(()=>[(0,t.bF)(y,{modelValue:g.user_birthday,"onUpdate:modelValue":s[22]||(s[22]=e=>g.user_birthday=e),type:"date",placeholder:"",required:"",label:"–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å)","label-placement":"stacked"},null,8,["modelValue"])]),_:1}),(0,t.bF)(F,null,{default:(0,t.k6)(()=>[(0,t.bF)(y,{modelValue:g.user_email,"onUpdate:modelValue":s[23]||(s[23]=e=>g.user_email=e),type:"email",placeholder:"@",required:"",label:"–í–∞—à e-mail (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å)","label-placement":"stacked"},null,8,["modelValue"])]),_:1})]),_:1}),s[68]||(s[68]=(0,t.Lk)("h4",null,"–í–∞—à –∞–≤–∞—Ç–∞—Ä",-1)),(0,t.bF)(x,{mode:"ios",modelValue:g.user_avatar_name,"onUpdate:modelValue":s[24]||(s[24]=e=>g.user_avatar_name=e)},{default:(0,t.k6)(()=>[(0,t.bF)(O,{value:"man"},{default:(0,t.k6)(()=>[(0,t.bF)(W,null,{default:(0,t.k6)(()=>[(0,t.Lk)("img",{src:e.$heap.state.hostname+"img/avatar/man.png"},null,8,f)]),_:1})]),_:1}),(0,t.bF)(O,{value:"woman"},{default:(0,t.k6)(()=>[(0,t.bF)(W,null,{default:(0,t.k6)(()=>[(0,t.Lk)("img",{src:e.$heap.state.hostname+"img/avatar/woman.png"},null,8,b)]),_:1})]),_:1})]),_:1},8,["modelValue"]),s[69]||(s[69]=(0,t.Lk)("div",{class:"vspace"},null,-1)),g.user_name?((0,t.uX)(),(0,t.Wv)(I,{key:0,onClick:$.registrationSubmit,expand:"block"},{default:(0,t.k6)(()=>s[64]||(s[64]=[(0,t.eW)("–ì–æ—Ç–æ–≤–æ")])),_:1,__:[64]},8,["onClick"])):((0,t.uX)(),(0,t.Wv)(I,{key:1,onClick:s[25]||(s[25]=s=>e.$refs.uname.$el.setFocus()),expand:"block",color:"light"},{default:(0,t.k6)(()=>s[65]||(s[65]=[(0,t.eW)("–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∏–º—è")])),_:1,__:[65]})),s[70]||(s[70]=(0,t.Lk)("div",{class:"vspace"},null,-1))])):(0,t.Q3)("",!0),s[72]||(s[72]=(0,t.Lk)("div",null,null,-1))])])]),_:1})}var g=a(5634),$=a(2311),y=a.n($),V=a(8701),I=a(5480),L={components:{IonText:g.IO,IonButton:g.Jm,IonItem:g.uz,IonList:g.nf,IonInput:g.$w,IonCheckbox:g.eY,IonSegment:g.Gp,IonSegmentButton:g.eP,IonAvatar:g.mC,IonIcon:g.iq,IonChip:g.ZB},setup(){return{giftOutline:I.Lsq,personOutline:I.wAZ,keyOutline:I.uNo,atOutline:I.WFd,chatboxEllipsesOutline:I.Pkp}},data(){return{user_phone:"",user_name:null,user_email:null,user_avatar_name:"man",user_birthday:null,user_pass:null,user_pass_confirm:null,screen:"enter_phone",codeValue:null,passValue:null,codeResendTime:0,phoneSubmitted:0,signinOptions:{},registerWithPass:0}},computed:{phoneIsValid(){var e;return 11==(null===(e=this.user_phone)||void 0===e?void 0:e.replace(/\D/g,"").length)},passwordIsValid(){var e;return(null===(e=this.user_pass)||void 0===e?void 0:e.length)>=4},codeIsValid(){var e;return 4==(null===(e=this.codeValue)||void 0===e?void 0:e.replace(/\D/g,"").length)},codeArriveAt(){const e=Math.floor(this.codeResendTime/60),s=this.codeResendTime-60*e;return(e>0?`${e} –º–∏–Ω `:"")+`${s} —Å–µ–∫`}},methods:{phoneFormat(e){var s;const a=null===(s=e.target)||void 0===s?void 0:s.value;let t=a.replace(/[^0-9]+/g,"")||"";"7"!=t.substring(0,1)&&(t="7"+t),t.length>11&&(t=t.substring(t.length-11)),setTimeout(()=>{this.user_phone="+"+t},50)},async phoneSubmit(){if(this.phoneSubmitted=1,!this.phoneIsValid)return!1;const e={user_phone:this.user_phone};try{if(this.signinOptions=await y().post(`${this.$heap.state.hostname}User/signInOptionsGet`,e),1==this.signinOptions.is_signedin)return this.$flash("–í—ã –≤–æ—à–ª–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å"),void this.$router.go(-1);if(1==this.signinOptions.is_deleted)return void this.$flash("–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å —É–¥–∞–ª–µ–Ω");if(1==this.signinOptions.is_disabled)return void this.$flash("–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω");if(1==this.signinOptions.by_pass)return this.screen="enter_pass",void setTimeout(()=>{this.$refs.upass.$el.setFocus()},100);if(1==this.signinOptions.by_code)return void this.codeSend()}catch(t){var s,a;const e=null===t||void 0===t||null===(s=t.responseJSON)||void 0===s||null===(a=s.messages)||void 0===a?void 0:a.error;switch(e){case"notfound":this.signinOptions={is_newuser:1},this.codeSend();break;default:this.$flash("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥");break}}},async passSubmit(){if(this.submitted=!0,!this.phoneIsValid||!this.passwordIsValid)return!1;let e={user_phone:this.user_phone,user_pass:this.user_pass,user_pass_confirm:this.user_pass};try{await y().post(`${this.$heap.state.hostname}User/signIn`,e);const s=await V.A.get();this.$flash(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å ${s.user_name}`),this.$router.go(-1)}catch(t){var s,a;const e=null===t||void 0===t||null===(s=t.responseJSON)||void 0===s||null===(a=s.messages)||void 0===a?void 0:a.error;switch(e){case"user_not_found":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–π–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é.");break;case"user_pass_wrong":this.$flash("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å");break;case"user_code_wrong":this.$flash("–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è");break;case"user_is_disabled":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª—é—á–µ–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É");break;case"user_is_deleted":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É");break;case"user_phone_unverified":this.$flash("–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω"),this.codeSend();break;default:this.$flash("–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å")}}},async codeSend(){if(this.phoneSubmitted=1,!this.phoneIsValid)return!1;const e={user_phone:this.user_phone};try{this.screen="enter_code",await y().post(`${this.$heap.state.hostname}User/phoneVerificationSend`,e),this.codeCapture(),this.codeClockTick(120),this.$refs.ucode.$el.setFocus()}catch(t){var s,a;const e=null===t||void 0===t||null===(s=t.responseJSON)||void 0===s||null===(a=s.messages)||void 0===a?void 0:a.error;switch(e){case"verification_target_invalid":this.$flash("–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞");break;case"verification_already_sent":this.$flash("–ö–æ–¥ —É–∂–µ –ø–æ—Å–ª–∞–Ω");break;default:this.$flash("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥");break}}},async codeCapture(){if(navigator.credentials)try{const e=await navigator.credentials.get({otp:{transport:["sms"]}});this.codeValue=e.code,this.codeSubmit()}catch(e){}},codeClockTick(e){e<0||(this.codeResendTime=e,setTimeout(()=>this.codeClockTick(this.codeResendTime-1),1e3))},async codeSubmit(e){var s;e&&(this.codeValue=null===(s=e.target)||void 0===s?void 0:s.value);if(!this.phoneIsValid||!this.codeIsValid)return!1;1!=this.signinOptions.is_newuser&&1==this.signinOptions.by_code?this.codeSignIn():this.codeVerify()},async codeVerify(){try{const e={verification_type:"phone",verification_target:this.user_phone,verification_value:this.codeValue};await y().post(`${this.$heap.state.hostname}User/verificationCheck`,e),this.screen="enter_createpass"}catch(a){var e,s;const t=null===a||void 0===a||null===(e=a.responseJSON)||void 0===e||null===(s=e.messages)||void 0===s?void 0:s.error;switch(t){default:this.$flash("–ù–µ –≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è");break}}},async codeSignIn(){let e={user_phone:this.user_phone,user_ota_code:this.codeValue};try{await y().post(`${this.$heap.state.hostname}User/signInByCode`,e);const s=await V.A.get();this.$flash(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å ${s.user_name}`),this.$heap.state.next_route?(this.$go(this.$heap.state.next_route),this.$heap.state.next_route=null):this.$router.go(-1)}catch(t){var s,a;const e=null===t||void 0===t||null===(s=t.responseJSON)||void 0===s||null===(a=s.messages)||void 0===a?void 0:a.error;switch(e){case"user_not_found":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–π–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é.");break;case"user_pass_wrong":this.$flash("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å");break;case"user_code_wrong":this.$flash("–ù–µ –≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è");break;case"user_is_disabled":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª—é—á–µ–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É");break;case"user_is_deleted":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É");break;case"user_phone_unverified":this.$flash("–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω"),this.codeSend();break;default:this.$flash("–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å")}}},async userformOpen(){if(this.phoneSubmitted=1,!this.phoneIsValid)return!1;this.screen="enter_data",setTimeout(()=>{this.$refs.uname&&this.$refs.uname.$el.setFocus()},100)},async registrationSubmit(){if(this.user_name)try{const e={user_phone:this.user_phone,user_name:this.user_name,user_birthday:this.user_birthday||null,user_avatar_name:this.user_avatar_name,user_email:this.user_email,user_pass:this.user_pass,user_pass_confirm:this.user_pass_confirm,user_ota_code:this.codeValue,inviter_user_id:localStorage.inviter_user_id??0,metric_id:0},s=(await y().post(`${this.$heap.state.hostname}User/signUp`,e),await V.A.get());this.$flash(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å ${s.user_name}`),this.$router.go(-1)}catch(e){let s="unknown";try{const a=Object.keys(JSON.parse(e.responseJSON.messages.error))[0],t=Object.values(JSON.parse(e.responseJSON.messages.error))[0];s=a+"_"+t}catch{}switch(s){case"user_phone_notunique":this.$flash("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω");break;case"user_phone_required":case"user_phone_invalid":case"user_phone_short":this.$flash("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞");break;case"user_name_required":case"user_name_short":this.$flash("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à –ø—Å–µ–≤–¥–æ–Ω–∏–º");break;case"user_email_invalid":this.$flash("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à –µ-–º–∞–∏–ª");break;case"user_email_notunique":this.$flash("–¢–∞–∫–æ–π –µ-–º–∞–∏–ª —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è");break;case"user_pass_required":this.$flash("–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è");break;case"user_pass_short":this.$flash("–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π");break;case"user_pass_notmatches":this.$flash("–ü–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º");break;default:this.$flash("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è")}}else this.$flash("–ò–º—è –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç—ã–º")}},mounted(){setTimeout(()=>{this.$refs.uphone&&this.$refs.uphone.$el.setFocus()},100)}},F=a(6262);const C=(0,F.A)(L,[["render",v],["__scopeId","data-v-480bdbaf"]]);var S=C}}]);
//# sourceMappingURL=1995.da99f41b.js.map