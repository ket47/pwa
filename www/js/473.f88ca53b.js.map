{"version":3,"file":"js/473.f88ca53b.js","mappings":"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","sources":["webpack://Tezkel/./src/components/UserAddressPicker.vue","webpack://Tezkel/./src/components/UserAddressPicker.vue?5734","webpack://Tezkel/./src/views/UserAddresses.vue","webpack://Tezkel/./src/views/UserAddresses.vue?cfef"],"sourcesContent":["<template>\r\n    <ion-content>\r\n        <yandex-map @click=\"onClick($event)\" style=\"height:100%\" \r\n        :coords=\"coords\"\r\n        :zoom=\"16\"\r\n        :settings=\"settings\"\r\n        :controls=\"['zoomControl']\"\r\n        >\r\n            <ymap-marker :coords=\"coords\" marker-id=\"1\" :properties=\"placemarkProperties\"/>\r\n        </yandex-map>\r\n        <div style=\"position: absolute;top: 30px;width:100%;--ion-item-background: #ffffffdd;border-radius:10px;\">\r\n            <ion-searchbar debounce=\"500\" v-model=\"addressSearchQuery\" @ionInput=\"suggestionsGet()\" placeholder=\"поиск по адресу\" color=\"light\"/>\r\n            <ion-item v-for=\"(row,i) in suggestions\" :key=\"i\" @click=\"suggestionSelect(`${row.subtitle.text}, ${row.title.text}`,row.uri)\" style=\"margin-right:10px;margin-left:10px\">\r\n                {{row.subtitle.text}} {{row.title.text}} \r\n                <span slot=\"end\" style=\"color:#666\">{{row.distance.text}}</span>\r\n            </ion-item>\r\n        </div>\r\n    </ion-content>\r\n    <ion-toolbar>\r\n        <ion-textarea label=\"комментарий к адресу\" label-placement=\"floating\" v-model=\"addressComment\"></ion-textarea>\r\n        <ion-button :strong=\"true\" @click=\"pickAddress()\" color=\"primary\" expand=\"block\">\r\n            <ion-icon :src=\"checkmark\" slot=\"start\"/>\r\n            Ок\r\n        </ion-button>\r\n        <ion-button @click=\"closeModal()\" color=\"light\" expand=\"block\">Закрыть</ion-button>\r\n    </ion-toolbar>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n    IonContent,\r\n    IonToolbar,\r\n    IonButton,\r\n    IonSearchbar,\r\n    IonIcon,\r\n    IonItem,\r\n    IonTextarea,\r\n    modalController\r\n}                           from \"@ionic/vue\";\r\nimport { yandexMap,ymapMarker,loadYmap }         from \"vue-yandex-maps\";\r\nimport { locationOutline,closeOutline,checkmark }  from 'ionicons/icons';\r\nimport User from '@/scripts/User.js'\r\n\r\nexport default({\r\n    components: {\r\n    IonContent,\r\n    IonToolbar,\r\n    IonButton,\r\n    IonSearchbar,\r\n    IonIcon,\r\n    IonItem,\r\n    IonTextarea,\r\n    yandexMap,\r\n    ymapMarker,\r\n    },\r\n    setup() {\r\n        const closeModal = function(){\r\n            modalController.dismiss();\r\n        };\r\n        return { closeModal, locationOutline,closeOutline,checkmark };\r\n    },\r\n    props: {\r\n\t\tlocation_group_name_low: String,\r\n        location_group_id: Number\r\n    },\r\n    data(){\r\n        let locationType=this.location_group_name_low+\" адрес\"\r\n        let locSettings=this.$heap.state.settings.location;\r\n        let mapCenter=JSON.parse(locSettings.mapCenter)\r\n\r\n        return {\r\n            settings: {\r\n                apiKey: locSettings.ymapApiKey,\r\n                lang: \"ru_RU\",\r\n                coordorder: \"latlong\",\r\n                version: \"2.1\",\r\n            },\r\n            placemarkProperties:{\r\n                iconCaption:locationType\r\n            },\r\n            suggestions:[],\r\n            addressSearchQuery:null,\r\n            markDeviceOnMap:true,\r\n            locationType,\r\n            locSettings,\r\n            selectedPlacemark:0,\r\n            selectedAddress:'',\r\n            selectedCoords:[],\r\n            coords: mapCenter,\r\n            addressComment:''\r\n        };\r\n    },\r\n    methods:{\r\n        async pickAddress(){\r\n            try{\r\n                if( !this.selectedAddress ){\r\n                    const result=await window.ymaps.geocode(this.coords)\r\n                    this.selectedAddress=result.geoObjects.get(0)?.getAddressLine();                    \r\n                }\r\n            } catch(err){\r\n                //console.log(err)\r\n            }\r\n            var location={\r\n                location_address:this.filterAddress(this.selectedAddress),\r\n                location_latitude:this.coords[0],\r\n                location_longitude:this.coords[1],\r\n                location_comment:this.addressComment\r\n            };\r\n            modalController.dismiss(location);\r\n        },\r\n        filterAddress( address ){\r\n            const bannedParts=this.locSettings.addressErase.split(', ')\r\n            const parts=address.split(', ')\r\n            let filtered=[]\r\n            for(const part of parts){\r\n                if(bannedParts.find(pt=>pt==part)){\r\n                    continue\r\n                }\r\n                filtered.push(part)\r\n            }\r\n            return filtered.reverse().join(', ')\r\n        },\r\n        onClick(e) {\r\n            if( !e || !e.get ){\r\n                return\r\n            }\r\n            this.markDeviceOnMap=false\r\n            this.suggestions=[]\r\n            this.selectedAddress=null\r\n            this.coords=e.get('coords')\r\n        },\r\n        async suggestionsGet(){\r\n            this.markDeviceOnMap=false\r\n            if( !this.addressSearchQuery ){\r\n                this.suggestions=[]\r\n                return\r\n            }\r\n            try{\r\n                const sapikey=this.$heap.state.settings.location.ymapSuggestionApiKey\r\n                const ll=this.coords.slice().reverse().join(',')\r\n                const response= await fetch(`https://suggest-maps.yandex.ru/v1/suggest?apikey=${sapikey}&lang=ru_RU&ll=${ll}&spn=1,1&attrs=uri&types=house&results=5&text=${this.addressSearchQuery}`)\r\n                const responseData=await response.json()\r\n                this.suggestions=responseData.results||[]\r\n            }catch{\r\n                /** */\r\n            }\r\n        },\r\n        async suggestionSelect( address, uri ){\r\n            this.selectedAddress=address\r\n            this.geocode(uri)\r\n        },\r\n        async geocode( uri ){\r\n            try{\r\n                this.suggestions=[]\r\n                const apikey=this.$heap.state.settings.location.ymapApiKey\r\n                const response= await fetch(`https://geocode-maps.yandex.ru/1.x?apikey=${apikey}&format=json&results=1&uri=${uri}`)\r\n                const responseData=await response.json()\r\n                const geoObject=responseData.response.GeoObjectCollection.featureMember[0].GeoObject\r\n                this.coords=geoObject.Point.pos.split(\" \").reverse()\r\n            }catch(err){\r\n                console.log(err)\r\n            }\r\n        }\r\n    },\r\n    async mounted(){\r\n        await loadYmap();\r\n        \r\n        const lastStoredPosition=User.geo.lastStoredGet()\r\n        if( lastStoredPosition?.location_latitude ){\r\n            this.coords=[lastStoredPosition.location_latitude,lastStoredPosition.location_longitude]\r\n        }\r\n        /**\r\n         * device location got with delay so dont use it if user started search\r\n         */\r\n        const geo=await User.geo.get()\r\n        if(this.markDeviceOnMap && geo){\r\n            const {coords}=geo\r\n            this.coords=[coords.latitude,coords.longitude]\r\n            this.$flash(\"На карте отмечено ваше местоположение\")\r\n        }\r\n    }\r\n});\r\n</script>","import { render } from \"./UserAddressPicker.vue?vue&type=template&id=7ac52534\"\nimport script from \"./UserAddressPicker.vue?vue&type=script&lang=js\"\nexport * from \"./UserAddressPicker.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<style scoped>\r\n.is_main{\r\n    font-weight: bold;\r\n}\r\n</style>\r\n<template>\r\n  <base-layout page-title=\"Мои адреса\" ref=\"UserAddressPage\">\r\n        <ion-card v-if=\"mainAddress\">\r\n          <ion-card-header>\r\n            <ion-card-subtitle>\r\n              Адрес доставки заказа\r\n            </ion-card-subtitle>\r\n          </ion-card-header>\r\n          <ion-card-content>\r\n            <p>Вы выбрали <b style=\"color:var(--ion-color-primary)\">{{mainAddress.location_address}}</b>, как адрес доставки заказов.</p>\r\n            <p>Вы сможете заказать из ресторанов и магазинов в пределах радиуса доставки.</p>\r\n          </ion-card-content>\r\n        </ion-card>\r\n        <ion-card v-else>\r\n          <ion-card-header>\r\n            <ion-card-subtitle>\r\n              Адрес не установлен\r\n            </ion-card-subtitle>\r\n          </ion-card-header>\r\n          <ion-card-content>\r\n            <p>Вы пока не добавили адрес доставки заказа.</p>\r\n            <p>Для поиска ресторанов и магазинов будет использоваться адрес по умолчанию.</p>\r\n          </ion-card-content>\r\n        </ion-card>\r\n\r\n        <ion-list v-if=\"locationList.length\" lines=\"full\">\r\n          <ion-item v-for=\"(location,i) in locationList\" :key=\"location.location_id\">\r\n              <ion-img slot=\"start\" alt=\"location icon\" :src=\"`${$heap.state.hostname}/image/get.php/${location.image_hash}.60.60.png`\" style=\"height:24px\" />\r\n              <div>\r\n                <ion-label @click=\"locationSetMain(`${location.location_id}`,`${i}`)\" style=\"white-space:normal;cursor:pointer;\"  :class=\"location.is_main==1?'is_main':''\">\r\n                  {{ location.location_address }}\r\n                </ion-label>\r\n                <div style=\"color:var(--ion-color-medium)\">{{ location.location_comment }}</div>\r\n              </div>\r\n              <ion-icon slot=\"end\" :icon=\"trashOutline\" @click=\"locationDelete(`${location.location_id}`,`${i}`)\"></ion-icon>\r\n          </ion-item>\r\n        </ion-list>\r\n\r\n        <ion-list>\r\n          <ion-list-header>\r\n            <ion-label>Добавить адрес</ion-label>\r\n          </ion-list-header>\r\n          <ion-item  v-for=\"location in locationGroupList\" :key=\"location.group_id\" @click=\"modalLocationCreate(`${location.group_id}`,`${location.group_name}`)\" style=\"cursor:pointer\">\r\n              <ion-img :src=\"`${$heap.state.hostname}/image/get.php/${location.image_hash}.60.60.png`\" style=\"height:24px\"  slot=\"start\"/>\r\n              <ion-label>{{ location.group_name }}</ion-label>\r\n              <ion-icon :src=\"addOutline\" slot=\"end\"/>\r\n          </ion-item>\r\n        </ion-list>\r\n  </base-layout>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {\r\n  IonImg,\r\n  IonLabel,\r\n  IonItem,\r\n  IonList,\r\n  IonListHeader,\r\n  IonIcon,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardContent,\r\n  IonCardSubtitle,\r\n  modalController,\r\n  loadingController,\r\n}                         from \"@ionic/vue\";\r\nimport router             from '@/router';\r\nimport heap               from '@/heap';\r\nimport User               from '@/scripts/User.js'\r\nimport jQuery             from 'jquery';\r\nimport UserAddressPicker  from '@/components/UserAddressPicker.vue';\r\n\r\nimport { locationOutline,trashOutline,addOutline }          from 'ionicons/icons';\r\n\r\n\r\nexport default{\r\n  name: 'UserAddresses',\r\n  components: {\r\n  IonImg,\r\n  IonLabel,\r\n  IonItem,\r\n  IonList,\r\n  IonListHeader,\r\n  IonIcon,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardContent,\r\n  IonCardSubtitle,\r\n  },\r\n  setup(){\r\n    return { locationOutline,trashOutline,addOutline };\r\n  },\r\n  mounted(){\r\n    this.locationListGet();\r\n  },\r\n  computed:{\r\n    mainAddress(){\r\n      return this.locationList?.find(location=>location.is_main==1)\r\n    }\r\n  },\r\n  methods:{\r\n    async modalLocationCreate( location_group_id, location_group_name ) {\r\n      if(!heap.getters.userIsLogged){\r\n        if( confirm('Чтобы добавленный адрес сохранился, необходимо авторизироваться') ){\r\n          this.$go('/modal/user-authorize');\r\n        }\r\n        return;\r\n      }\r\n      var location_group_name_low=String(location_group_name).toLowerCase();\r\n      const modal = await modalController.create({\r\n        component: UserAddressPicker,\r\n        showBackdrop:true,\r\n        componentProps:{\r\n          location_group_name_low\r\n        },\r\n      });\r\n      modal.onDidDismiss().then(location => {\r\n        this.locationCreate(location_group_id,location.data);\r\n      });\r\n      return modal.present();\r\n    },\r\n    async locationListGet(){\r\n      try{\r\n        let new_location_main=null\r\n        const response=await jQuery.get(heap.state.hostname + \"User/locationListGet\",{includeGroupList:1})\r\n        this.locationList=response.location_list;\r\n        this.locationGroupList=response.location_group_list;\r\n        if(this.locationList){\r\n          for(let loc of this.locationList){\r\n            if(loc.is_main!=1)continue;\r\n              new_location_main=loc;\r\n          }\r\n        }\r\n        if( !new_location_main ){\r\n          /**\r\n           * for some reason main location is not present so reload user data\r\n           */\r\n          User.get()\r\n          return\r\n        }\r\n        if(new_location_main && new_location_main?.location_id!=heap.state.user.location_main?.location_id){\r\n          heap.state.user.location_main=new_location_main\r\n          this.$topic.publish('userMainLocationSet',heap.state.user.location_main)\r\n        }\r\n      }catch{/** */}\r\n    },\r\n    async locationCreate(group_id,location){\r\n      if( !location ){\r\n        return;\r\n      }\r\n      let request={\r\n        location_holder:'user',\r\n        location_holder_id:heap.state.user.user_id,\r\n        location_group_id:group_id,\r\n        location_address:location.location_address,\r\n        location_latitude:location.location_latitude,\r\n        location_longitude:location.location_longitude,\r\n        location_comment:location.location_comment\r\n      };\r\n      try{\r\n        await jQuery.post(heap.state.hostname + \"User/locationCreate\",request)\r\n        if(this.$heap.state.next_route){\r\n          this.$go(this.$heap.state.next_route)\r\n          this.$heap.state.next_route=null\r\n        }\r\n        this.locationListGet();\r\n      } catch(err){\r\n        const exception=err.responseJSON;\r\n        const exception_code=exception.messages.error;\r\n        switch(exception_code){\r\n            case 'limit_exeeded':\r\n                this.$flash(\"Больше адресов добавить нельзя\");\r\n                break;\r\n        }\r\n        return false\r\n      }\r\n    },\r\n    async locationSetMain( location_id, index ){\r\n      var self=this;\r\n      var loc=self.locationList[index];\r\n      heap.state.user.location_main={\r\n        location_id:loc.location_id,\r\n        location_latitude:loc.location_latitude,\r\n        location_longitude:loc.location_longitude,\r\n        location_address:loc.location_address,\r\n        image_hash:loc.image_hash\r\n      };\r\n      router.go(-1);\r\n      await jQuery.post(heap.state.hostname + \"User/locationSetMain\",{location_id});\r\n      this.$topic.publish('userMainLocationSet',heap.state.user.location_main)\r\n    },\r\n    async locationDelete( location_id, index ){\r\n      if(!confirm(\"Удалить адрес доставки?\")){\r\n        return\r\n      }\r\n      try{\r\n        this.locationList.splice(index,1);\r\n        await jQuery.post(heap.state.hostname + \"User/locationDelete\",{location_id})\r\n      }catch{/** */}\r\n      this.locationListGet();\r\n    },\r\n    async locationCurrentSet(){\r\n      const loading = await loadingController.create({\r\n        message: 'Определяем ваше местоположение',\r\n      });\r\n      loading.present();\r\n      try{\r\n        await User.geo.locationCurrentGet()\r\n        this.$flash(\"Ваше местоположение определено\")\r\n      } catch(err){\r\n        this.$flash(\"Не удалось получить ваше местоположение\")\r\n      }\r\n      loading.dismiss();\r\n      router.go(-1)\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      locationList:[],\r\n      locationGroupList:[]\r\n    }\r\n  }\r\n}\r\n</script>","import { render } from \"./UserAddresses.vue?vue&type=template&id=0aec6efe&scoped=true\"\nimport script from \"./UserAddresses.vue?vue&type=script&lang=js\"\nexport * from \"./UserAddresses.vue?vue&type=script&lang=js\"\n\nimport \"./UserAddresses.vue?vue&type=style&index=0&id=0aec6efe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0aec6efe\"]])\n\nexport default __exports__"],"names":["style","slot","_createElementBlock","_Fragment","_createVNode","_component_ion_content","default","_withCtx","_component_yandex_map","onClick","_cache","$event","$options","coords","$data","zoom","settings","controls","_component_ymap_marker","properties","placemarkProperties","_","_createElementVNode","_hoisted_1","_component_ion_searchbar","debounce","modelValue","addressSearchQuery","onIonInput","suggestionsGet","placeholder","color","_renderList","suggestions","row","i","_createBlock","_component_ion_item","key","suggestionSelect","subtitle","text","title","uri","_createTextVNode","_toDisplayString","_hoisted_2","distance","_component_ion_toolbar","_component_ion_textarea","label","addressComment","_component_ion_button","strong","pickAddress","expand","_component_ion_icon","src","$setup","checkmark","closeModal","components","IonContent","IonToolbar","IonButton","IonSearchbar","IonIcon","IonItem","IonTextarea","yandexMap","ymapMarker","setup","modalController","dismiss","locationOutline","closeOutline","props","location_group_name_low","String","location_group_id","Number","data","locationType","this","locSettings","$heap","state","location","mapCenter","JSON","parse","apiKey","ymapApiKey","lang","coordorder","version","iconCaption","markDeviceOnMap","selectedPlacemark","selectedAddress","selectedCoords","methods","_result$geoObjects$ge","result","window","ymaps","geocode","geoObjects","get","getAddressLine","err","location_address","filterAddress","location_latitude","location_longitude","location_comment","address","bannedParts","addressErase","split","parts","filtered","part","find","pt","push","reverse","join","e","sapikey","ymapSuggestionApiKey","ll","slice","response","fetch","responseData","json","results","apikey","geoObject","GeoObjectCollection","featureMember","GeoObject","Point","pos","console","log","mounted","loadYmap","lastStoredPosition","User","geo","lastStoredGet","latitude","longitude","$flash","__exports__","render","_component_base_layout","ref","mainAddress","_component_ion_card","_component_ion_card_header","_component_ion_card_subtitle","_component_ion_card_content","_hoisted_3","_hoisted_4","locationList","length","_component_ion_list","lines","location_id","_component_ion_img","alt","_ctx","hostname","image_hash","_component_ion_label","locationSetMain","class","_normalizeClass","is_main","_hoisted_5","icon","trashOutline","locationDelete","_createCommentVNode","_component_ion_list_header","locationGroupList","group_id","modalLocationCreate","group_name","addOutline","name","IonImg","IonLabel","IonList","IonListHeader","IonCard","IonCardHeader","IonCardContent","IonCardSubtitle","locationListGet","computed","_this$locationList","location_group_name","heap","getters","userIsLogged","confirm","$go","toLowerCase","modal","create","component","UserAddressPicker","showBackdrop","componentProps","onDidDismiss","then","locationCreate","present","_new_location_main","_heap$state$user$loca","new_location_main","jQuery","includeGroupList","location_list","location_group_list","loc","user","location_main","$topic","publish","request","location_holder","location_holder_id","user_id","next_route","exception","responseJSON","exception_code","messages","error","index","self","router","go","splice","locationCurrentSet","loading","loadingController","message","locationCurrentGet"],"sourceRoot":""}