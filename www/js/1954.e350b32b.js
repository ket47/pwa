"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[1954],{1954:function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});var i=o(641);const s=(0,i.Lk)("h6",null,"Изображения",-1);function l(e,t,o,l,r,a){const n=(0,i.g2)("ckeditor"),d=(0,i.g2)("ion-button"),h=(0,i.g2)("ion-col"),m=(0,i.g2)("ion-row"),u=(0,i.g2)("image-tile-comp"),c=(0,i.g2)("ion-icon"),_=(0,i.g2)("ion-grid"),g=(0,i.g2)("base-layout");return(0,i.uX)(),(0,i.Wv)(g,{pageTitle:`Условия доставки ${r.store.store_name}`,pageDefaultBackLink:`/catalog/store-edit-${r.store_id}`},{default:(0,i.k6)((()=>[(0,i.bF)(n,{editor:r.editor,modelValue:r.store_delivery_methods,"onUpdate:modelValue":t[0]||(t[0]=e=>r.store_delivery_methods=e),config:r.editorConfig},null,8,["editor","modelValue","config"]),(0,i.bF)(_,{style:{width:"100%"}},{default:(0,i.k6)((()=>[(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(h,{style:{"text-align":"right"}},{default:(0,i.k6)((()=>[(0,i.bF)(d,{onClick:t[1]||(t[1]=e=>a.itemDelete()),color:"danger",fill:"outline",expand:"block"},{default:(0,i.k6)((()=>[(0,i.eW)("Удалить")])),_:1})])),_:1}),(0,i.bF)(h,{style:{"text-align":"right"}},{default:(0,i.k6)((()=>[(0,i.bF)(d,{onClick:t[2]||(t[2]=e=>a.itemUpdate()),expand:"block"},{default:(0,i.k6)((()=>[(0,i.eW)("Сохранить")])),_:1})])),_:1})])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(h,null,{default:(0,i.k6)((()=>[s,(0,i.bF)(u,{images:e.images,image_holder:"store_dmethods",image_holder_id:r.store_id,controller:"Store",title:"Картинка к методам доставки",ref:"storeDmethodsImgs"},null,8,["images","image_holder_id"]),(0,i.bF)(d,{onClick:t[3]||(t[3]=t=>e.$refs.storeDmethodsImgs.take_photo()),color:"light",expand:"block"},{default:(0,i.k6)((()=>[(0,i.bF)(c,{src:l.cameraOutline,slot:"start"},null,8,["src"]),(0,i.eW)(" Добавить изображение 5шт ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["pageTitle","pageDefaultBackLink"])}var r=o(5846),a=o.n(r),n=o(2819),d=o.n(n),h=(o(1622),o(5480)),m=o(4933),u=o(5654),c=o(2311),_=o.n(c),g={components:{IonButton:u.Jm,IonGrid:u.lO,IonRow:u.ln,IonCol:u.hU,IonIcon:u.iq,imageTileComp:m.A,ckeditor:a().component},setup(){return{documentTextOutline:h.pXZ,cameraOutline:h.GOB}},data(){return{store_id:this.$route.params.id??0,store:{},store_delivery_methods:"",editor:d(),editorConfig:{language:"ru",toolbar:["heading","|","bold","italic","numberedList","bulletedList"]}}},mounted(){this.itemGet()},methods:{async itemGet(){const e={store_id:this.store_id};try{this.store=await _().post(`${this.$heap.state.hostname}Store/itemGet`,e),this.store.store_delivery_methods&&(this.store_delivery_methods=this.store.store_delivery_methods)}catch{}},async itemUpdate(){const e=3e3;this.store_delivery_methods.length>e&&alert(`Текст слишком длинный. Сохранится только первые ${e} символов`);const t={store_id:this.store_id,store_delivery_methods:this.store_delivery_methods};try{await _().post(`${this.$heap.state.hostname}Store/itemUpdate`,JSON.stringify(t)),this.$flash("Сохранено")}catch{}},async itemDelete(){confirm("Удалить условия доставки?")&&(this.store_delivery_methods="",this.itemUpdate())}}},k=o(6262);const f=(0,k.A)(g,[["render",l]]);var p=f}}]);
//# sourceMappingURL=1954.e350b32b.js.map