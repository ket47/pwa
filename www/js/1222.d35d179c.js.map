{"version":3,"file":"js/1222.d35d179c.js","mappings":"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","sources":["webpack://tezkel/./src/views/ProductEdit.vue","webpack://tezkel/./src/components/GroupPicker.vue","webpack://tezkel/./src/components/GroupPicker.vue?0a04","webpack://tezkel/./src/views/ProductEdit.vue?406f"],"sourcesContent":["<style scoped>\r\n  .schedule ion-item ion-label{\r\n    width:130px\r\n  }\r\n  .disabled{\r\n    background-color: var(--ion-color-medium-shade);\r\n  }\r\n  .deleted{\r\n    background-color: var(--ion-color-danger-tint);\r\n  }\r\n  .notworking{\r\n    background-color: var(--ion-color-light-shade);\r\n  }\r\n  .primary{\r\n    background-color: var(--ion-color-primary-shade);\r\n  }\r\n  .active{\r\n    background-color: var(--ion-color-success-shade);\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <base-layout :page-title=\"productItem?.product_name??'Товар'\" :pageDefaultBackLink=\"`/catalog/product-${productId}`\">\r\n\r\n  <div v-if=\"!is_option_child\">\r\n    <ion-card :color=\"messageCardSeverity\">\r\n      <ion-card-header>\r\n        <ion-card-title>\r\n          Форма заполнена на {{productItem?.validity??0}}%\r\n          <ion-progress-bar :value=\"productItem?.validity/100\"></ion-progress-bar>\r\n        </ion-card-title>\r\n      </ion-card-header>\r\n      <ion-card-content v-if=\"productItem?.validity<validity_min\">\r\n        <ion-text>\r\n          Вам необходимо заполнить анкету не меньше чем на {{validity_min}}% для рассмотрения модератором\r\n          <p v-if=\"productItem?.validity==0\">Обратите внимание на то, что поля \r\n            <ul>\r\n              <li>Название (больше 5 букв), </li>\r\n              <li>Цена, </li>\r\n              <li>Актуальный остаток (если ведется учет), </li>\r\n              <li>Изображения товара</li>\r\n            </ul>\r\n            обязательные\r\n          </p>\r\n        </ion-text>\r\n      </ion-card-content>\r\n    </ion-card>\r\n    <ion-card v-if=\"message&&productItem?.validity>validity_min\">\r\n      <ion-card-content :class=\"messageClass\">\r\n        <ion-text>{{message}}</ion-text>\r\n      </ion-card-content>\r\n    </ion-card>\r\n  </div>\r\n\r\n    <ion-list v-if=\"productItem\">\r\n      <ion-item>\r\n        <ion-icon :src=\"trashOutline\" color=\"primary\" slot=\"start\"/>\r\n        \r\n        <ion-toggle v-model=\"is_deleted\" color=\"danger\" @ionChange=\"itemDelete($event.target.checked?1:0)\">Удалено</ion-toggle>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-icon :src=\"calculatorOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-if=\"productItem\" v-model=\"is_counted\" @ionChange=\"save('is_counted',$event.target.checked?1:0)\">Вести учет остатков</ion-toggle>\r\n      </ion-item>\r\n      <ion-item v-if=\"!is_option_child\">\r\n        <ion-icon :src=\"layersOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-if=\"productItem\" v-model=\"is_option_parent\" @ionChange=\"itemOptionSet($event.target.checked);\">Имеет варианты</ion-toggle>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-icon :src=\"ribbonOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-model=\"is_disabled\" @ionChange=\"itemDisable($event.target.checked?1:0)\">На модерации</ion-toggle>\r\n      </ion-item>\r\n\r\n\r\n      <!-- OPTIONS DATA \r\n      <ion-popover :is-open=\"is_option_menu_open\" @didDissmiss=\"is_option_menu_open=false\">\r\n        <ion-content>\r\n          <ion-list>\r\n            <ion-item>\r\n              Вариант\r\n            </ion-item>\r\n            <ion-item :button=\"true\" :detail=\"false\" @click=\"itemOptionPhotoAdd()\">\r\n              <ion-icon :src=\"cameraOutline\" slot=\"start\"/> Добавить фото\r\n            </ion-item>\r\n          </ion-list>\r\n        </ion-content>\r\n      </ion-popover>\r\n      -->\r\n\r\n\r\n      <div @change=\"saveForm\" v-if=\"optionData\">\r\n          <ion-card @click=\"$router.replace(`product-edit-${optionData.parent.product_id}?refreshOptions=1`)\" :color=\"(is_option_parent)?'primary':'light'\">\r\n            <ion-card-header>\r\n              <ion-card-subtitle>\r\n                Родительский товар\r\n              </ion-card-subtitle>\r\n            </ion-card-header>\r\n            <ion-card-content>\r\n              <ion-item color=\"light\" lines=\"none\">\r\n                <img slot=\"start\" style=\"height:70px;border-radius:10px;margin:3px\" :src=\"`${$heap.state.hostname}image/get.php/${optionData.parent.image_hash}.70.70.webp`\"/>\r\n                <ion-label>{{optionData.parent.product_name}}</ion-label>\r\n              </ion-item>\r\n              <ion-item v-if=\"productId==optionData.parent.product_id\" color=\"light\">\r\n                <ion-input label=\"Вариант*\" label-placement=\"stacked\" placeholder=\"напишите вариант\" name=\"product_option\" v-model=\"productItem.product_option\"/>\r\n              </ion-item>\r\n              <ion-item lines=\"none\" v-else color=\"light\">\r\n                <ion-text>[{{optionData.parent.product_option}}]</ion-text>\r\n              </ion-item>\r\n            </ion-card-content>\r\n          </ion-card>\r\n        <div style=\"display:grid;grid-template-columns:1fr 1fr\">\r\n          <ion-card @click=\"$router.replace(`product-edit-${option.product_id}?refreshOptions=1`)\" v-for=\"option in optionData.children\" :key=\"option.product_id\" :color=\"productItem.product_id==option.product_id?'primary':''\">\r\n            <ion-card-content>\r\n              <div v-if=\"productItem.product_id==option.product_id\">\r\n                <ion-item :color=\"productItem.deleted_at?'danger':''\">\r\n                  <ion-input label=\"Вариант*\" label-placement=\"stacked\" placeholder=\"напишите вариант\" name=\"product_option\" v-model=\"productItem.product_option\"/>\r\n                </ion-item>\r\n                <ion-item v-if=\"productItem.image_hash\">\r\n                  <ion-icon :src=\"cameraOutline\"/>\r\n                </ion-item>\r\n              </div>\r\n              <ion-item lines=\"none\" v-else>\r\n                <ion-text :color=\"option.deleted_at?'danger':'medium'\">[{{option.product_option}}]</ion-text>\r\n              </ion-item>\r\n            </ion-card-content>\r\n          </ion-card>\r\n          <ion-card>\r\n            <ion-card-content>\r\n              <ion-button color=\"light\" expand=\"block\" @click=\"itemOptionCreate()\"><ion-icon :src=\"addOutline\"/>добавить</ion-button>\r\n            </ion-card-content>\r\n          </ion-card>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <div v-if=\"!is_option_child\">\r\n      <ion-item-divider></ion-item-divider>\r\n      <ion-item button @click=\"$go('/catalog/product-'+productItem.product_id)\" detail=\"false\">\r\n        <ion-icon :src=\"chevronBack\" slot=\"start\"/>\r\n        Показать товар\r\n      </ion-item>\r\n      <ion-item button @click=\"showProductInStore()\" detail=\"false\">\r\n        <ion-icon :src=\"chevronBack\" slot=\"start\"/>\r\n        Показать в магазине\r\n      </ion-item>\r\n      <ion-item button @click=\"$go('/catalog/store-edit-'+productItem.store_id)\" detail=\"false\">\r\n        <ion-icon :src=\"chevronBack\" slot=\"start\"/>\r\n        Управление магазином\r\n      </ion-item>\r\n      </div>\r\n    </ion-list>\r\n\r\n    <form @change=\"saveForm\" v-if=\"productItem\">\r\n      <ion-list lines=\"full\">\r\n        <ion-item-group>\r\n          <ion-item-divider>\r\n            <ion-label>Основные настройки</ion-label>\r\n          </ion-item-divider>\r\n          <ion-item v-if=\"!is_option_child\">\r\n            <ion-input v-model=\"productItem.product_name\" label=\"Название*\" labelPlacement=\"stacked\" name=\"product_name\" placeholder=\"полное название товара\" clearInput=\"true\"/>\r\n          </ion-item>\r\n          <ion-item v-if=\"!is_option_child\">\r\n            <ion-textarea v-model=\"productItem.product_description\" label=\"Описание*\" labelPlacement=\"stacked\" name=\"product_description\" rows=\"6\" placeholder=\"характеристики, свойства, состав товара\"></ion-textarea>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_code\" label=\"Артикул\" labelPlacement=\"stacked\" name=\"product_code\" placeholder=\"код товара\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_barcode\" label=\"Штрихкод\" labelPlacement=\"stacked\" name=\"product_barcode\" placeholder=\"штрихкод\"/>\r\n          </ion-item>\r\n          <ion-item v-if=\"is_counted\">\r\n            <ion-input v-model=\"productItem.product_quantity\" :label=\"`Остаток ${productItem.product_unit}`\" labelPlacement=\"stacked\" name=\"product_quantity\" placeholder=\"в наличии\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_quantity_min\" :label=\"`Мин. заказ* ${productItem.product_unit}`\" labelPlacement=\"stacked\" name=\"product_quantity_min\" type=\"number\" inputmode=\"numeric\" pattern=\"\\d\\.\"/>\r\n          </ion-item>\r\n          <ion-item v-if=\"!is_option_child\">\r\n            <ion-select v-model=\"productItem.product_unit\" label=\"Единица*\" labelPlacement=\"stacked\" name=\"product_unit\"  @ionChange=\"saveForm\">\r\n              <ion-select-option value=\"шт\">штука</ion-select-option>\r\n              <ion-select-option value=\"порция\">порция вес</ion-select-option>\r\n              <ion-select-option value=\"порция мл\">порция объем</ion-select-option>\r\n              <ion-select-option value=\"кг\">килограмм</ion-select-option>\r\n              <ion-select-option value=\"м\">метр</ion-select-option>\r\n              <ion-select-option value=\"л\">литр</ion-select-option>\r\n            </ion-select>\r\n          </ion-item>\r\n          <ion-item v-if=\"productItem.product_unit!='кг'\">\r\n            <ion-input v-model=\"productItem.product_weight\" :label=\" (productItem.product_unit=='порция мл')?'Объем л*':`Вес 1${productItem.product_unit} в кг*`\" labelPlacement=\"stacked\" name=\"product_weight\" type=\"number\" step=\"0.1\" inputmode=\"numeric\" pattern=\"\\d\\.\"/>\r\n          </ion-item>\r\n        </ion-item-group>\r\n      </ion-list>\r\n\r\n\r\n      <ion-list lines=\"full\">\r\n        <ion-item-group>\r\n          <ion-item-divider>\r\n            <ion-label>Цена</ion-label>\r\n          </ion-item-divider>\r\n        </ion-item-group>\r\n        <!--\r\n        <ion-item v-if=\"is_option_child\">\r\n          <ion-checkbox v-model=\"is_option_same_price\" @ionChange=\"is_option_same_price?itemPriceReset():''\">Цена как у родительского товара</ion-checkbox>\r\n        </ion-item>\r\n        -->\r\n        <div v-if=\"!is_option_same_price\">\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_price\" label=\"Цена*\" labelPlacement=\"stacked\" name=\"product_price\" type=\"number\" inputmode=\"numeric\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_net_price\" label=\"Цена в меню/на полке\" labelPlacement=\"stacked\" name=\"product_net_price\" type=\"number\" inputmode=\"numeric\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_promo_price\" label=\"Цена акционная\" labelPlacement=\"stacked\" name=\"product_promo_price\" type=\"number\" inputmode=\"numeric\" color=\"success\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input type=\"date\" v-model=\"productItem.product_promo_start\" label=\"Начало акции\" labelPlacement=\"stacked\" name=\"product_promo_start\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input type=\"date\" v-model=\"productItem.product_promo_finish\" label=\"Конец акции\" labelPlacement=\"stacked\" name=\"product_promo_finish\"/>\r\n          </ion-item>\r\n        </div>\r\n      </ion-list>\r\n    </form>\r\n\r\n\r\n\r\n    <ion-list v-if=\"productItem && !is_option_child\">\r\n      <ion-item-divider>\r\n        <ion-label>Изображения товара*</ion-label>\r\n      </ion-item-divider>\r\n      <image-tile-comp :images=\"productItem.images\" :image_holder_id=\"productItem.product_id\" title=\"Витрина товара 5 фото\" controller=\"Product\" ref=\"productImgs\"></image-tile-comp>\r\n      <ion-button @click=\"$refs.productImgs.take_photo()\" color=\"light\" expand=\"block\">\r\n        <ion-icon :src=\"cameraOutline\" slot=\"start\"/> Добавить фото на витрину\r\n      </ion-button>\r\n    </ion-list>\r\n    <!--\r\n    <ion-list v-if=\"productItem && is_option_child\">\r\n      <ion-item-divider>\r\n        <ion-label>Изображение варианта</ion-label>\r\n      </ion-item-divider>\r\n      <image-tile-comp :images=\"null\" :image_holder_id=\"productItem.product_id\" title=\"Фото варианта\" controller=\"Product\" ref=\"productImgs\"></image-tile-comp>\r\n\r\n      <ion-button @click=\"$refs.productImgs.take_photo()\" color=\"light\" expand=\"block\">\r\n        <ion-icon :src=\"cameraOutline\" slot=\"start\"/> Добавить фото варианта\r\n      </ion-button>\r\n    </ion-list>\r\n    -->\r\n    <ion-list v-if=\"productItem && categoryList && !is_option_child\">\r\n      <ion-item-divider>\r\n          <ion-label>Категории товара*</ion-label>\r\n      </ion-item-divider>\r\n      <ion-item v-if=\"categoryList.length==0\" color=\"light\">\r\n        <ion-icon :src=\"compassOutline\" slot=\"start\" color=\"danger\"/>\r\n        <ion-label color=\"danger\">Без категории (в разделе 'Другое')</ion-label>\r\n      </ion-item>\r\n      <ion-item v-for=\"cat in categoryList\" :key=\"cat.group_id\">\r\n        <ion-icon :src=\"compassOutline\" slot=\"start\" color=\"primary\"/>\r\n        <ion-label>{{cat.group_name}}</ion-label>\r\n        <ion-icon :src=\"trashOutline\" slot=\"end\" @click=\"categoryDelete(cat.group_id,cat.group_name)\"/>\r\n      </ion-item>\r\n      <ion-item button @click=\"categoryAdd()\">\r\n        <ion-icon :src=\"addOutline\" slot=\"start\" color=\"primary\"/>\r\n        <ion-label>Добавить в категорию</ion-label>\r\n      </ion-item>\r\n    </ion-list>\r\n\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  IonInput,\r\n  IonTextarea,\r\n  IonCard,\r\n  IonCardContent,\r\n  IonCardHeader,\r\n  IonToggle,\r\n  IonIcon,\r\n  IonItem,\r\n  IonList,\r\n  IonLabel,\r\n  IonItemDivider,\r\n  IonItemGroup,\r\n  IonButton,\r\n  IonProgressBar,\r\n  IonText,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonCardTitle,\r\n  IonCardSubtitle,\r\n  modalController,\r\n  }                   from '@ionic/vue'\r\nimport {\r\n  cameraOutline,\r\n  trashOutline,\r\n  banOutline,\r\n  personOutline,\r\n  addOutline,\r\n  calculatorOutline,\r\n  compassOutline,\r\n  chevronBack,\r\n  layersOutline,\r\n  ribbonOutline,\r\n}                     from 'ionicons/icons'\r\nimport imageTileComp  from '@/components/ImageTileComp.vue'\r\nimport GroupPicker    from '@/components/GroupPicker.vue'\r\nimport heap           from '@/heap'\r\nimport Topic          from '@/scripts/Topic.js'\r\nimport jQuery         from \"jquery\";\r\n\r\nexport default  {\r\n  components: { \r\n    IonInput,\r\n    IonTextarea,\r\n    IonCard,\r\n    IonCardContent,\r\n    IonCardHeader,\r\n    IonToggle,\r\n    IonIcon,\r\n    IonItem,\r\n    IonList,\r\n    IonLabel,\r\n    IonItemDivider,\r\n    IonItemGroup,\r\n    IonButton,\r\n    IonProgressBar,\r\n    IonText,\r\n    IonSelect,\r\n    IonSelectOption,\r\n    IonCardTitle,\r\n    IonCardSubtitle,\r\n    imageTileComp\r\n    },\r\n  setup(){\r\n    return {\r\n      cameraOutline,\r\n      trashOutline,\r\n      banOutline,\r\n      personOutline,\r\n      addOutline,\r\n      calculatorOutline,\r\n      compassOutline,\r\n      chevronBack,\r\n      layersOutline,\r\n      ribbonOutline,\r\n      }\r\n  },\r\n  data(){\r\n    return {\r\n      productId: this.$route.params.id,\r\n      productItem: null,\r\n      productGroupList:null,\r\n      validity:0,\r\n      validity_min:70,\r\n      optionData:null,\r\n      refreshOptions:this.$route.query.refreshOptions,\r\n      is_option_parent:false,\r\n      is_option_child:false,\r\n      is_option_menu_open:false,\r\n//      is_option_same_price:false,\r\n      is_groups_marked:0,\r\n      is_deleted:0,\r\n      is_disabled:0,\r\n      is_counted:0,\r\n    }\r\n  },\r\n  computed: {\r\n    messageCardSeverity(){\r\n      if(this.productItem?.validity<50){\r\n        return 'danger';\r\n      }\r\n      if(this.productItem?.validity<this.validity_min){\r\n        return 'warning';\r\n      }\r\n      return 'primary';\r\n    },\r\n    message(){\r\n      if(this.productItem?.deleted_at){\r\n        return \"Товар не активен и будет удален. Вы еще можете отменить удаление\";\r\n      }\r\n      if(this.productItem?.is_disabled==1){\r\n        return \"Товар не активен и находится на рассмотрении у администратора\";\r\n      }\r\n      if(this.productItem?.is_counted!=1){\r\n        return \"Товар активен и готов к продаже. Учет остатков товара не ведется\";\r\n      }\r\n      return \"Товар активен и готов к продаже.\";\r\n    },\r\n    messageClass(){\r\n      if(this.productItem?.deleted_at){\r\n        return \"deleted\";\r\n      }\r\n      if(this.productItem?.is_disabled==1){\r\n        return \"disabled\";\r\n      }\r\n      if(this.productItem?.is_counted!=1){\r\n        return \"primary\";\r\n      }\r\n      return 'active';\r\n    },\r\n    categoryList(){\r\n      let categories=[];\r\n      try{\r\n        let member_of_ids=this.productItem.member_of_groups.group_ids.split(',');\r\n        let member_of_names=this.productItem.member_of_groups.group_names.split(',');\r\n        for( let i in member_of_ids){\r\n          categories.push({group_id:member_of_ids[i],group_name:member_of_names[i]})\r\n        }\r\n      }catch{/** */}\r\n      return categories;\r\n    }\r\n  },\r\n  created(){\r\n    this.listGroupGet()\r\n    this.itemGet()\r\n  },\r\n  ionViewDidEnter() {\r\n    if(this.refreshOptions && this.productItem?.product_parent_id){\r\n        this.itemOptionGet();\r\n    }\r\n  },\r\n  methods:{\r\n    async itemGet(){\r\n      try{\r\n        let productItem=await jQuery.post( heap.state.hostname + \"Product/itemGet\", { product_id: this.productId })\r\n        this.productItem=this.itemPrepare(productItem)\r\n        this.itemParseFlags()\r\n        //this.itemMarkGroups()\r\n\r\n        this.is_option_child=(this.productItem.product_parent_id && this.productItem.product_parent_id!=this.productItem.product_id)\r\n        this.is_option_parent=(this.productItem.product_parent_id && this.productItem.product_parent_id==this.productItem.product_id)\r\n        //this.is_option_same_price=!parseFloat(this.productItem.product_price)\r\n        await this.itemOptionGet();\r\n      }catch(err){\r\n        //console.log(err);\r\n      }\r\n    },\r\n    itemPrepare(productItem){\r\n      if(productItem.product_promo_start){\r\n        productItem.product_promo_start=productItem.product_promo_start.split(' ')[0]\r\n      }\r\n      if(productItem.product_promo_finish){\r\n        productItem.product_promo_finish=productItem.product_promo_finish.split(' ')[0]\r\n      }\r\n      return productItem\r\n    },\r\n    itemParseFlags(){\r\n      this.is_deleted   = this.productItem.deleted_at==null?0:1\r\n      this.is_disabled  = this.productItem.is_disabled==0?0:1\r\n      this.is_counted  = this.productItem.is_counted==0?0:1\r\n    },\r\n    async itemDelete( is_deleted ){\r\n      const remoteFunction=is_deleted?'itemDelete':'itemUnDelete'\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/\"+remoteFunction, { product_id: this.productId })\r\n        this.productItem.deleted_at=is_deleted?1:null;\r\n        if(this.is_option_child || this.is_option_parent){\r\n          this.itemOptionGet()\r\n        }\r\n      }catch{\r\n        this.itemGet()\r\n      }\r\n    },\r\n    async itemDisable( is_disabled ){\r\n      if(this.productItem.is_disabled==is_disabled){\r\n        return\r\n      }\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/itemDisable\", { product_id: this.productId, is_disabled })\r\n        this.productItem.is_disabled=is_disabled;\r\n      }catch{\r\n        this.$flash(\"Изменение не сохранено\")\r\n        this.itemGet()\r\n      }\r\n    },\r\n    async itemUpdate(request){\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/itemUpdate\", JSON.stringify(request))\r\n        this.$flash(\"💾 сохранено\")\r\n        return true\r\n      } catch(err){\r\n        const validationErrors=err.responseJSON.messages.error\r\n        if(validationErrors?.includes('product_description')){\r\n          this.$flash(\"Описание слишком короткое\")\r\n        } else\r\n        if(validationErrors?.includes('product_name')){\r\n          this.$flash(\"Название слишком короткое\")\r\n        } else \r\n        this.$flash(\"Изменение не сохранено\")\r\n        this.itemGet()\r\n        return false\r\n      }\r\n    },\r\n\r\n\r\n\r\n\r\n    async itemOptionGet(){\r\n      if(!this.productItem.product_parent_id){\r\n        this.optionData=null\r\n      }\r\n      const request={\r\n        product_parent_id:this.productItem.product_parent_id\r\n      }\r\n      let optionData=await jQuery.post(`${this.$heap.state.hostname}Product/itemOptionGet`,request)\r\n      this.optionData={\r\n        parent:optionData[0],\r\n        children:optionData.slice(1)\r\n      }\r\n    },\r\n    async itemOptionCreate(){\r\n      const existingOptionCount=this.optionData?.children?.length??0\r\n      const productOption={\r\n        is_disabled:1,\r\n        store_id:this.productItem.store_id,\r\n        product_parent_id:this.productItem.product_parent_id,\r\n        product_name:'OPTION',\r\n        product_price:0,\r\n        product_option: `Вариант#${existingOptionCount}`\r\n      };\r\n      try{\r\n        await jQuery.post(`${this.$heap.state.hostname}Product/itemCreate`,productOption)\r\n        this.itemOptionGet()\r\n      } catch(err){/** */}\r\n    },\r\n    async itemOptionSet( set_option ){\r\n      if( set_option ){\r\n        await this.itemOptionSave( this.productId, this.productId )\r\n      } else {\r\n        await this.itemOptionDelete( this.productId )\r\n      }\r\n      this.itemGet()\r\n    },\r\n    async itemOptionUpdate( option_value ){\r\n      //console.log(this.productId,option_value)\r\n    },\r\n    async itemOptionSave( product_id, product_parent_id ){\r\n      try{\r\n        await jQuery.post( `${this.$heap.state.hostname}Product/itemOptionSave`, { product_id, product_parent_id })\r\n      }catch{/** */}\r\n    },\r\n    async itemOptionDelete( product_id ){\r\n      if(!confirm(\"Удалить разновидности товара?\")){\r\n        return\r\n      }\r\n      try{\r\n        await jQuery.post( `${this.$heap.state.hostname}Product/itemOptionDelete`, { product_id })\r\n        this.itemOptionGet()\r\n      }catch{/** */}\r\n    },\r\n    // itemPriceReset(){//needed for options\r\n    //     const request = {\r\n    //       product_id:this.productId,\r\n    //       product_promo_price:0,\r\n    //       product_price:0\r\n    //     };\r\n    //     this.itemUpdate(request)\r\n    //     this.productItem.product_price=0\r\n    //     this.productItem.product_promo_price=0\r\n    // },\r\n\r\n\r\n    checkPromoPrice(field_name){\r\n      const promo=parseFloat(this.productItem.product_promo_price)\r\n      const price=parseFloat(this.productItem.product_price)\r\n      if( price>0 && promo>0 && price<=promo ){\r\n        if(field_name=='product_promo_price'){\r\n          this.productItem.product_price=promo+1;\r\n        }\r\n        if(field_name=='product_price'){\r\n          this.productItem.product_promo_price=price-1;\r\n        }\r\n        const request = {\r\n          product_id:this.productId,\r\n          product_promo_price:this.productItem.product_promo_price,\r\n          product_price:this.productItem.product_price\r\n        };\r\n        this.itemUpdate(request)\r\n        this.$flash(\"Акционная цена должна быть ниже основной. Внимание цена изменена!\")\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    saveForm(ev){\r\n      const field_name=ev.target.name;\r\n      const field_value=this.productItem[field_name]=ev.target.value\r\n      if( !this.checkPromoPrice(field_name) ){\r\n        return\r\n      }\r\n      this.save(field_name,field_value)\r\n    },\r\n    async save(field_name, field_value) {\r\n      if( !this.productItem.product_id ){//product not loaded yet\r\n        return\r\n      }\r\n      let request = {\r\n        product_id:this.productItem.product_id,\r\n        [field_name]:field_value\r\n      }\r\n      if( this.itemUpdate(request) ){\r\n        this.productItem[field_name] = field_value;\r\n        this.itemParseFlags()\r\n      }\r\n    },\r\n    categoryDelete(group_id,group_name){\r\n      if(!confirm(\"Исключить товар из категории \"+group_name+\"?\")){\r\n        return\r\n      }\r\n      try{\r\n        this.itemUpdateGroup(0,group_id)\r\n      } catch{/** */}\r\n    },\r\n    async categoryAdd(){\r\n      const memberOfIds=this.productItem?.member_of_groups?.group_ids?.split(',')||[];\r\n      const modal = await modalController.create({\r\n          component: GroupPicker,\r\n          componentProps:{controller:'Product',memberId:this.productId,memberOfIds,memberLimit:1},\r\n          initialBreakpoint: 0.75,\r\n          breakpoints: [0.75, 1],\r\n          canDissmiss:true,\r\n          });\r\n      modal.present()\r\n      Topic.on('dismissModal',()=>{\r\n          modal.dismiss()\r\n      });\r\n      await modal.onDidDismiss();\r\n      this.itemGet()\r\n    },\r\n    async itemUpdateGroup(is_joined,group_id){\r\n      const request={\r\n        product_id:this.productId,\r\n        is_joined,\r\n        group_id\r\n      }\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/itemUpdateGroup\", request)\r\n      } catch(err){\r\n        this.$flash(\"Не удалось сохранить изменение\")\r\n      }\r\n      this.itemGet()\r\n    },\r\n    async listGroupGet(){\r\n      try{\r\n        this.productGroupList=await jQuery.get( heap.state.hostname + \"Product/listGroupGet\")\r\n        this.itemMarkGroups()\r\n      }catch{/** */}\r\n    },\r\n    showProductInStore(){\r\n      let sub_group_id=0;\r\n      try{\r\n        sub_group_id=this.productItem.member_of_groups.group_ids.split(',')[0];\r\n      } catch{/** */}\r\n      this.$go({path:('store-'+this.productItem.store_id),query:{sub_group_id}})\r\n    }\r\n  },\r\n}\r\n</script>","<style scoped>\r\n\r\n</style>\r\n<template>\r\n    <ion-header>\r\n      <ion-toolbar color=\"secondary\">\r\n          <ion-title>Категории</ion-title>\r\n          <ion-icon slot=\"end\" @click=\"closeModal();\" :icon=\"closeOutline\" size=\"large\" color=\"medium\"></ion-icon>\r\n      </ion-toolbar>\r\n    </ion-header>\r\n    <ion-content>\r\n        <ion-searchbar placeholder=\"Фильтр по категориям\" v-model=\"searchQuery\"/>\r\n        <ion-accordion-group v-if=\"groupListFiltered.length>0\">\r\n            <ion-accordion v-for=\"parentGroup in groupListTree\" :key=\"parentGroup.group_id\">\r\n                <ion-item slot=\"header\">\r\n                    <ion-avatar slot=\"start\" v-if=\"parentGroup.image_hash\">\r\n                        <ion-img :src=\"$heap.state.hostname + 'image/get.php/'+parentGroup.image_hash+'.50.50.webp'\"/>\r\n                    </ion-avatar>\r\n                    <ion-label>{{parentGroup.group_name}}</ion-label>\r\n                </ion-item>\r\n                <div class=\"ion-padding\" slot=\"content\">\r\n                    <ion-list>\r\n                        <div v-for=\"childGroup in parentGroup.children\" :key=\"childGroup.group_id\">\r\n                            <ion-item>\r\n                                <ion-avatar slot=\"start\" v-if=\"childGroup.image_hash\">\r\n                                    <ion-img :src=\"$heap.state.hostname + 'image/get.php/'+childGroup.image_hash+'.50.50.webp'\"/>\r\n                                </ion-avatar>\r\n                                <ion-label>{{childGroup.group_name}}</ion-label>\r\n                                <ion-checkbox slot=\"end\" :checked=\"childGroup.is_marked\" @click=\"mimickChage($event.target,childGroup.group_id)\"></ion-checkbox>\r\n                            </ion-item>\r\n                        </div>\r\n                    </ion-list>\r\n                </div>\r\n            </ion-accordion>\r\n        </ion-accordion-group>\r\n        <ion-list v-else>\r\n            <ion-item v-for=\"i in [1,2,3,4]\" :key=\"i\">\r\n                <ion-skeleton-text style=\"width:100%\"/>\r\n            </ion-item>\r\n        </ion-list>\r\n    </ion-content>\r\n</template>\r\n<script>\r\nimport \r\n{\r\n  closeOutline\r\n}                         from 'ionicons/icons';\r\nimport {\r\n    modalController,\r\n    IonCheckbox,\r\n    IonContent,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonIcon,\r\n    IonImg,\r\n    IonAvatar,\r\n    IonLabel,\r\n    IonList,\r\n    IonItem,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonSearchbar,\r\n    IonSkeletonText,\r\n}                         from \"@ionic/vue\";\r\nimport jQuery             from 'jquery'\r\n\r\nexport default {\r\n    props:['controller','memberId','memberOfIds','memberLimit'],\r\n    components:{\r\n    IonCheckbox,\r\n    IonContent,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonIcon,\r\n    IonImg,\r\n    IonAvatar,\r\n    IonLabel,\r\n    IonList,\r\n    IonItem,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonSearchbar,\r\n    IonSkeletonText,\r\n    },\r\n    setup(){\r\n        return {closeOutline}\r\n    },\r\n    data(){\r\n        return {\r\n            searchQuery:'',\r\n            groupList:null,\r\n            checkedGroupList:[]\r\n        }\r\n    },\r\n    created(){\r\n        this.listGroupGet()\r\n        this.checkedGroupList=this.memberOfIds||[]\r\n    },\r\n    computed:{\r\n        groupListFiltered(){\r\n            if(!this.searchQuery){\r\n                return this.groupList??[]\r\n            }\r\n            const regexp=new RegExp(this.searchQuery.replace(/^[\\w\\d\\s]/,'').replace(/\\s/g,'.*'),'im')\r\n            return this.groupList.filter(group=>group.group_path?.match( regexp ))??[]\r\n        },\r\n        groupListTree(){\r\n            let groupTree=[]\r\n            for( let group of this.groupListFiltered ){\r\n                let branchIndex=groupTree.findIndex(parentGroup=>group.group_parent_id==parentGroup.group_id)\r\n                if(branchIndex<0){\r\n                    let parentGroup=this.groupList.find(parent_group=>parent_group.group_id==group.group_parent_id)\r\n                    if(!parentGroup){\r\n                        continue\r\n                    }\r\n                    parentGroup.children=[]\r\n                    branchIndex=groupTree.push(parentGroup)-1\r\n                }\r\n                groupTree[branchIndex].children.push(group)\r\n            }\r\n            return groupTree\r\n        },\r\n        parentGroupList(){\r\n            return this.groupListFiltered?.filter(group=>group.group_parent_id==0)\r\n        },\r\n        childGroupList(){\r\n            let childGroups={}\r\n            for(let group of this.parentGroupList){\r\n                childGroups[group.group_id]=this.groupListFiltered.filter(child_group=>child_group.group_parent_id==group.group_id)\r\n            }\r\n            return childGroups\r\n        }\r\n    },\r\n    methods:{\r\n        async listGroupGet(){\r\n            this.groupList=await jQuery.get(this.$heap.state.hostname + this.controller + '/listGroupGet')\r\n            this.itemMarkGroups()\r\n        },\r\n        itemMarkGroups(){\r\n            if(!this.groupList){\r\n                return\r\n            }\r\n            try{\r\n                for(let group of this.groupList){\r\n                    group.is_marked=this.checkedGroupList.includes(group.group_id)?1:0;\r\n                }\r\n            }catch{/** */}\r\n        },\r\n        async itemUpdateGroup(is_joined,group_id){\r\n            const request={\r\n                [this.controller.toLowerCase()+'_id']:this.memberId,\r\n                is_joined,\r\n                group_id\r\n            }\r\n            try{\r\n                await jQuery.post(this.$heap.state.hostname + this.controller + \"/itemUpdateGroup\", request)\r\n            } catch(err){\r\n                this.$flash(\"Не удалось сохранить изменение\")\r\n            }\r\n        },\r\n        mimickChage(target,group_id){\r\n            const self=this\r\n            setTimeout(()=>{\r\n                self.groupChanged(target,group_id)\r\n            },0)\r\n        },\r\n        async groupChanged(target,group_id){\r\n            const is_checked=target.checked?1:0\r\n            if( is_checked ){\r\n                if(this.checkedGroupList.length>=this.memberLimit){\r\n                    this.$flash(`Можно выбрать не больше ${this.memberLimit} категорий`)\r\n                    target.checked=0;\r\n                    return\r\n                }\r\n                if(this.memberLimit==1){\r\n                    this.closeModal()\r\n                }\r\n                this.checkedGroupList.push(group_id)\r\n            } else {\r\n                this.checkedGroupList = this.checkedGroupList.filter(function(value, index, arr){ \r\n                    return value != group_id;\r\n                });\r\n            }\r\n            this.itemUpdateGroup(is_checked,group_id)\r\n        },\r\n        closeModal(){\r\n            modalController.dismiss(this.checkedGroupList);\r\n        }\r\n    }\r\n}\r\n</script>","import { render } from \"./GroupPicker.vue?vue&type=template&id=1638c89c\"\nimport script from \"./GroupPicker.vue?vue&type=script&lang=js\"\nexport * from \"./GroupPicker.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductEdit.vue?vue&type=template&id=255a3654&scoped=true\"\nimport script from \"./ProductEdit.vue?vue&type=script&lang=js\"\nexport * from \"./ProductEdit.vue?vue&type=script&lang=js\"\n\nimport \"./ProductEdit.vue?vue&type=style&index=0&id=255a3654&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-255a3654\"]])\n\nexport default __exports__"],"names":["_createElementVNode","style","_createBlock","_component_base_layout","_$data$productItem$pr","_$data$productItem","$data","productItem","product_name","pageDefaultBackLink","productId","_$data$productItem6","is_option_child","_createElementBlock","_hoisted_1","_createVNode","_component_ion_card","color","$options","messageCardSeverity","_$data$productItem4","_component_ion_card_header","_component_ion_card_title","_$data$productItem$va","_$data$productItem2","_$data$productItem3","_toDisplayString","validity","_component_ion_progress_bar","value","validity_min","_component_ion_card_content","key","_component_ion_text","_$data$productItem5","_hoisted_2","_hoisted_3","message","class","_normalizeClass","messageClass","_component_ion_list","_component_ion_item","_component_ion_icon","src","$setup","trashOutline","slot","_component_ion_toggle","is_deleted","$event","onIonChange","_cache","itemDelete","target","checked","calculatorOutline","is_counted","save","layersOutline","is_option_parent","itemOptionSet","ribbonOutline","is_disabled","itemDisable","optionData","onChange","args","saveForm","onClick","_ctx","$router","replace","parent","product_id","_component_ion_card_subtitle","lines","$heap","state","hostname","image_hash","_component_ion_label","_component_ion_input","label","placeholder","name","product_option","_hoisted_5","_Fragment","_renderList","children","option","_hoisted_6","deleted_at","cameraOutline","_component_ion_button","expand","itemOptionCreate","addOutline","_hoisted_7","_component_ion_item_divider","button","$go","detail","chevronBack","showProductInStore","store_id","_component_ion_item_group","labelPlacement","clearInput","_component_ion_textarea","product_description","rows","product_code","product_barcode","product_quantity","product_unit","product_quantity_min","type","inputmode","pattern","_component_ion_select","_component_ion_select_option","product_weight","step","is_option_same_price","_hoisted_8","product_price","product_net_price","product_promo_price","product_promo_start","product_promo_finish","_component_image_tile_comp","images","image_holder_id","title","controller","ref","$refs","productImgs","take_photo","categoryList","length","compassOutline","cat","group_id","group_name","categoryDelete","categoryAdd","_component_ion_header","_component_ion_toolbar","_component_ion_title","closeModal","icon","closeOutline","size","_component_ion_content","_component_ion_searchbar","searchQuery","groupListFiltered","_component_ion_accordion_group","groupListTree","parentGroup","_component_ion_accordion","_component_ion_avatar","_component_ion_img","childGroup","_component_ion_checkbox","is_marked","mimickChage","i","_component_ion_skeleton_text","props","components","IonCheckbox","IonContent","IonHeader","IonToolbar","IonTitle","IonIcon","IonImg","IonAvatar","IonLabel","IonList","IonItem","IonAccordion","IonAccordionGroup","IonSearchbar","IonSkeletonText","setup","data","groupList","checkedGroupList","created","this","listGroupGet","memberOfIds","computed","_this$groupList$filte","_this$groupList","regexp","RegExp","filter","group","_group$group_path","group_path","match","groupTree","branchIndex","findIndex","group_parent_id","find","parent_group","push","parentGroupList","_this$groupListFilter","childGroupList","childGroups","child_group","methods","jQuery","itemMarkGroups","includes","_unused","itemUpdateGroup","is_joined","request","toLowerCase","memberId","err","$flash","self","setTimeout","groupChanged","is_checked","memberLimit","index","arr","modalController","dismiss","__exports__","IonInput","IonTextarea","IonCard","IonCardContent","IonCardHeader","IonToggle","IonItemDivider","IonItemGroup","IonButton","IonProgressBar","IonText","IonSelect","IonSelectOption","IonCardTitle","IonCardSubtitle","imageTileComp","banOutline","personOutline","$route","params","id","productGroupList","refreshOptions","query","is_option_menu_open","is_groups_marked","_this$productItem","_this$productItem2","_this$productItem3","_this$productItem4","_this$productItem5","_this$productItem6","_this$productItem7","_this$productItem8","categories","member_of_ids","member_of_groups","group_ids","split","member_of_names","group_names","itemGet","ionViewDidEnter","_this$productItem9","product_parent_id","itemOptionGet","heap","itemPrepare","itemParseFlags","remoteFunction","_unused2","_unused3","itemUpdate","JSON","stringify","validationErrors","responseJSON","messages","error","slice","_this$optionData$chil","_this$optionData","_this$optionData$chil2","existingOptionCount","productOption","set_option","itemOptionSave","itemOptionDelete","itemOptionUpdate","option_value","_unused4","confirm","_unused5","checkPromoPrice","field_name","promo","parseFloat","price","ev","field_value","_unused6","_this$productItem10","_this$productItem10$m","_this$productItem10$m2","modal","create","component","GroupPicker","componentProps","initialBreakpoint","breakpoints","canDissmiss","present","Topic","on","onDidDismiss","_unused7","sub_group_id","_unused8","path","render"],"sourceRoot":""}