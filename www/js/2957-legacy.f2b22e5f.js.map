{"version":3,"file":"js/2957-legacy.f2b22e5f.js","mappings":"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","sources":["webpack://tezkel/./src/components/LedgerComp.vue","webpack://tezkel/./src/components/LedgerComp.vue?a865","webpack://tezkel/./src/views/admin/AccountingView.vue","webpack://tezkel/./src/views/admin/AccountingView.vue?5067"],"sourcesContent":["<template>\r\n<div>\r\n  <ion-list>\r\n    <ion-item>\r\n      <ion-title>Баланс</ion-title>\r\n      <ion-text slot=\"end\" v-if=\"balance>0\" color=\"success\">{{ balance }}{{ $heap.state.currencySign }}</ion-text>\r\n      <ion-text slot=\"end\" v-else>{{ balance }}{{ $heap.state.currencySign }}</ion-text>\r\n    </ion-item>\r\n  </ion-list>\r\n\r\n  <ion-accordion-group>\r\n    <ion-accordion>\r\n      <ion-item slot=\"header\">\r\n        <ion-icon :icon=\"settingsOutline\" slot=\"start\"/>\r\n        <ion-text>Настройки</ion-text>\r\n      </ion-item>\r\n      <ion-list slot=\"content\">\r\n        <ion-item color=\"light\">\r\n          <ion-text>Начальная дата</ion-text>\r\n          <div slot=\"end\" style=\"display:grid;grid-template-columns:120px 100px;\">\r\n            <ion-input type=\"date\" v-model=\"start_at\"  @ionChange=\"listGet()\"/>\r\n            <ion-input type=\"text\" style=\"text-align:right\" color=\"medium\" v-if=\"meta.sum_start\" :value=\"`${meta.sum_start}${$heap.state.currencySign}`\" readonly />\r\n          </div>\r\n        </ion-item>\r\n        <ion-item color=\"light\">\r\n          <ion-text>Обороты</ion-text>\r\n          <div slot=\"end\" style=\"display:grid;grid-template-columns:120px 100px;\">\r\n            <ion-input type=\"text\" style=\"text-align:right\" color=\"medium\" v-if=\"meta.sum_debit\" :value=\"`+${meta.sum_debit}${$heap.state.currencySign}`\" readonly />\r\n            <ion-input type=\"text\" style=\"text-align:right\" color=\"medium\" v-if=\"meta.sum_credit\" :value=\"`-${meta.sum_credit}${$heap.state.currencySign}`\" readonly />\r\n          </div>\r\n        </ion-item>\r\n        <ion-item color=\"light\">\r\n          <ion-text>Конечная дата</ion-text>\r\n          <div slot=\"end\" style=\"display:grid;grid-template-columns:120px 100px;\">\r\n            <ion-input type=\"date\" v-model=\"finish_at\" />\r\n            <ion-input type=\"text\" style=\"text-align:right\" color=\"medium\" v-if=\"meta.sum_finish\" :value=\"`${meta.sum_finish}${$heap.state.currencySign}`\" readonly />\r\n          </div>\r\n        </ion-item>\r\n      </ion-list>\r\n    </ion-accordion>\r\n  </ion-accordion-group>\r\n\r\n  <ion-searchbar v-model=\"q\" placeholder=\"Поиск по сумме или описанию\" @ionChange=\"listGet()\" />\r\n  <ion-list v-if=\"ledger==null\">\r\n    <ion-item v-for=\"i in [1,2,3]\" :key=\"i\">\r\n        <ion-text slot=\"start\"><ion-skeleton-text animated style=\"width:50px\" /></ion-text>\r\n        <ion-label><ion-skeleton-text animated style=\"width:100%\" /></ion-label>\r\n        <ion-label slot=\"end\" color=\"success\"><ion-skeleton-text animated style=\"width:50px\" /></ion-label>\r\n    </ion-item>\r\n  </ion-list>\r\n  <ion-list v-else-if=\"ledger.length>0\">\r\n    <ion-item v-for=\"trans in ledgerCalc\" :key=\"trans.trans_id\" @click=\"itemClick(trans.trans_id)\" :detail=\"is_admin\">\r\n        <ion-text slot=\"start\">{{trans.date}}</ion-text>\r\n        <ion-text>{{trans.trans_description}}</ion-text>\r\n        <ion-label slot=\"end\" v-if=\"trans.is_debit==1\" color=\"success\">{{trans.trans_amount}}</ion-label>\r\n        <ion-label slot=\"end\" v-else  color=\"danger\">{{trans.trans_amount}}</ion-label>\r\n    </ion-item>\r\n  </ion-list>\r\n  <ion-list v-else>\r\n    <ion-item>\r\n        Нет операций в данном периоде\r\n    </ion-item>\r\n  </ion-list>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  IonIcon,\r\n  IonTitle,\r\n  IonLabel,\r\n  IonItem,\r\n  IonInput,\r\n  IonList,\r\n  IonAccordion,\r\n  IonAccordionGroup,\r\n  IonText,\r\n  IonSkeletonText,\r\n  IonSearchbar,\r\n} from \"@ionic/vue\";\r\nimport { settingsOutline }    from \"ionicons/icons\";\r\nimport jquery                 from \"jquery\";\r\nimport User                   from '@/scripts/User.js'\r\n\r\nexport default {\r\n  components: {\r\n    IonIcon,\r\n    IonTitle,\r\n    IonLabel,\r\n    IonItem,\r\n    IonInput,\r\n    IonList,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonText,\r\n    IonSkeletonText,\r\n    IonSearchbar,\r\n  },\r\n  props:['account'],\r\n  setup(){\r\n    return {\r\n        settingsOutline\r\n    }\r\n  },\r\n  data() {\r\n    const today = new Date();\r\n    const firstDay = new Date(Date.parse(`${today.getFullYear()}-${today.getMonth()+1}-1`));\r\n    return {\r\n      balance: '-',\r\n      start_at: firstDay.toISOString().slice(0, 10),\r\n      finish_at: today.toISOString().slice(0, 10),\r\n      q:'',\r\n      ledger:null,\r\n      meta:{},\r\n      today:today\r\n    };\r\n  },\r\n  computed:{\r\n    ledgerCalc(){\r\n        if( this.ledger==null ){\r\n            return null;\r\n        }\r\n        let lcalc=[];\r\n        for(let trans of this.ledger){\r\n            trans.date=this.toLocDate(trans.trans_date)\r\n            lcalc.push(trans)\r\n        }\r\n        return lcalc\r\n    },\r\n    is_admin(){\r\n      return User.isAdmin()\r\n    }\r\n  },\r\n  watch:{\r\n    account:function(){\r\n      this.listGet()\r\n    }\r\n  },\r\n  methods: {\r\n    async listGet() {\r\n      try {\r\n        const request={\r\n            start_at:this.start_at,\r\n            finish_at:this.finish_at,\r\n            account:this.account,\r\n            q:this.q,\r\n        }\r\n        const response= await jquery.post(`${this.$heap.state.hostname}Transaction/listGet`,request)\r\n        this.ledger=response.ledger\r\n        this.meta=response.meta\r\n        if( this.finish_at==this.today.toISOString().slice(0, 10) ){\r\n            this.balance=response.meta.sum_finish\r\n        }\r\n      } catch (err) {\r\n        const exception = err.responseJSON;\r\n        const exception_code = exception.messages.error;\r\n        switch (exception_code) {\r\n          case \"no_account\":\r\n            this.$flash(\"Ошибка получения выписки\")\r\n            break;\r\n          case \"large_interval\":\r\n            this.$flash(\"Период должен быть не больше 3 месяцев\")\r\n            break;\r\n        }\r\n        this.ledger=[]\r\n        this.balance=0\r\n        return false;\r\n      }\r\n    },\r\n    toLocDate( iso ){\r\n        const event = new Date(Date.parse(iso));\r\n        const options = { month: 'short', day: 'numeric' };\r\n\r\n        return event.toLocaleDateString(undefined, options);\r\n    },\r\n    itemClick(trans_id){\r\n      if( !User.isAdmin() ){\r\n        return\r\n      }\r\n      this.$router.push(`/admin/transaction-edit-${trans_id}`)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.listGet();\r\n  },\r\n};\r\n</script>","import { render } from \"./LedgerComp.vue?vue&type=template&id=b454ac62\"\nimport script from \"./LedgerComp.vue?vue&type=script&lang=js\"\nexport * from \"./LedgerComp.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<style scoped>\r\n.deleted{\r\n    border: 3px red solid;\r\n}\r\n</style>\r\n<template>\r\n    <base-layout pageDefaultBackLink=\"/user\" page-title=\"Бухгалтерия\">\r\n        <ion-segment swipe-gesture=\"true\" v-model=\"activeTab\" @ionChange=\"listTypeChanged($event)\">\r\n            <ion-segment-button value=\"ledger\">\r\n                Проводки\r\n            </ion-segment-button>\r\n        </ion-segment>\r\n        <div v-if=\"activeTab=='ledger'\">\r\n            <ion-card>\r\n                <ion-card-header>\r\n                    <ion-card-title>Выписка по счету</ion-card-title>\r\n                </ion-card-header>\r\n                <ion-card-content>\r\n                    <ion-list>\r\n                        <ion-item>\r\n                            <ion-label>Счет</ion-label>\r\n                            <ion-select v-model=\"ledgerAccount\">\r\n                                <ion-select-option value=\"profit\">Прибыль</ion-select-option>\r\n                                <ion-select-option value=\"supplier\">Продавцы</ion-select-option>\r\n                                <ion-select-option value=\"courier\">Курьеры</ion-select-option>\r\n                            </ion-select>\r\n                        </ion-item>\r\n                        <ion-item button detail @click=\"itemCreate()\">\r\n                            <ion-icon slot=\"start\" :src=\"addOutline\"/>\r\n                            <ion-label>Добавить проводку</ion-label>\r\n                        </ion-item>\r\n                    </ion-list>\r\n                </ion-card-content>\r\n            </ion-card>\r\n            <ledger-comp :account=\"ledgerAccount\" :holder=\"ledgerHolder\" :holderId=\"ledgerHolderId\"/>\r\n        </div>\r\n    </base-layout>\r\n</template>\r\n<script>\r\nimport {\r\n  IonSegmentButton,\r\n  IonSegment,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonList,\r\n  IonItem,\r\n  IonLabel,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardTitle,\r\n  IonCardContent,\r\n  IonIcon,\r\n }                          from '@ionic/vue';\r\n import {\r\n    addOutline\r\n }                          from \"ionicons/icons\";\r\nimport jquery               from 'jquery'\r\nimport LedgerComp           from '@/components/LedgerComp.vue';\r\n\r\n\r\nexport default {\r\n    components: {\r\n        LedgerComp,\r\n  IonSegmentButton,\r\n  IonSegment,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonList,\r\n  IonItem,\r\n  IonLabel,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardTitle,\r\n  IonCardContent,\r\n  IonIcon,\r\n    },\r\n    setup(){\r\n        return {\r\n            addOutline\r\n        }\r\n    },\r\n    data(){\r\n        return{\r\n            activeTab:'ledger',\r\n            ledgerAccount:'supplier',\r\n            ledgerHolder:null,\r\n            ledgerHolderId:null,\r\n        }\r\n    },\r\n    computed:{\r\n    },\r\n    methods:{\r\n        itemCreate(){\r\n            this.$router.push('/admin/transaction-edit-0')\r\n        }\r\n    },\r\n}\r\n</script>","import { render } from \"./AccountingView.vue?vue&type=template&id=5e95aff8&scoped=true\"\nimport script from \"./AccountingView.vue?vue&type=script&lang=js\"\nexport * from \"./AccountingView.vue?vue&type=script&lang=js\"\n\nimport \"./AccountingView.vue?vue&type=style&index=0&id=5e95aff8&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5e95aff8\"]])\n\nexport default __exports__"],"names":["slot","style","_createElementBlock","_createVNode","_component_ion_list","_component_ion_item","_component_ion_title","$data","_createBlock","_component_ion_text","color","_ctx","state","currencySign","_component_ion_accordion_group","_component_ion_accordion","_component_ion_icon","icon","$setup","_createElementVNode","_hoisted_4","_component_ion_input","type","onIonChange","$options","sum_start","value","readonly","_hoisted_6","sum_debit","sum_credit","_hoisted_8","sum_finish","_component_ion_searchbar","placeholder","key","_Fragment","i","_component_ion_skeleton_text","animated","_component_ion_label","length","trans","trans_id","onClick","detail","date","trans_description","is_debit","trans_amount","components","IonIcon","IonTitle","IonLabel","IonItem","IonInput","IonList","IonAccordion","IonAccordionGroup","IonText","IonSkeletonText","IonSearchbar","props","setup","settingsOutline","data","today","Date","firstDay","parse","getFullYear","getMonth","balance","start_at","toISOString","slice","finish_at","q","ledger","meta","computed","ledgerCalc","this","lcalc","toLocDate","trans_date","push","is_admin","User","watch","account","listGet","methods","request","jquery","$heap","hostname","response","exception","responseJSON","exception_code","messages","error","$flash","iso","event","options","month","day","toLocaleDateString","undefined","itemClick","$router","mounted","__exports__","render","_component_base_layout","pageDefaultBackLink","_component_ion_segment","$event","_component_ion_segment_button","_component_ion_card","_component_ion_card_header","_component_ion_card_title","_component_ion_card_content","_component_ion_select","_component_ion_select_option","button","src","_component_ledger_comp","holder","holderId","LedgerComp","IonSegmentButton","IonSegment","IonSelect","IonSelectOption","IonCard","IonCardHeader","IonCardTitle","IonCardContent","addOutline","activeTab","ledgerAccount","ledgerHolder","ledgerHolderId","itemCreate"],"sourceRoot":""}