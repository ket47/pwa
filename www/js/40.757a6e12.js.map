{"version":3,"file":"js/40.757a6e12.js","mappings":"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","sources":["webpack://tezkel/./src/components/ImageSlider.vue","webpack://tezkel/./src/components/ImageSlider.vue?de10","webpack://tezkel/./src/views/ProductView.vue","webpack://tezkel/./src/views/ProductView.vue?f743"],"sourcesContent":["<style scoped>\r\n    .swiper  .cropper.crop-to-fit{\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      overflow: hidden;\r\n      width: 100%;\r\n    }\r\n    .swiper .cropper:not(.crop-to-fit) img {\r\n      padding: 10%;\r\n    }\r\n    .swiper .cropper.crop-to-fit img {\r\n      min-width:100%;\r\n      max-width: unset;\r\n    }\r\n</style>\r\n\r\n<template>\r\n  <div v-if=\"expanded\">\r\n    <div v-for=\"image in imageList\" :key=\"image.image_hash\" style=\"border:2px solid var(--ion-color-primary)\">\r\n      <img :src=\"`${$heap.state.hostname}image/get.php/${image.image_hash}.1000.1000.webp`\"/>\r\n    </div>\r\n  </div>\r\n  <swiper v-else :modules=\"modules\" :autoplay='{delay: 3000, disableOnInteraction: false}' :loop=\"true\" effect=\"fade\"  :style=\"`height: ${imgHeight||'100%'};`\" >\r\n    <swiper-slide v-for=\"image in imageList\" :key=\"image.image_hash\">\r\n      <div :class=\"`${mode} cropper`\" :style=\"`height: ${imgHeight+'px'||'100%'};`\">\r\n        <img :style=\"`min-height: ${imgHeight+'px;'||'100%; max-width: 400px;'}`\" :src=\"`${$heap.state.hostname}image/get.php/${image.image_hash}.${imgHeight*4||1200}.${imgHeight*4||1200}.webp`\"/>\r\n      </div>\r\n    </swiper-slide>\r\n  </swiper>\r\n  <ion-fab horizontal=\"end\" vertical=\"top\"  slot=\"fixed\">\r\n    <ion-fab-button color=\"light\">\r\n    <ion-icon v-if=\"expanded\" :src=\"contract\" size=\"large\" @click=\"minimize()\"/>\r\n    <ion-icon v-else :src=\"expand\" size=\"large\" @click=\"maximize()\"/>\r\n    </ion-fab-button>\r\n  </ion-fab>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  expand,\r\n  contract\r\n}                                 from 'ionicons/icons'\r\nimport {\r\n  IonFab,\r\n  IonFabButton,\r\n  IonIcon\r\n}                                 from '@ionic/vue'\r\nimport { EffectFade, Autoplay }   from 'swiper';\r\nimport { Swiper, SwiperSlide }    from 'swiper/vue';\r\nimport 'swiper/css/bundle';\r\nexport default({\r\n    components: { \r\n      Swiper,\r\n      SwiperSlide,\r\n      IonFab,\r\n      IonFabButton,\r\n      IonIcon\r\n    },\r\n    props: ['imageList','imgHeight', 'mode'],\r\n    setup() {\r\n      return {\r\n        modules: [Autoplay,EffectFade],\r\n        expand,\r\n        contract\r\n      };\r\n    },\r\n    data(){\r\n      return {\r\n        expanded:false,\r\n        vh:0,\r\n        vw:0\r\n      }\r\n    },\r\n    methods:{\r\n      maximize(){\r\n        this.expanded=true\r\n        this.vh=document.getElementsByTagName('ion-content')[0].clientHeight\r\n        this.vw=document.getElementsByTagName('ion-content')[0].clientWidth\r\n        //document.getElementsByTagName('ion-content')[0].style.backdropFilter=\"blur(5px)\"\r\n      },\r\n      minimize(){\r\n        this.expanded=false\r\n        this.vh=document.getElementsByTagName('ion-content')[0].clientHeight\r\n        this.vw=document.getElementsByTagName('ion-content')[0].clientWidth\r\n      }\r\n    }\r\n});\r\n</script>","import { render } from \"./ImageSlider.vue?vue&type=template&id=3fa7f4fe&scoped=true\"\nimport script from \"./ImageSlider.vue?vue&type=script&lang=js\"\nexport * from \"./ImageSlider.vue?vue&type=script&lang=js\"\n\nimport \"./ImageSlider.vue?vue&type=style&index=0&id=3fa7f4fe&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3fa7f4fe\"]])\n\nexport default __exports__","<style>\r\n\r\nion-accordion-group .accordion-collapsed .product-description,\r\nion-accordion-group .accordion-collapsing .product-description{\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  position: relative;\r\n  transition: all 300ms cubic-bezier(0.25, 0.8, 0.5, 1) 0s;\r\n  line-height: 1.4;\r\n}\r\nion-accordion-group .accordion-expanded .product-description,\r\nion-accordion-group .accordion-expanding .product-description{\r\n  display: inline-block;\r\n  line-height: 1.4;\r\n}\r\n.product-images {\r\n  position: relative;\r\n  box-shadow: 0px 0px 15px -5px #0006;\r\n  border-radius: 0 0 15px 15px;\r\n  z-index: 2;\r\n}\r\n.product-subactions{\r\n  position: absolute;\r\n  bottom: 0;\r\n  z-index: 100;\r\n  background: none;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <base-layout :page-title=\"productItem?.product_name \"  pageDefaultBackLink=\"/catalog\" :cartComponent=\"CartHeader\">\r\n      <div class=\"product-images\">\r\n        <image-slider v-if=\"productItem\" :imageList=\"productItem.images\"  />\r\n        <ion-list class=\"product-subactions\">\r\n          <ion-item v-if=\"productItem?.is_writable\"  lines=\"none\"> \r\n            <ion-chip color=\"dark\" @click=\"$router.push('/catalog/product-edit-'+productId)\">\r\n              <ion-icon color=\"primary\" :src=\"settingsOutline\"/>\r\n              <ion-text>Редактировать</ion-text>\r\n            </ion-chip>\r\n          </ion-item>\r\n        </ion-list>  \r\n      </div>\r\n      <ion-list v-if=\"productItem\">\r\n        <ion-list-header style=\"font-size:1.2em;\">\r\n          <h3 style=\"font-size:1.2em;\">\r\n            <b>{{ productItem.product_name }}</b> <span v-if=\"!isAvailable\">(Нет в наличии)</span>\r\n          </h3>\r\n        </ion-list-header>\r\n        <ion-accordion-group style=\"width:100%\">\r\n          <ion-accordion>\r\n            <ion-item slot=\"header\" lines=\"none\">\r\n              <ion-text  class=\"product-description\" color=\"medium\">{{productItem.product_description}}</ion-text>\r\n            </ion-item>\r\n            <ion-list slot=\"content\">\r\n              <ion-item lines=\"none\"></ion-item>\r\n            </ion-list>\r\n          </ion-accordion>\r\n        </ion-accordion-group>\r\n        \r\n        <ion-item  lines=\"none\">\r\n          <ion-chip :outline=\"true\" color=\"primary\" v-for=\"group in categories\" :key=\"group.group_id\">{{group.group_name}}</ion-chip>\r\n        </ion-item>\r\n\r\n        <ion-item lines=\"none\" v-if=\"productItem.product_price!=productItem.product_final_price\">\r\n          <ion-icon slot=\"start\" color=\"primary\" :src=\"giftOutline\"/>\r\n          <ion-label>Акция до {{promoFinish}}</ion-label>\r\n          <ion-label slot=\"end\" color=\"success\" style=\"font-size:1.2em\">-{{promoPercent}}%</ion-label>\r\n        </ion-item>\r\n\r\n        <ion-item lines=\"none\">\r\n          <ion-icon slot=\"start\" color=\"primary\" :src=\"pricetagOutline\"/>\r\n\r\n          <ion-label v-if=\"productItem.product_unit=='порция'\">Цена за {{weight_in_gramms}}г</ion-label>\r\n          <ion-label v-else>Цена за {{productItem.product_unit}}</ion-label>\r\n\r\n          <ion-label slot=\"end\" color=\"primary\" style=\"font-size:1.2em\">\r\n            <span v-if=\"productItem.product_price!=productItem.product_final_price\" style=\"color:var(--ion-color-danger);font-size:0.75em\">\r\n                <s>{{productItem.product_price}}{{$heap.state.currencySign}}</s>&nbsp;&nbsp;\r\n            </span>\r\n            {{productItem.product_final_price}}{{$heap.state.currencySign}}\r\n          </ion-label>\r\n        </ion-item>\r\n        <ion-item lines=\"none\">\r\n          <ion-icon slot=\"start\" color=\"primary\" :src=\"cartOutline\"/>\r\n          <ion-label v-if=\"inCart\">В корзине ({{productItem.product_unit}})</ion-label>\r\n          <ion-label v-else>Не заказан</ion-label>\r\n          <cart-add-buttons slot=\"end\" buttonLayout=\"horizontal\" display=\"inline\" :productItem=\"productItem\"></cart-add-buttons>\r\n        </ion-item>\r\n\r\n        <ion-item lines=\"none\" v-if=\"inCart\">\r\n          <ion-icon slot=\"start\" color=\"primary\" :src=\"walletOutline\"/>\r\n          <ion-label>Итог</ion-label>\r\n          <ion-label slot=\"end\" color=\"primary\" style=\"font-size:1.2em\">{{inCart}}{{$heap.state.currencySign}}</ion-label>\r\n        </ion-item>\r\n\r\n        <ion-item lines=\"none\" v-if=\"inCartComment!=null\">\r\n          <ion-icon slot=\"start\" color=\"primary\" :src=\"chatboxEllipsesOutline\"/>\r\n          <ion-textarea v-model=\"inCartComment\" @ionChange=\"cartCommentUpdate($event.target.value)\" placeholder=\"заметка для продавца\"></ion-textarea>\r\n        </ion-item>\r\n      </ion-list>\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\nimport jQuery           from \"jquery\";\r\nimport heap             from '@/heap';\r\n\r\nimport {\r\n  compassOutline,\r\n  cartOutline,\r\n  pricetagOutline,\r\n  giftOutline,\r\n  walletOutline,\r\n  chatboxEllipsesOutline,\r\n  settingsOutline\r\n}                       from 'ionicons/icons'\r\nimport {\r\n  IonTextarea,\r\n  IonListHeader,\r\n  IonText,\r\n  IonIcon,\r\n  IonItem,\r\n  IonChip,\r\n  IonLabel,\r\n  IonList,\r\n  IonAccordion,\r\n  IonAccordionGroup,\r\n}                       from '@ionic/vue'\r\n\r\nimport ImageSlider      from '@/components/ImageSlider'\r\nimport CartAddButtons   from '@/components/CartAddButtons'\r\nimport CartHeader       from '@/components/CartHeader'\r\n\r\nimport Order            from '@/scripts/Order.js'\r\n\r\nexport default  {\r\n  components: { \r\n    ImageSlider,\r\n    CartAddButtons,\r\n    IonTextarea,\r\n    IonListHeader,\r\n    IonText,\r\n    IonIcon,\r\n    IonItem,\r\n    IonChip,\r\n    IonLabel,\r\n    IonList,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n  },\r\n  setup(){\r\n    return {CartHeader,compassOutline,cartOutline,pricetagOutline,giftOutline,walletOutline,chatboxEllipsesOutline,settingsOutline}\r\n  },\r\n  data() {\r\n    return { \r\n      productId: this.$route.params.id,\r\n      productItem: null\r\n    };\r\n  },\r\n  mounted(){\r\n    //this.getProduct();\r\n  },\r\n  ionViewDidEnter(){\r\n    this.getProduct();\r\n  },\r\n  computed:{\r\n    categories(){\r\n      if(!this.productItem?.member_of_groups?.group_ids){\r\n        return [];\r\n      }\r\n      const ids=this.productItem?.member_of_groups?.group_ids.split(',')\r\n      const names=this.productItem?.member_of_groups?.group_names.split(',')\r\n      let categories=[]\r\n      for(let i in ids){\r\n        categories.push({group_id:ids[i],group_name:names[i]})\r\n      }\r\n      return categories\r\n    },\r\n    promoFinish(){\r\n      try{\r\n        return this.productItem.product_promo_finish.split(' ')[0].split('-').reverse().join('.')\r\n      }catch{\r\n        return null;\r\n      }\r\n    },\r\n    promoPercent(){\r\n      return Math.round(100-this.productItem.product_final_price/this.productItem.product_price*100)\r\n    },\r\n    inCart(){\r\n      const entry=Order.cart.entryGet(this.productId)\r\n      if( !entry ){\r\n        return 0;\r\n      }\r\n      return entry.data.entry_quantity*entry.data.entry_price\r\n    },\r\n    inCartComment(){\r\n      const entry=Order.cart.entryGet(this.productId)\r\n      if( !entry ){\r\n        return null;\r\n      }\r\n      return entry.data.entry_comment??''\r\n    },\r\n    isAvailable(){\r\n      return this.productItem.is_counted==1?(this.productItem.product_quantity-this.productItem.product_quantity_reserved)>0:true;\r\n    },\r\n    weight_in_gramms(){\r\n        return this.productItem.product_weight*1000\r\n    }\r\n  },\r\n  methods: {\r\n      async getProduct(){\r\n        try{\r\n          this.productItem=await jQuery.post( heap.state.hostname + \"Product/itemGet\", { product_id: this.productId })\r\n        }catch{\r\n          //console.log('weird error is here')\r\n        }\r\n      },\r\n      cartCommentUpdate(comment){\r\n        const entry={\r\n          product_id:this.productId,\r\n          entry_comment:comment\r\n        };\r\n        Order.cart.entryUpdate(entry)\r\n      }\r\n  },\r\n}\r\n</script>","import { render } from \"./ProductView.vue?vue&type=template&id=327e2310\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=327e2310&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["$data","_createElementBlock","_hoisted_1","_Fragment","_renderList","$props","image","key","image_hash","style","_createElementVNode","src","_ctx","state","hostname","_createBlock","_component_swiper","modules","$setup","autoplay","delay","disableOnInteraction","loop","effect","_component_swiper_slide","class","_createVNode","_component_ion_fab","horizontal","vertical","slot","_component_ion_fab_button","color","_component_ion_icon","size","onClick","$options","components","Swiper","SwiperSlide","IonFab","IonFabButton","IonIcon","props","setup","Autoplay","EffectFade","expand","contract","data","expanded","vh","vw","methods","maximize","this","document","getElementsByTagName","clientHeight","clientWidth","minimize","__exports__","render","_component_base_layout","product_name","pageDefaultBackLink","cartComponent","_component_image_slider","imageList","images","_component_ion_list","is_writable","_component_ion_item","lines","_component_ion_chip","push","_component_ion_text","_component_ion_list_header","_toDisplayString","_hoisted_5","_component_ion_accordion_group","_component_ion_accordion","product_description","group","outline","group_id","group_name","product_price","product_final_price","_component_ion_label","product_unit","currencySign","_component_cart_add_buttons","buttonLayout","display","productItem","_component_ion_textarea","$event","onIonChange","target","value","placeholder","ImageSlider","CartAddButtons","IonTextarea","IonListHeader","IonText","IonItem","IonChip","IonLabel","IonList","IonAccordion","IonAccordionGroup","CartHeader","compassOutline","cartOutline","pricetagOutline","giftOutline","walletOutline","chatboxEllipsesOutline","settingsOutline","productId","$route","params","id","mounted","ionViewDidEnter","getProduct","computed","categories","member_of_groups","group_ids","ids","split","names","group_names","i","promoFinish","product_promo_finish","reverse","join","promoPercent","Math","round","inCart","entry","Order","entry_quantity","entry_price","inCartComment","entry_comment","isAvailable","is_counted","product_quantity","product_quantity_reserved","weight_in_gramms","product_weight","async","jQuery","heap","product_id","cartCommentUpdate","comment"],"sourceRoot":""}