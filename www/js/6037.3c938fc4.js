"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[6037],{6037:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var i=o(6252);function s(e,t,o,s,r,d){const n=(0,i.up)("ckeditor"),l=(0,i.up)("ion-button"),a=(0,i.up)("ion-col"),u=(0,i.up)("ion-row"),h=(0,i.up)("ion-grid"),m=(0,i.up)("base-layout");return(0,i.wg)(),(0,i.j4)(m,{pageTitle:`Условия доставки ${r.store.store_name}`,pageDefaultBackLink:`/catalog/store-edit-${r.store_id}`},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{editor:r.editor,modelValue:r.store_delivery_methods,"onUpdate:modelValue":t[0]||(t[0]=e=>r.store_delivery_methods=e),config:r.editorConfig},null,8,["editor","modelValue","config"]),(0,i.Wm)(h,{style:{width:"100%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(a,{style:{"text-align":"right"}},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{onClick:t[1]||(t[1]=e=>d.itemDelete()),color:"danger",fill:"outline",expand:"block"},{default:(0,i.w5)((()=>[(0,i.Uk)("Удалить")])),_:1})])),_:1}),(0,i.Wm)(a,{style:{"text-align":"right"}},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{onClick:t[2]||(t[2]=e=>d.itemUpdate()),expand:"block"},{default:(0,i.w5)((()=>[(0,i.Uk)("Сохранить")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["pageTitle","pageDefaultBackLink"])}o(8862);var r=o(4e3),d=o.n(r),n=o(5234),l=o.n(n),a=(o(7825),o(8903)),u=o(4929),h=o(9755),m=o.n(h),c={components:{IonButton:u.YG,IonGrid:u.jY,IonRow:u.Nd,IonCol:u.wI,ckeditor:d().component},setup(){return{documentTextOutline:a.L82,codeOutline:a.Zpo,bookmarkOutline:a.eZy}},data(){var e;return{store_id:null!==(e=this.$route.params.id)&&void 0!==e?e:0,store:{},store_delivery_methods:"",editor:l(),editorConfig:{language:"ru",toolbar:["heading","|","bold","italic","numberedList","bulletedList"]}}},mounted(){this.itemGet()},methods:{async itemGet(){const e={store_id:this.store_id};try{this.store=await m().post(`${this.$heap.state.hostname}Store/itemGet`,e),this.store.store_delivery_methods&&(this.store_delivery_methods=this.store.store_delivery_methods)}catch{}},async itemUpdate(){const e=3e3;this.store_delivery_methods.length>e&&alert(`Текст слишком длинный. Сохранится только первые ${e} символов`);const t={store_id:this.store_id,store_delivery_methods:this.store_delivery_methods};try{await m().post(`${this.$heap.state.hostname}Store/itemUpdate`,JSON.stringify(t)),this.$flash("Сохранено")}catch{}},async itemDelete(){confirm("Удалить условия доставки?")&&(this.store_delivery_methods="",this.itemUpdate())}}},_=o(3744);const p=(0,_.Z)(c,[["render",s]]);var f=p}}]);
//# sourceMappingURL=6037.3c938fc4.js.map