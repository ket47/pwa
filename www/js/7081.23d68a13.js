"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[7081],{7081:function(e,l,t){t.r(l),t.d(l,{default:function(){return y}});var i=t(641),a=t(33);const r=e=>((0,i.Qi)("data-v-5185867e"),e=e(),(0,i.jt)(),e),o={key:0},u={key:1},d={key:2,style:{background:"linear-gradient(to top, #009dcd, #79c8e2)"}},n=r((()=>(0,i.Lk)("h3",null,[(0,i.Lk)("b",null,"Хотите стать нашим курьером?")],-1))),s=r((()=>(0,i.Lk)("h6",null,[(0,i.Lk)("b",null,"Заполняйте анкету и присоединяйтесь к нашей дружной команде!")],-1)));function c(e,l,t,r,c,_){const m=(0,i.g2)("ion-card-content"),b=(0,i.g2)("ion-card"),k=(0,i.g2)("ion-icon"),f=(0,i.g2)("ion-toggle"),h=(0,i.g2)("ion-item"),g=(0,i.g2)("ion-label"),F=(0,i.g2)("ion-item-divider"),p=(0,i.g2)("ion-input"),v=(0,i.g2)("ion-textarea"),y=(0,i.g2)("ion-list"),C=(0,i.g2)("image-tile-comp"),I=(0,i.g2)("ion-button"),W=(0,i.g2)("router-link"),x=(0,i.g2)("ion-col"),z=(0,i.g2)("ion-row"),V=(0,i.g2)("ion-grid"),A=(0,i.g2)("ion-card-title"),w=(0,i.g2)("ion-card-header"),O=(0,i.g2)("ion-text"),D=(0,i.g2)("ion-checkbox"),T=(0,i.g2)("base-layout");return(0,i.uX)(),(0,i.Wv)(T,{"page-title":"Анкета курьера",pageDefaultBackLink:"/user"},{default:(0,i.k6)((()=>{var t;return[null==c.courier?((0,i.uX)(),(0,i.CE)("div",o)):null!==(t=c.courier)&&void 0!==t&&t.courier_id?((0,i.uX)(),(0,i.CE)("div",u,[_.message?((0,i.uX)(),(0,i.Wv)(b,{key:0,lines:"none"},{default:(0,i.k6)((()=>[(0,i.bF)(m,{class:(0,a.C4)(_.messageClass)},{default:(0,i.k6)((()=>[(0,i.eW)((0,a.v_)(_.message),1)])),_:1},8,["class"])])),_:1})):((0,i.uX)(),(0,i.Wv)(b,{key:1,lines:"none"},{default:(0,i.k6)((()=>[(0,i.bF)(m,{style:{"background-color":"var(--ion-color-success-tint)"}},{default:(0,i.k6)((()=>[(0,i.eW)(" Анкета активна. Вы можете открыть смену для приема заказов. ")])),_:1})])),_:1})),(0,i.Lk)("form",{onChange:l[8]||(l[8]=e=>_.updateCourier())},[(0,i.bF)(y,null,{default:(0,i.k6)((()=>[(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.bF)(k,{src:r.trashOutline,color:"primary",slot:"start"},null,8,["src"]),(0,i.eW)(" Удалено "),(0,i.bF)(f,{slot:"end",modelValue:c.is_deleted,"onUpdate:modelValue":l[0]||(l[0]=e=>c.is_deleted=e),color:"danger",onIonChange:l[1]||(l[1]=e=>_.itemDelete(e.target.checked?1:0))},null,8,["modelValue"])])),_:1}),(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.bF)(k,{src:r.searchOutline,color:"primary",slot:"start"},null,8,["src"]),(0,i.eW)(" На модерации "),(0,i.bF)(f,{slot:"end",modelValue:c.is_disabled,"onUpdate:modelValue":l[2]||(l[2]=e=>c.is_disabled=e),onIonChange:l[3]||(l[3]=e=>_.itemDisable(e.target.checked?1:0))},null,8,["modelValue"])])),_:1}),(0,i.bF)(F,null,{default:(0,i.k6)((()=>[(0,i.bF)(g,null,{default:(0,i.k6)((()=>[(0,i.eW)("Основные настройки")])),_:1})])),_:1}),(0,i.bF)(h,{lines:"full"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{modelValue:c.courier.courier_name,"onUpdate:modelValue":l[4]||(l[4]=e=>c.courier.courier_name=e),placeholder:"Имя курьера",label:"Имя","label-placement":"stacked"},null,8,["modelValue"])])),_:1}),(0,i.bF)(h,{lines:"full"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{modelValue:c.courier.courier_vehicle,"onUpdate:modelValue":l[5]||(l[5]=e=>c.courier.courier_vehicle=e),placeholder:"автомобиль, мопед, велосипед",label:"Транспорт","label-placement":"stacked"},null,8,["modelValue"])])),_:1}),(0,i.bF)(h,{lines:"full"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{modelValue:c.courier.courier_tax_num,"onUpdate:modelValue":l[6]||(l[6]=e=>c.courier.courier_tax_num=e),placeholder:"ИНН курьера",label:"ИНН","label-placement":"stacked"},null,8,["modelValue"])])),_:1}),(0,i.bF)(h,{lines:"full"},{default:(0,i.k6)((()=>[(0,i.bF)(v,{modelValue:c.courier.courier_comment,"onUpdate:modelValue":l[7]||(l[7]=e=>c.courier.courier_comment=e),placeholder:"Цвет, номер авто",label:"Комментарий","label-placement":"stacked"},null,8,["modelValue"])])),_:1})])),_:1})],32),c.courier?((0,i.uX)(),(0,i.Wv)(y,{key:2},{default:(0,i.k6)((()=>[(0,i.bF)(F,null,{default:(0,i.k6)((()=>[(0,i.bF)(g,null,{default:(0,i.k6)((()=>[(0,i.eW)("Ваше фото")])),_:1})])),_:1}),(0,i.bF)(C,{images:c.courier.images,image_holder_id:c.courier.courier_id,controller:"Courier",ref:"courierImgs"},null,8,["images","image_holder_id"]),(0,i.bF)(I,{onClick:l[9]||(l[9]=l=>e.$refs.courierImgs.take_photo()),expand:"block",color:"light"},{default:(0,i.k6)((()=>[(0,i.bF)(k,{src:r.cameraOutline},null,8,["src"]),(0,i.eW)(" Добавить ")])),_:1})])),_:1})):(0,i.Q3)("",!0),(0,i.bF)(y,null,{default:(0,i.k6)((()=>[(0,i.bF)(F,null,{default:(0,i.k6)((()=>[(0,i.bF)(g,null,{default:(0,i.k6)((()=>[(0,i.eW)("Информация")])),_:1})])),_:1}),(0,i.bF)(h,{lines:"none",button:"",detail:"",onClick:l[10]||(l[10]=l=>e.$go("/page/rules-courier"))},{default:(0,i.k6)((()=>[(0,i.bF)(k,{src:r.documentTextOutline,slot:"start"},null,8,["src"]),(0,i.bF)(W,{to:"/page/rules-courier"},{default:(0,i.k6)((()=>[(0,i.eW)("Правила пользования для курьера")])),_:1})])),_:1})])),_:1})])):((0,i.uX)(),(0,i.CE)("div",d,[(0,i.bF)(V,{class:"courier-grid",style:{"background-image":"url('/img/courier_tezkel.png')"}},{default:(0,i.k6)((()=>[(0,i.bF)(z,{class:"ion-align-items-center"},{default:(0,i.k6)((()=>[(0,i.bF)(x,{"size-md":"6","size-xs":"12","size-sm":"12",class:"ion-padding",style:{color:"var(--ion-color-primary-contrast)"}},{default:(0,i.k6)((()=>[n,s])),_:1}),(0,i.bF)(x,{"size-md":"6","size-xs":"12","size-sm":"12",style:{"min-height":"350px"}})])),_:1})])),_:1}),(0,i.bF)(b,{color:"light",style:{margin:"0"}},{default:(0,i.k6)((()=>[(0,i.bF)(w,null,{default:(0,i.k6)((()=>[(0,i.bF)(A,{class:"ion-text-center"},{default:(0,i.k6)((()=>[(0,i.eW)("Мы предлагаем")])),_:1})])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(V,null,{default:(0,i.k6)((()=>[(0,i.bF)(z,null,{default:(0,i.k6)((()=>[(0,i.bF)(x,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(w,null,{default:(0,i.k6)((()=>[(0,i.bF)(A,null,{default:(0,i.k6)((()=>[(0,i.eW)("1. Без стажировки")])),_:1})])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Никаких испытательных сроков, вы с первого дня погружаетесь в работу ")])),_:1})])),_:1})])),_:1}),(0,i.bF)(x,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(w,null,{default:(0,i.k6)((()=>[(0,i.bF)(A,null,{default:(0,i.k6)((()=>[(0,i.eW)("2. Гибкий график")])),_:1})])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Можно подгонять и совмещать рабочее время так, как удобно именно Вам. ")])),_:1})])),_:1})])),_:1}),(0,i.bF)(x,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(w,null,{default:(0,i.k6)((()=>[(0,i.bF)(A,null,{default:(0,i.k6)((()=>[(0,i.eW)("3. Трудовой договор")])),_:1})])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Есть возможность официально оформить трудовые отношения. ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.bF)(z,null,{default:(0,i.k6)((()=>[(0,i.bF)(x,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(w,null,{default:(0,i.k6)((()=>[(0,i.bF)(A,null,{default:(0,i.k6)((()=>[(0,i.eW)("4. Автоматизация")])),_:1})])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Работа автоматизирована с помощью приложения. Нет работы с наличными. ")])),_:1})])),_:1})])),_:1}),(0,i.bF)(x,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(w,null,{default:(0,i.k6)((()=>[(0,i.bF)(A,null,{default:(0,i.k6)((()=>[(0,i.eW)("5. Компенсация")])),_:1})])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Мы выплачеваем компенсацию затрат на топливо, затраченное в рабочее время ")])),_:1})])),_:1})])),_:1}),(0,i.bF)(x,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(w,null,{default:(0,i.k6)((()=>[(0,i.bF)(A,null,{default:(0,i.k6)((()=>[(0,i.eW)("6. Рабочий отдых")])),_:1})])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Вы можете отдохнуть в нашей комнате отдыха для персонала ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.bF)(h,{lines:"none"},{default:(0,i.k6)((()=>[(0,i.bF)(O,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Подавая заявку вы даете согласие на условия "),(0,i.bF)(W,{to:"/page/rules-courier"},{default:(0,i.k6)((()=>[(0,i.eW)("Оферта об оказании услуг доставки")])),_:1})])),_:1}),(0,i.bF)(D,{slot:"end",modelValue:c.contractAccepted,"onUpdate:modelValue":l[11]||(l[11]=e=>c.contractAccepted=e)},null,8,["modelValue"])])),_:1}),(0,i.bF)(I,{expand:"block",onClick:l[12]||(l[12]=e=>_.itemCreate()),disabled:!c.contractAccepted},{default:(0,i.k6)((()=>[(0,i.eW)("Подать заявку")])),_:1},8,["disabled"])])),_:1})])),_:1})]))]})),_:1})}var _=t(5654),m=t(5480),b=t(2311),k=t.n(b),f=t(5538),h=t(8701),g=t(4933),F={components:{imageTileComp:g.A,IonTextarea:_.nc,IonInput:_.$w,IonCard:_.b_,IonCardHeader:_.ME,IonCardTitle:_.tN,IonCardContent:_.I9,IonGrid:_.lO,IonRow:_.ln,IonCol:_.hU,IonLabel:_.he,IonItem:_.uz,IonButton:_.Jm,IonList:_.nf,IonCheckbox:_.eY,IonText:_.IO,IonItemDivider:_.Dg,IonToggle:_.BY,IonIcon:_.iq},setup(){return{cameraOutline:m.GOB,trashOutline:m.P1A,searchOutline:m.jBE,documentTextOutline:m.pXZ}},data(){var e,l;return{other_courier_id:null===(e=this.$route)||void 0===e||null===(l=e.query)||void 0===l?void 0:l.courier_id,courier:null,isAdmin:h.A.isAdmin(),contractAccepted:0,is_deleted:0,is_disabled:0}},ionViewDidEnter(){var e,l,t,i;this.other_courier_id!=(null===(e=this.$route)||void 0===e||null===(l=e.query)||void 0===l?void 0:l.courier_id)&&(this.other_courier_id=null===(t=this.$route)||void 0===t||null===(i=t.query)||void 0===i?void 0:i.courier_id,this.itemGet())},mounted(){this.itemGet()},computed:{message(){var e,l;return null!==(e=this.courier)&&void 0!==e&&e.deleted_at?"Анкета не активна и будет удалена. Вы можете еще отменить удаление":1==(null===(l=this.courier)||void 0===l?void 0:l.is_disabled)?"Анкета не активна и находится на рассмотрении у администратора":null},messageClass(){var e,l;return null!==(e=this.courier)&&void 0!==e&&e.deleted_at?"deleted":1==(null===(l=this.courier)||void 0===l?void 0:l.is_disabled)?"disabled":null},imageClass(){var e,l;return 1==(null===(e=this.courier)||void 0===e||null===(l=e.images[0])||void 0===l?void 0:l.is_disabled)?"image_disabled":""}},methods:{async itemGet(){if(this.other_courier_id>0)try{this.courier=await k().post(f.A.state.hostname+"Courier/itemGet",{courier_id:this.other_courier_id})}catch(e){this.$flash("Не удалось загрузить анкету")}else this.courier=await h.A.courier.get()||{};this.itemParseFlags()},itemParseFlags(){this.courier&&(this.is_deleted=null==this.courier.deleted_at?0:1,this.is_disabled=0==this.courier.is_disabled?0:1)},async itemCreate(){try{await k().post(f.A.state.hostname+"Courier/itemCreate"),await h.A.get("full"),this.courier=h.A.courier.data}catch{this.$flash("Не удалось зарегистрироваться как курьер")}},async itemDelete(e){const l=e?"itemDelete":"itemUnDelete";try{await k().post(f.A.state.hostname+"Courier/"+l,{courier_id:this.courier.courier_id}),this.courier.deleted_at=e?1:null}catch{this.itemGet()}},async itemDisable(e){if(this.courier.is_disabled!=e)try{await k().post(f.A.state.hostname+"Courier/itemDisable",{courier_id:this.courier.courier_id,is_disabled:e}),this.courier.is_disabled=e}catch{this.itemGet()}},async uploadImage(e){let l=new FormData;l.append("files[]",e.target.files[0]),l.set("image_holder_id",this.courier.courier_id);const t={url:f.A.state.hostname+"Courier/fileUpload",type:"POST",data:l,processData:!1,contentType:!1};try{await k().ajax(t),this.itemGet()}catch(i){this.$flash("Не удалось загрузить фото")}},uploadImageTrigger(){k()("#courier_foto_upload").trigger("click")},async updateCourier(){try{return await k().post(f.A.state.hostname+"Courier/itemUpdate",JSON.stringify(this.courier))}catch(t){var e,l;const i=JSON.parse(null===(e=t.responseJSON)||void 0===e||null===(l=e.messages)||void 0===l?void 0:l.error);i.courier_tax_num&&this.$flash("Неверный формат ИНН")}}}},p=t(6262);const v=(0,p.A)(F,[["render",c],["__scopeId","data-v-5185867e"]]);var y=v}}]);
//# sourceMappingURL=7081.23d68a13.js.map