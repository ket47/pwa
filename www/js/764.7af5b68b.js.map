{"version":3,"file":"js/764.7af5b68b.js","mappings":"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","sources":["webpack://tezkel/./src/components/ImagePreviewModal.vue","webpack://tezkel/./src/components/ImagePreviewModal.vue?3d73","webpack://tezkel/./src/views/AdminModeration.vue","webpack://tezkel/./src/views/AdminModeration.vue?3d5d"],"sourcesContent":["\n<template>\n  <ion-header>\n      <ion-toolbar color=\"secondary\">\n          <ion-title>Просмотр фотографии</ion-title>\n          <ion-icon :icon=\"closeOutline\" @click=\"closeModal();\" slot=\"end\" size=\"large\"></ion-icon>\n      </ion-toolbar>\n  </ion-header>\n  <ion-content>\n\n    <ion-grid v-if=\"actions\">\n      <ion-row>\n          <ion-col  v-for=\"(action, action_code) in actions\" :key=\"action_code\" >\n              <ion-button \n              v-if=\"action[0]\" \n              @click=\"actionCreate(action_code, action[1])\" \n              expand=\"block\" \n              :color=\"action[1]??'primary'\"\n              >\n                  {{ action[0] }}\n              </ion-button>\n          </ion-col>\n      </ion-row>\n    </ion-grid>\n    \n    <ion-img :src=\"$heap.state.hostname + 'image/get.php/'+image_hash+'.1000.1000.webp'\"/>\n  </ion-content>\n</template>\n\n<script>\nimport {closeOutline}      from 'ionicons/icons';\nimport {\n  modalController,\n  IonIcon,\n  IonToolbar,\n  IonHeader,\n  IonImg,\n  IonContent,\n  IonTitle,\n  IonButton,\n  IonCol,\n  IonRow,\n  IonGrid,\n  }  from \"@ionic/vue\";\n\nexport default{\n  props:['image_hash','actions'],\n  components:{\n  IonIcon,\n  IonToolbar,\n  IonHeader,\n  IonImg,\n  IonContent,\n  IonTitle,\n  IonButton,\n  IonCol,\n  IonRow,\n  IonGrid,\n\n  },\n  setup() {\n      const closeModal = function(){\n          modalController.dismiss();\n      };\n      return { closeModal, closeOutline };\n  },\n  methods:{\n    actionCreate(action_role, severity){\n      if( severity=='danger' ){\n          if(!confirm(\"Вы уверены?\")){\n              return\n          }\n      }\n      modalController.dismiss(null,action_role);\n    }\n  }\n};\n</script>","import { render } from \"./ImagePreviewModal.vue?vue&type=template&id=67560d0a\"\nimport script from \"./ImagePreviewModal.vue?vue&type=script&lang=js\"\nexport * from \"./ImagePreviewModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<style scoped>\n.deleted{\n    border: 3px red solid;\n}\n</style>\n<template>\n    <base-layout pageDefaultBackLink=\"/user/\" page-title=\"Модерация\">\n        <ion-segment swipe-gesture=\"true\" v-model=\"moderationType\" @ionChange=\"listTypeChanged($event)\">\n            <ion-segment-button value=\"images\">\n                Картинки\n            </ion-segment-button>\n            <ion-segment-button value=\"products\">\n                Товары\n            </ion-segment-button>\n            <ion-segment-button value=\"stores\">\n                Магазины\n            </ion-segment-button>\n            <ion-segment-button value=\"couriers\">\n                Курьеры\n            </ion-segment-button>\n        </ion-segment>\n        <div>\n            <ion-searchbar v-if=\"moderationType=='stores' || moderationType=='products' || moderationType=='couriers'\" placeholder=\"Фильтр\" v-model=\"filter\"/>\n            <ion-list v-if=\"listComputed.length>0\">\n                <ion-item v-for=\"item in listComputed\" :key=\"item.item_id\" button detail @click=\"itemEdit(item)\">\n                    <ion-thumbnail slot=\"start\" :class=\"item.class\">\n                        <ion-img :src=\"`${$heap.state.hostname}image/get.php/${item.image_hash}.50.50.webp`\"/>\n                    </ion-thumbnail>\n                    <ion-text>{{item.item_name}}</ion-text>\n                    <ion-label slot=\"end\">{{item.date_time}}</ion-label>\n                </ion-item>\n            </ion-list>\n            <ion-list v-else-if=\"is_loading==1\">\n                <ion-item v-for=\"item in [1,2,3]\" :key=\"item\" button detail>\n                    <ion-thumbnail slot=\"start\" style=\"background-color:lightgray\"></ion-thumbnail>\n                    <ion-skeleton-text animated></ion-skeleton-text>\n                </ion-item>\n            </ion-list>\n            <ion-card v-else color=\"light\">\n                <ion-card-content>\n                Ничего не найдено\n                </ion-card-content>\n            </ion-card>\n            <ion-infinite-scroll @ionInfinite=\"listLoadMore($event)\" id=\"moderation-infinite-scroll\">\n                <ion-infinite-scroll-content loading-spinner=\"bubbles\" loading-text=\"Loading more data...\"></ion-infinite-scroll-content>\n            </ion-infinite-scroll>\n        </div>\n    </base-layout>\n</template>\n<script>\nimport {\n  IonInfiniteScroll, \n  IonInfiniteScrollContent,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonSegmentButton,\n  IonSegment,\n  IonImg,\n  modalController,\n  IonThumbnail,\n  IonText,\n  IonSkeletonText,\n  IonCard,\n  IonCardContent,\n  IonSearchbar,\n }                          from '@ionic/vue';\nimport jquery               from 'jquery'\nimport ImagePreviewModal    from '@/components/ImagePreviewModal'\n\nexport default {\n    components: {\n        IonInfiniteScroll, \n        IonInfiniteScrollContent,\n        IonItem,\n        IonLabel,\n        IonList,\n        IonSegmentButton,\n        IonSegment,\n        IonImg,\n        IonThumbnail,\n        IonText,\n        IonSkeletonText,\n        IonCard,\n        IonCardContent,\n        IonSearchbar\n    },\n    data(){\n        return{\n            items:[],\n            filter:'',\n            is_loading:0,\n            moderationType:'images',\n            holders:{\n                'store':'Поставщик',\n                'courier':'Курьер',\n                'product':'Товар',\n                'order':'Заказ',\n                'product_group_list':'Категория товара',\n                'location_group_list':'Категория местоп.',\n                'store_group_list':'Категория поставщ.',\n                'user_group_list':'Категория пользователя',\n            }\n        }\n    },\n    computed:{\n        listComputed(){\n            for(let item of this.items){\n                item.image_hash=item.image_hash||item.courier_photo_image_hash\n                item.item_id=item.image_id||item.store_id||item.courier_id||item.product_id\n                item.item_name=this.holders[item.image_holder]||item.store_name||item.user_name||item.product_name\n                item.date_time=this.toLocDateTime(item.updated_at)\n                item.class=item.deleted_at?'deleted':''\n            }\n            return this.items\n        }\n    },\n    methods:{\n        async listLoadMore(ev){\n            await this.listLoad()\n            ev.target.complete();\n        },\n        async listReload(){\n            this.items=[]\n            this.listLoad()\n        },\n        async listLoad(){\n            let request={\n                is_disabled:1,\n                is_active:0,\n                name_query:this.filter,\n                offset:this.items.length,\n                limit:15,\n                order:'updated_at'\n            }\n            try{\n                this.is_loading=1\n                let items\n                if(this.moderationType=='images'){\n                    items=await jquery.post(`${this.$heap.state.hostname}Image/listGet`,request)\n                } else \n                if(this.moderationType=='products'){\n                    request.name_query_fields='product_name,product_description,product_barcode,product_code'\n                    request.reverse='validity'\n                    const products=await jquery.post(`${this.$heap.state.hostname}Product/listGet`,request)\n                    items=products.product_list\n                } else\n                if(this.moderationType=='stores'){\n                    request.name_query_fields='store_name,store_description'\n                    request.reverse='validity'\n                    items=await jquery.post(`${this.$heap.state.hostname}Store/listGet`,request)\n                } else \n                if(this.moderationType=='couriers'){\n                    request.name_query_fields='courier_vehicle,user_phone,user_name'\n                    request.order='courier_list.updated_at'\n                    items=await jquery.post(`${this.$heap.state.hostname}Courier/listGet`,request)\n                }\n                this.is_loading=0\n                this.items=this.items.concat(items)\n            } catch(err){\n                console.log(err)\n            }\n        },\n        listTypeChanged(e){\n            const listType=e.target.value;\n            this.items=[]\n            this.listLoad();\n        },\n        listFilter(){\n            clearTimeout(this.clock)\n            const self=this\n            this.clock=setTimeout(()=>{\n                self.listReload()\n            },300)\n        },\n        toLocDate( iso ){\n            const event = new Date(Date.parse(iso));\n            const options = { month: 'short', day: 'numeric' };\n\n            return event.toLocaleDateString(undefined, options);\n        },\n        toLocDateTime( iso ){\n            const event = new Date(Date.parse(iso));\n            const options = { month: 'short', day: 'numeric',hour:'numeric',minute:'numeric' };\n\n            return event.toLocaleDateString(undefined, options);\n        },\n        itemEdit(item){\n            if( this.moderationType=='images' ){\n                this.imageEdit(item)\n            }\n            if( this.moderationType=='products' ){\n                this.$router.push('/catalog/product-edit-'+item.product_id)\n            }\n            if( this.moderationType=='stores' ){\n                this.$router.push('/catalog/store-edit-'+item.store_id)\n            }\n            if( this.moderationType=='couriers' ){\n                this.$router.push('/user/courier-dashboard?courier_id='+item.courier_id)\n            }\n        },\n        async imageEdit(item){\n            const actions={\n                'delete':['Удалить','danger'],\n                'postpone':['Потом','primary'],\n                'enable':['Ок','success'],\n            }\n            const modal = await modalController.create({\n                component: ImagePreviewModal,\n                componentProps:{image_hash:item.image_hash,actions},\n                initialBreakpoint: 0.75,\n                breakpoints: [0.75, 1]\n                });\n            this.$topic.on('dismissModal',()=>{\n                modal.dismiss();\n            });\n            modal.present();\n            const action=await modal.onDidDismiss()\n            if( action.role=='delete' ){\n                await this.imageDelete(item)\n            }\n            if( action.role=='enable' ){\n                await this.imageEnable(item)\n            }\n            if( action.role=='postpone' ){\n                await this.imagePostpone(item)\n            }\n            this.listReload()\n        },\n        async imageEnable(item){\n            await jquery.post(`${this.$heap.state.hostname}Image/itemDisable`,{image_id:item.image_id,is_disabled:0})\n        },\n        async imagePostpone(item){\n            //only to change updated_at db field\n            await jquery.post(`${this.$heap.state.hostname}Image/itemDisable`,{image_id:item.image_id,is_disabled:0})\n            await jquery.post(`${this.$heap.state.hostname}Image/itemDisable`,{image_id:item.image_id,is_disabled:1})\n        },\n        async imageDelete(item){\n            await jquery.post(`${this.$heap.state.hostname}Image/itemDelete`,{image_id:item.image_id})\n        },\n    },\n    mounted(){\n        this.listLoad();\n    },\n    watch:{\n        'filter':function(){\n            this.listFilter()\n        }\n    }\n}\n</script>","import { render } from \"./AdminModeration.vue?vue&type=template&id=7d2781ce&scoped=true\"\nimport script from \"./AdminModeration.vue?vue&type=script&lang=js\"\nexport * from \"./AdminModeration.vue?vue&type=script&lang=js\"\n\nimport \"./AdminModeration.vue?vue&type=style&index=0&id=7d2781ce&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d2781ce\"]])\n\nexport default __exports__"],"names":["_createVNode","_component_ion_header","_component_ion_toolbar","color","_component_ion_title","_component_ion_icon","icon","$setup","onClick","slot","size","_component_ion_content","$props","_createBlock","_component_ion_grid","key","_component_ion_row","_createElementBlock","_Fragment","_renderList","action","action_code","_component_ion_col","_component_ion_button","$options","expand","_component_ion_img","src","_ctx","state","hostname","props","components","IonIcon","IonToolbar","IonHeader","IonImg","IonContent","IonTitle","IonButton","IonCol","IonRow","IonGrid","setup","closeModal","modalController","closeOutline","methods","actionCreate","action_role","severity","confirm","__exports__","render","_component_base_layout","pageDefaultBackLink","_component_ion_segment","$data","$event","onIonChange","_component_ion_segment_button","value","_createElementVNode","_component_ion_searchbar","placeholder","length","_component_ion_list","item","_component_ion_item","item_id","button","detail","_component_ion_thumbnail","class","image_hash","_component_ion_text","item_name","_component_ion_label","date_time","style","_component_ion_skeleton_text","animated","_component_ion_card","_component_ion_card_content","_component_ion_infinite_scroll","onIonInfinite","id","_component_ion_infinite_scroll_content","IonInfiniteScroll","IonInfiniteScrollContent","IonItem","IonLabel","IonList","IonSegmentButton","IonSegment","IonThumbnail","IonText","IonSkeletonText","IonCard","IonCardContent","IonSearchbar","data","items","filter","is_loading","moderationType","holders","computed","listComputed","this","courier_photo_image_hash","image_id","store_id","courier_id","product_id","image_holder","store_name","user_name","product_name","toLocDateTime","updated_at","deleted_at","async","ev","listLoad","target","complete","request","is_disabled","is_active","name_query","offset","limit","order","jquery","$heap","name_query_fields","reverse","products","product_list","concat","err","console","log","listTypeChanged","e","listFilter","clearTimeout","clock","self","setTimeout","listReload","toLocDate","iso","event","Date","parse","options","month","day","toLocaleDateString","undefined","hour","minute","itemEdit","imageEdit","$router","push","actions","modal","component","ImagePreviewModal","componentProps","initialBreakpoint","breakpoints","$topic","on","dismiss","present","onDidDismiss","role","imageDelete","imageEnable","imagePostpone","mounted","watch"],"sourceRoot":""}