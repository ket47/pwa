{"version":3,"file":"js/8930.10f1c5ac.js","mappings":"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","sources":["webpack://Tezkel/./src/views/ProductEdit.vue","webpack://Tezkel/./src/components/GroupPicker.vue","webpack://Tezkel/./src/components/GroupPicker.vue?0a04","webpack://Tezkel/./src/views/ProductEdit.vue?406f"],"sourcesContent":["<style scoped>\r\n  .pdisabled{\r\n    background-color: var(--ion-color-light-shade);\r\n  }\r\n  .pdeleted{\r\n    background-color: var(--ion-color-danger-tint);\r\n  }\r\n  .phidden{\r\n    background-color: var(--ion-color-warning-shade);\r\n  }\r\n  .pactive{\r\n    background-color: var(--ion-color-success-shade);\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <base-layout :page-title=\"productItem?.product_name??'Товар'\" :pageDefaultBackLink=\"`/catalog/product-${productId}`\">\r\n  <div v-if=\"productItem && !is_option_child\">\r\n    <ion-card :color=\"messageCardSeverity\" v-if=\"(productItem?.validity<validity_min)\">\r\n      <ion-card-header>\r\n        <ion-card-title>\r\n          Форма заполнена на {{productItem?.validity??0}}%\r\n          <ion-progress-bar :value=\"productItem?.validity/100\"></ion-progress-bar>\r\n        </ion-card-title>\r\n      </ion-card-header>\r\n      <ion-card-content v-if=\"productItem?.validity<validity_min\">\r\n        <ion-text>\r\n          Вам необходимо заполнить анкету не меньше чем на {{validity_min}}% для рассмотрения модератором\r\n          <p v-if=\"productItem?.validity==0\">Обратите внимание на то, что поля \r\n            <ul>\r\n              <li>Название (больше 5 букв), </li>\r\n              <li>Цена, </li>\r\n              <li>Актуальный остаток (если ведется учет), </li>\r\n              <li>Изображения товара</li>\r\n            </ul>\r\n            обязательные\r\n          </p>\r\n        </ion-text>\r\n      </ion-card-content>\r\n    </ion-card>\r\n    <ion-card>\r\n      <ion-card-content :class=\"messageClass\">\r\n        <ion-text color=\"dark\">{{message}}</ion-text>\r\n      </ion-card-content>\r\n    </ion-card>\r\n  </div>\r\n\r\n    <ion-list v-if=\"productItem\">\r\n      <ion-item>\r\n        <ion-icon :src=\"eyeOffOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-model=\"is_hidden\" color=\"warning\" @ionChange=\"save('is_hidden',$event.target.checked?1:0)\">Скрыт</ion-toggle>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-icon :src=\"calculatorOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-if=\"productItem\" v-model=\"is_counted\" @ionChange=\"save('is_counted',$event.target.checked?1:0)\">Остаток учитывается</ion-toggle>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-icon :src=\"trashOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-model=\"is_deleted\" color=\"danger\" @ionChange=\"itemDelete($event.target.checked?1:0)\">Удален</ion-toggle>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-icon :src=\"ribbonOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-model=\"is_disabled\" @ionChange=\"itemDisable($event.target.checked?1:0)\">На модерации</ion-toggle>\r\n      </ion-item>\r\n      <ion-item v-if=\"!is_option_child\">\r\n        <ion-icon :src=\"layersOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-if=\"productItem\" v-model=\"is_option_parent\" @ionChange=\"itemOptionSet($event.target.checked);\">Имеет варианты</ion-toggle>\r\n      </ion-item>\r\n\r\n\r\n      <!-- OPTIONS DATA \r\n      <ion-popover :is-open=\"is_option_menu_open\" @didDissmiss=\"is_option_menu_open=false\">\r\n        <ion-content>\r\n          <ion-list>\r\n            <ion-item>\r\n              Вариант\r\n            </ion-item>\r\n            <ion-item :button=\"true\" :detail=\"false\" @click=\"itemOptionPhotoAdd()\">\r\n              <ion-icon :src=\"cameraOutline\" slot=\"start\"/> Добавить фото\r\n            </ion-item>\r\n          </ion-list>\r\n        </ion-content>\r\n      </ion-popover>\r\n      -->\r\n\r\n\r\n      <div @change=\"saveForm\" v-if=\"optionData\">\r\n          <ion-card @click=\"$router.replace(`product-edit-${optionData.parent.product_id}?refreshOptions=1`)\" :color=\"(is_option_parent)?'primary':'light'\">\r\n            <ion-card-header>\r\n              <ion-card-subtitle>\r\n                Родительский товар\r\n              </ion-card-subtitle>\r\n            </ion-card-header>\r\n            <ion-card-content>\r\n              <ion-item color=\"light\" lines=\"none\">\r\n                <img slot=\"start\" style=\"height:70px;border-radius:10px;margin:3px\" :src=\"`${$heap.state.hostname}image/get.php/${optionData.parent.image_hash}.70.70.webp`\"/>\r\n                <ion-label>{{optionData.parent.product_name}}</ion-label>\r\n              </ion-item>\r\n              <ion-item v-if=\"productId==optionData.parent.product_id\" color=\"light\">\r\n                <ion-input label=\"Вариант*\" label-placement=\"stacked\" placeholder=\"напишите вариант\" name=\"product_option\" v-model=\"productItem.product_option\"/>\r\n              </ion-item>\r\n              <ion-item lines=\"none\" v-else color=\"light\">\r\n                <ion-text>[{{optionData.parent.product_option}}]</ion-text>\r\n              </ion-item>\r\n            </ion-card-content>\r\n          </ion-card>\r\n        <div style=\"display:grid;grid-template-columns:1fr 1fr\">\r\n          <ion-card @click=\"$router.replace(`product-edit-${option.product_id}?refreshOptions=1`)\" v-for=\"option in optionData.children\" :key=\"option.product_id\" :color=\"productItem.product_id==option.product_id?'primary':''\">\r\n            <ion-card-content>\r\n              <div v-if=\"productItem.product_id==option.product_id\">\r\n                <ion-item :color=\"productItem.deleted_at?'danger':'light'\">\r\n                  <ion-input label=\"Вариант*\" label-placement=\"stacked\" placeholder=\"напишите вариант\" name=\"product_option\" v-model=\"productItem.product_option\"/>\r\n                </ion-item>\r\n                <ion-item v-if=\"productItem.image_hash\">\r\n                  <ion-icon :src=\"cameraOutline\"/>\r\n                </ion-item>\r\n              </div>\r\n              <ion-item lines=\"none\" v-else>\r\n                <ion-text :color=\"option.deleted_at?'danger':'medium'\">[{{option.product_option}}]</ion-text>\r\n              </ion-item>\r\n            </ion-card-content>\r\n          </ion-card>\r\n          <ion-card>\r\n            <ion-card-content>\r\n              <ion-button color=\"light\" expand=\"block\" @click=\"itemOptionCreate()\">+ вариант</ion-button>\r\n            </ion-card-content>\r\n          </ion-card>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <div v-if=\"!is_option_child\">\r\n      <ion-item-divider></ion-item-divider>\r\n      <ion-item button @click=\"$go('/catalog/product-'+productItem.product_id)\" detail=\"false\">\r\n        <ion-icon :src=\"chevronBack\" slot=\"start\"/>\r\n        Показать товар\r\n      </ion-item>\r\n      <ion-item button @click=\"showProductInStore()\" detail=\"false\">\r\n        <ion-icon :src=\"chevronBack\" slot=\"start\"/>\r\n        Показать в магазине\r\n      </ion-item>\r\n      <ion-item button @click=\"$go('/catalog/store-edit-'+productItem.store_id)\" detail=\"false\">\r\n        <ion-icon :src=\"chevronBack\" slot=\"start\"/>\r\n        Управление магазином\r\n      </ion-item>\r\n      </div>\r\n    </ion-list>\r\n\r\n    <form @change=\"saveForm\" v-if=\"productItem\">\r\n      <ion-list lines=\"full\">\r\n        <ion-item-group>\r\n          <ion-item-divider>\r\n            <ion-label>Основные настройки</ion-label>\r\n          </ion-item-divider>\r\n          <ion-item v-if=\"!is_option_child\">\r\n            <ion-input v-model=\"productItem.product_name\" label=\"Название*\" labelPlacement=\"stacked\" name=\"product_name\" placeholder=\"полное название товара\" clearInput=\"true\"/>\r\n          </ion-item>\r\n          <ion-item v-if=\"!is_option_child\">\r\n            <ion-textarea v-model=\"productItem.product_description\" label=\"Описание*\" labelPlacement=\"stacked\" name=\"product_description\" rows=\"6\" placeholder=\"характеристики, свойства, состав товара\"></ion-textarea>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_code\" label=\"Артикул\" labelPlacement=\"stacked\" name=\"product_code\" placeholder=\"код товара\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_barcode\" label=\"Штрихкод\" labelPlacement=\"stacked\" name=\"product_barcode\" placeholder=\"штрихкод\"/>\r\n          </ion-item>\r\n          <ion-item v-if=\"is_counted\">\r\n            <ion-input v-model=\"productItem.product_quantity\" :label=\"`Остаток ${productItem.product_unit}`\" labelPlacement=\"stacked\" name=\"product_quantity\" placeholder=\"в наличии\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_quantity_min\" :label=\"`Мин. заказ* ${productItem.product_unit}`\" labelPlacement=\"stacked\" name=\"product_quantity_min\" type=\"number\" inputmode=\"numeric\" pattern=\"\\d\\.\"/>\r\n          </ion-item>\r\n          <ion-item v-if=\"!is_option_child\">\r\n            <ion-select v-model=\"productItem.product_unit\" label=\"Единица*\" labelPlacement=\"stacked\" name=\"product_unit\"  @ionChange=\"saveForm\">\r\n              <ion-select-option value=\"шт\">штука</ion-select-option>\r\n              <ion-select-option value=\"порция\">порция вес</ion-select-option>\r\n              <ion-select-option value=\"порция мл\">порция объем</ion-select-option>\r\n              <ion-select-option value=\"кг\">килограмм</ion-select-option>\r\n              <ion-select-option value=\"м\">метр</ion-select-option>\r\n              <ion-select-option value=\"л\">литр</ion-select-option>\r\n            </ion-select>\r\n          </ion-item>\r\n          <ion-item v-if=\"productItem.product_unit!='кг'\">\r\n            <ion-input v-model=\"productItem.product_weight\" :label=\" (productItem.product_unit=='порция мл')?'Объем мл*':`Вес 1${productItem.product_unit} в г*`\" labelPlacement=\"stacked\" name=\"product_weight\" type=\"number\" step=\"1\" inputmode=\"numeric\" pattern=\"\\d\"/>\r\n          </ion-item>\r\n        </ion-item-group>\r\n      </ion-list>\r\n\r\n\r\n      <ion-list lines=\"full\">\r\n        <ion-item-group>\r\n          <ion-item-divider>\r\n            <ion-label>Цена</ion-label>\r\n          </ion-item-divider>\r\n        </ion-item-group>\r\n        <!--\r\n        <ion-item v-if=\"is_option_child\">\r\n          <ion-checkbox v-model=\"is_option_same_price\" @ionChange=\"is_option_same_price?itemPriceReset():''\">Цена как у родительского товара</ion-checkbox>\r\n        </ion-item>\r\n        -->\r\n        <div v-if=\"!is_option_same_price\">\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_price\" label=\"Цена*\" labelPlacement=\"stacked\" name=\"product_price\" type=\"number\" inputmode=\"numeric\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_net_price\" label=\"Цена в меню/на полке\" labelPlacement=\"stacked\" name=\"product_net_price\" type=\"number\" inputmode=\"numeric\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_promo_price\" label=\"Цена акционная\" labelPlacement=\"stacked\" name=\"product_promo_price\" type=\"number\" inputmode=\"numeric\" color=\"success\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input type=\"date\" v-model=\"productItem.product_promo_start\" label=\"Начало акции\" labelPlacement=\"stacked\" name=\"product_promo_start\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input type=\"date\" v-model=\"productItem.product_promo_finish\" label=\"Конец акции\" labelPlacement=\"stacked\" name=\"product_promo_finish\"/>\r\n          </ion-item>\r\n        </div>\r\n      </ion-list>\r\n    </form>\r\n\r\n\r\n\r\n    <ion-list v-if=\"productItem && !is_option_child\">\r\n      <ion-item-divider>\r\n        <ion-label>Изображения товара*</ion-label>\r\n      </ion-item-divider>\r\n      <image-tile-comp :images=\"productItem.images\" :image_holder_id=\"productItem.product_id\" title=\"Витрина товара 5 фото\" controller=\"Product\" ref=\"productImgs\"></image-tile-comp>\r\n      <ion-button @click=\"$refs.productImgs.take_photo()\" color=\"light\" expand=\"block\">\r\n        <ion-icon :src=\"cameraOutline\" slot=\"start\"/> Добавить фото на витрину\r\n      </ion-button>\r\n    </ion-list>\r\n    <!--\r\n    <ion-list v-if=\"productItem && is_option_child\">\r\n      <ion-item-divider>\r\n        <ion-label>Изображение варианта</ion-label>\r\n      </ion-item-divider>\r\n      <image-tile-comp :images=\"null\" :image_holder_id=\"productItem.product_id\" title=\"Фото варианта\" controller=\"Product\" ref=\"productImgs\"></image-tile-comp>\r\n\r\n      <ion-button @click=\"$refs.productImgs.take_photo()\" color=\"light\" expand=\"block\">\r\n        <ion-icon :src=\"cameraOutline\" slot=\"start\"/> Добавить фото варианта\r\n      </ion-button>\r\n    </ion-list>\r\n    -->\r\n    <ion-list v-if=\"productItem && categoryList && !is_option_child\">\r\n      <ion-item-divider>\r\n          <ion-label>Категории товара*</ion-label>\r\n      </ion-item-divider>\r\n      <ion-item v-if=\"categoryList.length==0\" color=\"light\">\r\n        <ion-icon :src=\"compassOutline\" slot=\"start\" color=\"danger\"/>\r\n        <ion-label color=\"danger\">Без категории (в разделе 'Другое')</ion-label>\r\n      </ion-item>\r\n      <ion-item v-for=\"cat in categoryList\" :key=\"cat.group_id\">\r\n        <ion-icon :src=\"compassOutline\" slot=\"start\" color=\"primary\"/>\r\n        <ion-label>{{cat.group_name}}</ion-label>\r\n        <ion-icon :src=\"trashOutline\" slot=\"end\" @click=\"categoryDelete(cat.group_id,cat.group_name)\"/>\r\n      </ion-item>\r\n      <ion-item button @click=\"categoryAdd()\">\r\n        <ion-icon :src=\"addOutline\" slot=\"start\" color=\"primary\"/>\r\n        <ion-label>Добавить в категорию</ion-label>\r\n      </ion-item>\r\n    </ion-list>\r\n\r\n    <ion-list v-if=\"productItem && productItem.updated_user\">\r\n      <ion-item-divider>\r\n          <ion-label></ion-label>\r\n      </ion-item-divider>\r\n      <ion-item lines=\"none\">\r\n        Изменен {{productItem.updated_at}}\r\n        <a slot=\"end\" :href=\"`tel:+${productItem.updated_user.user_phone}`\">{{productItem.updated_user.user_name}}</a>\r\n      </ion-item>\r\n    </ion-list>\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  IonInput,\r\n  IonTextarea,\r\n  IonCard,\r\n  IonCardContent,\r\n  IonCardHeader,\r\n  IonToggle,\r\n  IonIcon,\r\n  IonItem,\r\n  IonList,\r\n  IonLabel,\r\n  IonItemDivider,\r\n  IonItemGroup,\r\n  IonButton,\r\n  IonProgressBar,\r\n  IonText,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonCardTitle,\r\n  IonCardSubtitle,\r\n  modalController,\r\n  }                   from '@ionic/vue'\r\nimport {\r\n  cameraOutline,\r\n  trashOutline,\r\n  banOutline,\r\n  personOutline,\r\n  addOutline,\r\n  calculatorOutline,\r\n  compassOutline,\r\n  chevronBack,\r\n  layersOutline,\r\n  ribbonOutline,\r\n  eyeOffOutline,\r\n}                     from 'ionicons/icons'\r\nimport imageTileComp  from '@/components/ImageTileComp.vue'\r\nimport GroupPicker    from '@/components/GroupPicker.vue'\r\nimport heap           from '@/heap'\r\nimport Topic          from '@/scripts/Topic.js'\r\nimport jQuery         from \"jquery\";\r\n\r\nexport default  {\r\n  components: { \r\n    IonInput,\r\n    IonTextarea,\r\n    IonCard,\r\n    IonCardContent,\r\n    IonCardHeader,\r\n    IonToggle,\r\n    IonIcon,\r\n    IonItem,\r\n    IonList,\r\n    IonLabel,\r\n    IonItemDivider,\r\n    IonItemGroup,\r\n    IonButton,\r\n    IonProgressBar,\r\n    IonText,\r\n    IonSelect,\r\n    IonSelectOption,\r\n    IonCardTitle,\r\n    IonCardSubtitle,\r\n    imageTileComp\r\n    },\r\n  setup(){\r\n    return {\r\n      cameraOutline,\r\n      trashOutline,\r\n      banOutline,\r\n      personOutline,\r\n      addOutline,\r\n      calculatorOutline,\r\n      compassOutline,\r\n      chevronBack,\r\n      layersOutline,\r\n      ribbonOutline,\r\n      eyeOffOutline,\r\n      }\r\n  },\r\n  data(){\r\n    return {\r\n      productId: this.$route.params.id,\r\n      productItem: null,\r\n      productGroupList:null,\r\n      validity:0,\r\n      validity_min:70,\r\n      optionData:null,\r\n      refreshOptions:this.$route.query.refreshOptions,\r\n      is_option_parent:false,\r\n      is_option_child:false,\r\n      is_option_menu_open:false,\r\n      is_option_same_price:false,\r\n      is_groups_marked:0,\r\n      is_deleted:0,\r\n      is_disabled:0,\r\n      is_counted:0,\r\n      is_hidden:0,\r\n    }\r\n  },\r\n  computed: {\r\n    messageCardSeverity(){\r\n      if(this.productItem?.validity<60){\r\n        return 'danger';\r\n      }\r\n      if(this.productItem?.validity<this.validity_min){\r\n        return 'warning';\r\n      }\r\n      return 'primary';\r\n    },\r\n    message(){\r\n      if( !this.productItem ){\r\n        return ''\r\n      }\r\n      if(this.productItem.deleted_at){\r\n        return \"Товар не активен и будет удален. Вы еще можете отменить удаление\"\r\n      }\r\n      if(this.productItem.is_disabled==1){\r\n        return \"Товар не активен и находится на рассмотрении у администратора\"\r\n      }\r\n      if(this.productItem.is_hidden==1){\r\n        return \"Товар скрыт из магазина. Не продается\"\r\n      }\r\n      if(this.productItem.is_counted!=1){\r\n        return \"Товар активен и готов к продаже. Остаток товара неограничен\"\r\n      }\r\n      return \"Товар активен и готов к продаже. Остаток \"+(this.productItem.product_quantity||0)+this.productItem.product_unit\r\n    },\r\n    messageClass(){\r\n      if( !this.productItem ){\r\n        return ''\r\n      }\r\n      if(this.productItem?.deleted_at){\r\n        return \"pdeleted\";\r\n      }\r\n      if(this.productItem?.is_disabled==1){\r\n        return \"pdisabled\";\r\n      }\r\n      if(this.productItem?.is_hidden==1){\r\n        return \"phidden\";\r\n      }\r\n      return 'pactive';\r\n    },\r\n    categoryList(){\r\n      let categories=[];\r\n      try{\r\n        let member_of_ids=this.productItem.member_of_groups.group_ids.split(',');\r\n        let member_of_names=this.productItem.member_of_groups.group_names.split(',');\r\n        for( let i in member_of_ids){\r\n          categories.push({group_id:member_of_ids[i],group_name:member_of_names[i]})\r\n        }\r\n      }catch{/** */}\r\n      return categories;\r\n    }\r\n  },\r\n  created(){\r\n    this.listGroupGet()\r\n    this.itemGet()\r\n  },\r\n  ionViewDidEnter() {\r\n    if(this.refreshOptions && this.productItem?.product_parent_id){\r\n        this.itemOptionGet();\r\n    }\r\n  },\r\n  methods:{\r\n    async itemGet(){\r\n      try{\r\n        let productItem=await jQuery.post( heap.state.hostname + \"Product/itemGet\", { product_id: this.productId })\r\n        this.productItem=this.itemPrepare(productItem)\r\n        this.itemParseFlags()\r\n        //this.itemMarkGroups()\r\n\r\n        this.is_option_child=(this.productItem.product_parent_id && this.productItem.product_parent_id!=this.productItem.product_id)\r\n        this.is_option_parent=(this.productItem.product_parent_id && this.productItem.product_parent_id==this.productItem.product_id)\r\n        if(this.productItem.product_weight>0){//convert to g\r\n          this.productItem.product_weight=this.productItem.product_weight*1000\r\n        }\r\n        //this.is_option_same_price=!parseFloat(this.productItem.product_price)\r\n        await this.itemOptionGet();\r\n      }catch(err){\r\n        //console.log(err);\r\n      }\r\n    },\r\n    itemPrepare(productItem){\r\n      if(productItem.product_promo_start){\r\n        productItem.product_promo_start=productItem.product_promo_start.split(' ')[0]\r\n      }\r\n      if(productItem.product_promo_finish){\r\n        productItem.product_promo_finish=productItem.product_promo_finish.split(' ')[0]\r\n      }\r\n      return productItem\r\n    },\r\n    itemParseFlags(){\r\n      this.is_deleted   = this.productItem.deleted_at==null?0:1\r\n      this.is_disabled  = this.productItem.is_disabled==0?0:1\r\n      this.is_counted  = this.productItem.is_counted==0?0:1\r\n      this.is_hidden  = this.productItem.is_hidden==0?0:1\r\n    },\r\n    async itemDelete( is_deleted ){\r\n      // if(is_deleted && !confirm(\"Внимание товар будет удален! Продолжить?\")){\r\n      //   setTimeout(()=>{this.is_deleted=0;},100)\r\n      //   return\r\n      // }\r\n      const remoteFunction=is_deleted?'itemDelete':'itemUnDelete'\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/\"+remoteFunction, { product_id: this.productId })\r\n        this.productItem.deleted_at=is_deleted?1:null;\r\n        if(this.is_option_child || this.is_option_parent){\r\n          this.itemOptionGet()\r\n        }\r\n      }catch{\r\n        this.itemGet()\r\n      }\r\n    },\r\n    async itemDisable( is_disabled ){\r\n      if(this.productItem.is_disabled==is_disabled){\r\n        return\r\n      }\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/itemDisable\", { product_id: this.productId, is_disabled })\r\n        this.productItem.is_disabled=is_disabled;\r\n      }catch{\r\n        this.$flash(\"Изменение не сохранено\")\r\n        this.itemGet()\r\n      }\r\n    },\r\n    async itemUpdate(request){\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/itemUpdate\", JSON.stringify(request))\r\n        this.$flash(\"💾 сохранено\")\r\n        return true\r\n      } catch(err){\r\n        const validationErrors=err.responseJSON.messages.error\r\n        if(validationErrors?.includes('product_description')){\r\n          this.$flash(\"Описание слишком короткое\")\r\n        } else\r\n        if(validationErrors?.includes('product_name')){\r\n          this.$flash(\"Название слишком короткое\")\r\n        } else \r\n        this.$flash(\"Изменение не сохранено\")\r\n        this.itemGet()\r\n        return false\r\n      }\r\n    },\r\n\r\n\r\n\r\n\r\n    async itemOptionGet(){\r\n      if(!this.productItem.product_parent_id){\r\n        this.optionData=null\r\n      }\r\n      const request={\r\n        product_parent_id:this.productItem.product_parent_id\r\n      }\r\n      let optionData=await jQuery.post(`${this.$heap.state.hostname}Product/itemOptionGet`,request)\r\n      this.optionData={\r\n        parent:optionData[0],\r\n        children:optionData.slice(1)\r\n      }\r\n    },\r\n    async itemOptionCreate(){\r\n      const existingOptionCount=this.optionData?.children?.length??0\r\n      const productOption={\r\n        is_disabled:1,\r\n        store_id:this.productItem.store_id,\r\n        product_parent_id:this.productItem.product_parent_id,\r\n        product_name:'OPTION',\r\n        product_price:0,\r\n        product_option: `Вариант#${existingOptionCount}`\r\n      };\r\n      try{\r\n        await jQuery.post(`${this.$heap.state.hostname}Product/itemCreate`,productOption)\r\n        this.itemOptionGet()\r\n      } catch(err){/** */}\r\n    },\r\n    async itemOptionSet( set_option ){\r\n      if( set_option ){\r\n        await this.itemOptionSave( this.productId, this.productId )\r\n      } else {\r\n        await this.itemOptionDelete( this.productId )\r\n      }\r\n      this.itemGet()\r\n    },\r\n    async itemOptionUpdate( option_value ){\r\n      //console.log(this.productId,option_value)\r\n    },\r\n    async itemOptionSave( product_id, product_parent_id ){\r\n      try{\r\n        await jQuery.post( `${this.$heap.state.hostname}Product/itemOptionSave`, { product_id, product_parent_id })\r\n      }catch{/** */}\r\n    },\r\n    async itemOptionDelete( product_id ){\r\n      if(!confirm(\"Удалить разновидности товара?\")){\r\n        return\r\n      }\r\n      try{\r\n        await jQuery.post( `${this.$heap.state.hostname}Product/itemOptionDelete`, { product_id })\r\n        this.itemOptionGet()\r\n      }catch{/** */}\r\n    },\r\n    // itemPriceReset(){//needed for options\r\n    //     const request = {\r\n    //       product_id:this.productId,\r\n    //       product_promo_price:0,\r\n    //       product_price:0\r\n    //     };\r\n    //     this.itemUpdate(request)\r\n    //     this.productItem.product_price=0\r\n    //     this.productItem.product_promo_price=0\r\n    // },\r\n\r\n\r\n    checkPromoPrice(field_name){\r\n      const promo=parseFloat(this.productItem.product_promo_price)\r\n      const price=parseFloat(this.productItem.product_price)\r\n      if( price>0 && promo>0 && price<=promo ){\r\n        if(field_name=='product_promo_price'){\r\n          this.productItem.product_price=promo+1;\r\n        }\r\n        if(field_name=='product_price'){\r\n          this.productItem.product_promo_price=price-1;\r\n        }\r\n        const request = {\r\n          product_id:this.productId,\r\n          product_promo_price:this.productItem.product_promo_price,\r\n          product_price:this.productItem.product_price\r\n        };\r\n        this.itemUpdate(request)\r\n        this.$flash(\"Акционная цена должна быть ниже основной. Внимание цена изменена!\")\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    saveForm(ev){\r\n      const field_name=ev.target.name;\r\n      const field_value=this.productItem[field_name]=ev.target.value\r\n      if( !this.checkPromoPrice(field_name) ){\r\n        return\r\n      }\r\n      this.save(field_name,field_value)\r\n    },\r\n    async save(field_name, field_value) {\r\n      if( !this.productItem.product_id ){//product not loaded yet\r\n        return\r\n      }\r\n      let request = {\r\n        product_id:this.productItem.product_id,\r\n        [field_name]:field_value\r\n      }\r\n      if(field_name=='product_weight' && field_value>0){//convert to kg\r\n        request.product_weight=field_value/1000\r\n      }\r\n      if( this.itemUpdate(request) ){\r\n        this.productItem[field_name] = field_value;\r\n        this.itemParseFlags()\r\n      }\r\n    },\r\n    categoryDelete(group_id,group_name){\r\n      if(!confirm(\"Исключить товар из категории \"+group_name+\"?\")){\r\n        return\r\n      }\r\n      try{\r\n        this.itemUpdateGroup(0,group_id)\r\n      } catch{/** */}\r\n    },\r\n    async categoryAdd(){\r\n      const memberOfIds=this.productItem?.member_of_groups?.group_ids?.split(',')||[];\r\n      const modal = await modalController.create({\r\n          component: GroupPicker,\r\n          componentProps:{controller:'Product',memberId:this.productId,memberOfIds,memberLimit:1},\r\n          initialBreakpoint: 0.75,\r\n          breakpoints: [0.75, 1],\r\n          canDissmiss:true,\r\n          });\r\n      modal.present()\r\n      Topic.on('dismissModal',()=>{\r\n          modal.dismiss()\r\n      });\r\n      await modal.onDidDismiss();\r\n      this.itemGet()\r\n    },\r\n    async itemUpdateGroup(is_joined,group_id){\r\n      const request={\r\n        product_id:this.productId,\r\n        is_joined,\r\n        group_id\r\n      }\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/itemUpdateGroup\", request)\r\n      } catch(err){\r\n        this.$flash(\"Не удалось сохранить изменение\")\r\n      }\r\n      this.itemGet()\r\n    },\r\n    async listGroupGet(){\r\n      try{\r\n        this.productGroupList=await jQuery.get( heap.state.hostname + \"Product/listGroupGet\")\r\n        this.itemMarkGroups()\r\n      }catch{/** */}\r\n    },\r\n    showProductInStore(){\r\n      let sub_group_id=0;\r\n      try{\r\n        sub_group_id=this.productItem.member_of_groups.group_ids.split(',')[0];\r\n      } catch{/** */}\r\n      this.$go({path:('store-'+this.productItem.store_id),query:{sub_group_id}})\r\n    }\r\n  },\r\n}\r\n</script>","<style scoped>\r\n\r\n</style>\r\n<template>\r\n    <ion-header>\r\n      <ion-toolbar color=\"secondary\">\r\n          <ion-title>Категории</ion-title>\r\n          <ion-icon slot=\"end\" @click=\"closeModal();\" :icon=\"closeOutline\" size=\"large\" color=\"medium\"></ion-icon>\r\n      </ion-toolbar>\r\n    </ion-header>\r\n    <ion-content>\r\n        <ion-searchbar placeholder=\"Фильтр по категориям\" v-model=\"searchQuery\"/>\r\n        <ion-accordion-group v-if=\"groupListFiltered.length>0\">\r\n            <ion-accordion v-for=\"parentGroup in groupListTree\" :key=\"parentGroup.group_id\">\r\n                <ion-item slot=\"header\">\r\n                    <ion-avatar slot=\"start\" v-if=\"parentGroup.image_hash\">\r\n                        <ion-img :src=\"$heap.state.hostname + 'image/get.php/'+parentGroup.image_hash+'.50.50.webp'\"/>\r\n                    </ion-avatar>\r\n                    <ion-label>{{parentGroup.group_name}}</ion-label>\r\n                </ion-item>\r\n                <div class=\"ion-padding\" slot=\"content\">\r\n                    <ion-list>\r\n                        <div v-for=\"childGroup in parentGroup.children\" :key=\"childGroup.group_id\">\r\n                            <ion-item>\r\n                                <ion-avatar slot=\"start\" v-if=\"childGroup.image_hash\">\r\n                                    <ion-img :src=\"$heap.state.hostname + 'image/get.php/'+childGroup.image_hash+'.50.50.webp'\"/>\r\n                                </ion-avatar>\r\n                                <ion-label>{{childGroup.group_name}}</ion-label>\r\n                                <ion-checkbox slot=\"end\" :checked=\"childGroup.is_marked\" @click=\"mimickChage($event.target,childGroup.group_id)\"></ion-checkbox>\r\n                            </ion-item>\r\n                        </div>\r\n                    </ion-list>\r\n                </div>\r\n            </ion-accordion>\r\n        </ion-accordion-group>\r\n        <ion-list v-else>\r\n            <ion-item v-for=\"i in [1,2,3,4]\" :key=\"i\">\r\n                <ion-skeleton-text style=\"width:100%\"/>\r\n            </ion-item>\r\n        </ion-list>\r\n    </ion-content>\r\n</template>\r\n<script>\r\nimport \r\n{\r\n  closeOutline\r\n}                         from 'ionicons/icons';\r\nimport {\r\n    modalController,\r\n    IonCheckbox,\r\n    IonContent,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonIcon,\r\n    IonImg,\r\n    IonAvatar,\r\n    IonLabel,\r\n    IonList,\r\n    IonItem,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonSearchbar,\r\n    IonSkeletonText,\r\n}                         from \"@ionic/vue\";\r\nimport jQuery             from 'jquery'\r\n\r\nexport default {\r\n    props:['controller','memberId','memberOfIds','memberLimit'],\r\n    components:{\r\n    IonCheckbox,\r\n    IonContent,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonIcon,\r\n    IonImg,\r\n    IonAvatar,\r\n    IonLabel,\r\n    IonList,\r\n    IonItem,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonSearchbar,\r\n    IonSkeletonText,\r\n    },\r\n    setup(){\r\n        return {closeOutline}\r\n    },\r\n    data(){\r\n        return {\r\n            searchQuery:'',\r\n            groupList:null,\r\n            checkedGroupList:[]\r\n        }\r\n    },\r\n    created(){\r\n        this.listGroupGet()\r\n        this.checkedGroupList=this.memberOfIds||[]\r\n    },\r\n    computed:{\r\n        groupListFiltered(){\r\n            if(!this.searchQuery){\r\n                return this.groupList??[]\r\n            }\r\n            const regexp=new RegExp(this.searchQuery.replace(/^[\\w\\d\\s]/,'').replace(/\\s/g,'.*'),'im')\r\n            return this.groupList.filter(group=>group.group_path?.match( regexp ))??[]\r\n        },\r\n        groupListTree(){\r\n            let groupTree=[]\r\n            for( let group of this.groupListFiltered ){\r\n                let branchIndex=groupTree.findIndex(parentGroup=>group.group_parent_id==parentGroup.group_id)\r\n                if(branchIndex<0){\r\n                    let parentGroup=this.groupList.find(parent_group=>parent_group.group_id==group.group_parent_id)\r\n                    if(!parentGroup){\r\n                        continue\r\n                    }\r\n                    parentGroup.children=[]\r\n                    branchIndex=groupTree.push(parentGroup)-1\r\n                }\r\n                groupTree[branchIndex].children.push(group)\r\n            }\r\n            return groupTree\r\n        },\r\n        parentGroupList(){\r\n            return this.groupListFiltered?.filter(group=>group.group_parent_id==0)\r\n        },\r\n        childGroupList(){\r\n            let childGroups={}\r\n            for(let group of this.parentGroupList){\r\n                childGroups[group.group_id]=this.groupListFiltered.filter(child_group=>child_group.group_parent_id==group.group_id)\r\n            }\r\n            return childGroups\r\n        }\r\n    },\r\n    methods:{\r\n        async listGroupGet(){\r\n            this.groupList=await jQuery.get(this.$heap.state.hostname + this.controller + '/listGroupGet')\r\n            this.itemMarkGroups()\r\n        },\r\n        itemMarkGroups(){\r\n            if(!this.groupList){\r\n                return\r\n            }\r\n            try{\r\n                for(let group of this.groupList){\r\n                    group.is_marked=this.checkedGroupList.includes(group.group_id)?1:0;\r\n                }\r\n            }catch{/** */}\r\n        },\r\n        async itemUpdateGroup(is_joined,group_id){\r\n            const request={\r\n                [this.controller.toLowerCase()+'_id']:this.memberId,\r\n                is_joined,\r\n                group_id\r\n            }\r\n            try{\r\n                await jQuery.post(this.$heap.state.hostname + this.controller + \"/itemUpdateGroup\", request)\r\n            } catch(err){\r\n                this.$flash(\"Не удалось сохранить изменение\")\r\n            }\r\n        },\r\n        mimickChage(target,group_id){\r\n            const self=this\r\n            setTimeout(()=>{\r\n                self.groupChanged(target,group_id)\r\n            },0)\r\n        },\r\n        async groupChanged(target,group_id){\r\n            const is_checked=target.checked?1:0\r\n            if( is_checked ){\r\n                if(this.checkedGroupList.length>=this.memberLimit){\r\n                    this.$flash(`Можно выбрать не больше ${this.memberLimit} категорий`)\r\n                    target.checked=0;\r\n                    return\r\n                }\r\n                if(this.memberLimit==1){\r\n                    this.closeModal()\r\n                }\r\n                this.checkedGroupList.push(group_id)\r\n            } else {\r\n                this.checkedGroupList = this.checkedGroupList.filter(function(value, index, arr){ \r\n                    return value != group_id;\r\n                });\r\n            }\r\n            this.itemUpdateGroup(is_checked,group_id)\r\n        },\r\n        closeModal(){\r\n            modalController.dismiss(this.checkedGroupList);\r\n        }\r\n    }\r\n}\r\n</script>","import { render } from \"./GroupPicker.vue?vue&type=template&id=1638c89c\"\nimport script from \"./GroupPicker.vue?vue&type=script&lang=js\"\nexport * from \"./GroupPicker.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductEdit.vue?vue&type=template&id=0a453c48&scoped=true\"\nimport script from \"./ProductEdit.vue?vue&type=script&lang=js\"\nexport * from \"./ProductEdit.vue?vue&type=script&lang=js\"\n\nimport \"./ProductEdit.vue?vue&type=style&index=0&id=0a453c48&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0a453c48\"]])\n\nexport default __exports__"],"names":["key","_createElementVNode","style","_createBlock","_component_base_layout","_$data$productItem$pr","_$data$productItem","$data","productItem","product_name","pageDefaultBackLink","productId","default","_withCtx","_$data$productItem2","is_option_child","_createElementBlock","_hoisted_1","validity","validity_min","_component_ion_card","color","$options","messageCardSeverity","_$data$productItem5","_createVNode","_component_ion_card_header","_component_ion_card_title","_$data$productItem$va","_$data$productItem3","_$data$productItem4","_createTextVNode","_toDisplayString","_component_ion_progress_bar","value","_","_component_ion_card_content","_component_ion_text","_$data$productItem6","_hoisted_2","_hoisted_3","_createCommentVNode","class","_normalizeClass","messageClass","message","_component_ion_list","_component_ion_item","_component_ion_icon","src","$setup","eyeOffOutline","slot","_component_ion_toggle","modelValue","is_hidden","_cache","$event","onIonChange","save","target","checked","calculatorOutline","is_counted","trashOutline","is_deleted","itemDelete","ribbonOutline","is_disabled","itemDisable","layersOutline","is_option_parent","itemOptionSet","optionData","onChange","args","saveForm","onClick","_ctx","$router","replace","parent","product_id","_component_ion_card_subtitle","lines","$heap","state","hostname","image_hash","_hoisted_4","_component_ion_label","_component_ion_input","label","placeholder","name","product_option","_hoisted_5","_Fragment","_renderList","children","option","_hoisted_6","deleted_at","cameraOutline","_component_ion_button","expand","itemOptionCreate","_hoisted_7","_component_ion_item_divider","button","$go","detail","chevronBack","showProductInStore","store_id","_component_ion_item_group","labelPlacement","clearInput","_component_ion_textarea","product_description","rows","product_code","product_barcode","product_quantity","product_unit","product_quantity_min","type","inputmode","pattern","_component_ion_select","_component_ion_select_option","product_weight","step","is_option_same_price","_hoisted_8","product_price","product_net_price","product_promo_price","product_promo_start","product_promo_finish","_component_image_tile_comp","images","image_holder_id","title","controller","ref","$refs","productImgs","take_photo","categoryList","length","compassOutline","cat","group_id","group_name","categoryDelete","categoryAdd","addOutline","updated_user","updated_at","href","user_phone","user_name","_hoisted_9","_component_ion_header","_component_ion_toolbar","_component_ion_title","closeModal","icon","closeOutline","size","_component_ion_content","_component_ion_searchbar","searchQuery","groupListFiltered","_component_ion_accordion_group","groupListTree","parentGroup","_component_ion_accordion","_component_ion_avatar","_component_ion_img","childGroup","_component_ion_checkbox","is_marked","mimickChage","i","_component_ion_skeleton_text","props","components","IonCheckbox","IonContent","IonHeader","IonToolbar","IonTitle","IonIcon","IonImg","IonAvatar","IonLabel","IonList","IonItem","IonAccordion","IonAccordionGroup","IonSearchbar","IonSkeletonText","setup","data","groupList","checkedGroupList","created","this","listGroupGet","memberOfIds","computed","_this$groupList$filte","_this$groupList","regexp","RegExp","filter","group","_group$group_path","group_path","match","groupTree","branchIndex","findIndex","group_parent_id","find","parent_group","push","parentGroupList","_this$groupListFilter","childGroupList","childGroups","child_group","methods","jQuery","itemMarkGroups","includes","itemUpdateGroup","is_joined","request","toLowerCase","memberId","err","$flash","self","setTimeout","groupChanged","is_checked","memberLimit","index","arr","modalController","dismiss","__exports__","IonInput","IonTextarea","IonCard","IonCardContent","IonCardHeader","IonToggle","IonItemDivider","IonItemGroup","IonButton","IonProgressBar","IonText","IonSelect","IonSelectOption","IonCardTitle","IonCardSubtitle","imageTileComp","banOutline","personOutline","$route","params","id","productGroupList","refreshOptions","query","is_option_menu_open","is_groups_marked","_this$productItem","_this$productItem2","_this$productItem3","_this$productItem4","_this$productItem5","categories","member_of_ids","member_of_groups","group_ids","split","member_of_names","group_names","itemGet","ionViewDidEnter","_this$productItem6","product_parent_id","itemOptionGet","heap","itemPrepare","itemParseFlags","remoteFunction","itemUpdate","JSON","stringify","validationErrors","responseJSON","messages","error","slice","_this$optionData$chil","_this$optionData","_this$optionData$chil2","existingOptionCount","productOption","set_option","itemOptionSave","itemOptionDelete","itemOptionUpdate","option_value","confirm","checkPromoPrice","field_name","promo","parseFloat","price","ev","field_value","_this$productItem7","_this$productItem7$me","_this$productItem7$me2","modal","create","component","GroupPicker","componentProps","initialBreakpoint","breakpoints","canDissmiss","present","Topic","on","onDidDismiss","sub_group_id","path","render"],"sourceRoot":""}