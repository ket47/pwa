"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[1721],{1721:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var a=r(6252),i=r(3577);const o=e=>((0,a.dD)("data-v-7b8d7de8"),e=e(),(0,a.Cn)(),e),n=o((()=>(0,a._)("p",null,"Доставка сегодня попадает за пределы рабочего времени курьерской службы",-1))),l=o((()=>(0,a._)("p",null,"Исполним ваш заказ, как только освободятся курьеры",-1))),d=o((()=>(0,a._)("span",null,"как можно скорее",-1))),s=o((()=>(0,a._)("b",null,"Запланировать",-1))),u={key:0},c={key:1},m={style:{"font-size":"0.7em",color:"var(--ion-color-medium)"}},h={key:2};function p(e,t,r,o,p,y){const _=(0,a.up)("ion-item-divider"),f=(0,a.up)("ion-item"),w=(0,a.up)("ion-card-title"),v=(0,a.up)("ion-card-header"),k=(0,a.up)("ion-card-content"),g=(0,a.up)("ion-card"),C=(0,a.up)("ion-label"),W=(0,a.up)("ion-segment-button"),b=(0,a.up)("ion-segment"),S=(0,a.up)("ion-icon"),$=(0,a.up)("ion-radio"),D=(0,a.up)("ion-img"),R=(0,a.up)("ion-radio-group"),I=(0,a.up)("ion-text"),U=(0,a.up)("ion-list"),T=(0,a.up)("ion-accordion"),O=(0,a.up)("ion-accordion-group"),z=(0,a.up)("router-link"),B=(0,a.up)("ion-checkbox"),V=(0,a.up)("ion-button"),P=(0,a.up)("base-layout");return(0,a.wg)(),(0,a.j4)(P,{pageTitle:"Оформление вызова курьера",pageDefaultBackLink:"/order/shipment-draft",ref:"page"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{lines:"none"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{style:{"margin-top":"0px","box-shadow":"none"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Детали перевозки")])),_:1}),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Курьер отвезет вашу посылку ")])),_:1}),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>{var e;return[(0,a.Uk)((0,i.zw)(null===(e=p.order)||void 0===e?void 0:e.order_description),1)]})),_:1}),"downtime"==p.routePlan.deliveryDelay?((0,a.wg)(),(0,a.j4)(g,{key:0,color:"light"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Запланировать заказ ")])),_:1})])),_:1}),(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[n])),_:1})])),_:1})):"inqueue"==p.routePlan.deliveryDelay?((0,a.wg)(),(0,a.j4)(g,{key:1,color:"light"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Высокая загруженность курьеров ")])),_:1})])),_:1}),(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[l])),_:1})])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,{mode:"ios",modelValue:p.deliveryStartMode,"onUpdate:modelValue":t[2]||(t[2]=e=>p.deliveryStartMode=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{value:"atonce",disabled:y.isAtonceDisabled,onClick:t[0]||(t[0]=e=>p.deliveryStartScheduled=null)},{default:(0,a.w5)((()=>[(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Отвезти сразу")])),_:1}),d])),_:1},8,["disabled"]),(0,a.Wm)(W,{value:"schedule",onClick:t[1]||(t[1]=e=>y.datetimePick())},{default:(0,a.w5)((()=>[(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[s])),_:1}),y.deliveryStartLocal?((0,a.wg)(),(0,a.iD)("span",u,(0,i.zw)(y.deliveryStartLocal),1)):((0,a.wg)(),(0,a.iD)("span",c,"выберите день и время"))])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Способы оплаты")])),_:1}),(0,a.Wm)(R,{modelValue:p.paymentType,"onUpdate:modelValue":t[8]||(t[8]=e=>p.paymentType=e)},{default:(0,a.w5)((()=>{var r;return[1==p.tariffRule.paymentByCreditStore?((0,a.wg)(),(0,a.j4)(f,{key:0,button:"",detail:"false",onClick:t[3]||(t[3]=e=>p.paymentType="use_credit_store")},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{icon:o.businessOutline,slot:"start",color:"medium"},null,8,["icon"]),(0,a.Wm)($,{value:"use_credit_store"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Со счета предприятия "),(0,a._)("div",m,(0,i.zw)(p.tariffRule.storeCreditName)+" "+(0,i.zw)(p.tariffRule.storeCreditBalance)+(0,i.zw)(e.$heap.state.currencySign),1)])),_:1})])),_:1})):(0,a.kq)("",!0),1==p.tariffRule.paymentByCash?((0,a.wg)(),(0,a.j4)(f,{key:1,button:"",detail:"false",onClick:t[4]||(t[4]=e=>p.paymentType="use_cash")},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{icon:o.cashOutline,slot:"start",color:"medium"},null,8,["icon"]),(0,a.Wm)($,{value:"use_cash"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Оплата наличными ")])),_:1})])),_:1})):(0,a.kq)("",!0),1==p.tariffRule.paymentByCard?((0,a.wg)(),(0,a.iD)("div",h,[(0,a.Wm)(f,{detail:"false",button:"",onClick:t[5]||(t[5]=e=>p.paymentType="use_card")},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{icon:o.cardOutline,slot:"start",color:"medium"},null,8,["icon"]),(0,a.Wm)($,{value:"use_card"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Оплата картой ")])),_:1})])),_:1}),null!==(r=p.bankCard)&&void 0!==r&&r.card_type?((0,a.wg)(),(0,a.j4)(f,{key:0,button:"",detail:"false",onClick:t[6]||(t[6]=e=>p.paymentType="use_card_recurrent")},{default:(0,a.w5)((()=>["mir"==p.bankCard.card_type?((0,a.wg)(),(0,a.j4)(D,{key:0,class:"card_type",src:`/img/icons/card-${p.bankCard.card_type}.svg`,slot:"start"},null,8,["src"])):"visa"==p.bankCard.card_type?((0,a.wg)(),(0,a.j4)(D,{key:1,class:"card_type",src:`/img/icons/card-${p.bankCard.card_type}.svg`,slot:"start"},null,8,["src"])):"mastercard"==p.bankCard.card_type?((0,a.wg)(),(0,a.j4)(D,{key:2,class:"card_type",src:`/img/icons/card-${p.bankCard.card_type}.svg`,slot:"start"},null,8,["src"])):((0,a.wg)(),(0,a.j4)(S,{key:3,src:o.cardOutline,slot:"start",color:"medium"},null,8,["src"])),(0,a.Wm)($,{value:"use_card_recurrent"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Оплата картой ")])),_:1})])),_:1})):(0,a.kq)("",!0),p.recurrentPaymentAllow?((0,a.wg)(),(0,a.j4)(f,{key:1,button:"",detail:"",onClick:t[7]||(t[7]=t=>e.$go("/user/user-cards"))},{default:(0,a.w5)((()=>{var e;return[null!==(e=p.bankCard)&&void 0!==e&&e.card_type?((0,a.wg)(),(0,a.j4)(C,{key:0,color:"medium"},{default:(0,a.w5)((()=>[(0,a.Uk)("Выбрать другую карту")])),_:1})):((0,a.wg)(),(0,a.j4)(C,{key:1,color:"medium"},{default:(0,a.w5)((()=>[(0,a.Uk)("Привязать карту")])),_:1}))]})),_:1})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)]})),_:1},8,["modelValue"]),(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Итог")])),_:1}),(0,a.Wm)(O,{value:"total"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{value:"total"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{slot:"header"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{icon:o.walletOutline,slot:"start",color:"medium"},null,8,["icon"]),(0,a.Wm)(I,{color:"medium"},{default:(0,a.w5)((()=>[(0,a.Uk)("Итого: ")])),_:1}),(0,a.Wm)(C,{slot:"end",color:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(p.tariffRule.deliverySum)+(0,i.zw)(e.$heap.state.currencySign),1)])),_:1})])),_:1}),(0,a.Wm)(U,{slot:"content"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{lines:"none"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{icon:o.rocketOutline,slot:"start",color:"medium"},null,8,["icon"]),(0,a.Wm)(I,{color:"medium"},{default:(0,a.w5)((()=>[(0,a.Uk)("Вызов курьера")])),_:1}),(0,a.Wm)(C,{slot:"end",color:"medium"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(p.tariffRule.deliveryCost)+(0,i.zw)(e.$heap.state.currencySign),1)])),_:1})])),_:1}),(0,a.Wm)(f,{lines:"none"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{icon:o.mapOutline,slot:"start",color:"medium"},null,8,["icon"]),(0,a.Wm)(I,{color:"medium"},{default:(0,a.w5)((()=>[(0,a.Uk)("Расстояние по карте "+(0,i.zw)(y.deliveryDistanceKm)+"км",1)])),_:1}),(0,a.Wm)(C,{slot:"end",color:"medium"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(y.deliveryFeeTotal)+(0,i.zw)(e.$heap.state.currencySign),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I,{style:{"font-size":"0.9em"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" Я согласен(на) с "),(0,a.Wm)(z,{to:"/page/rules-customer"},{default:(0,a.w5)((()=>[(0,a.Uk)("офертой об оказании услуг доставки")])),_:1})])),_:1}),(0,a.Wm)(B,{slot:"end",modelValue:p.termsAccepted,"onUpdate:modelValue":t[9]||(t[9]=e=>p.termsAccepted=e),"aria-label":""},null,8,["modelValue"])])),_:1})])),_:1}),y.checkoutError?((0,a.wg)(),(0,a.j4)(g,{key:0,color:"warning"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(y.checkoutError),1)])),_:1})])),_:1})):(0,a.kq)("",!0),!y.isVPNon||"use_card"!=p.paymentType&&"use_card_recurrent"!=p.paymentType?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(g,{key:1,color:"light"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Возможно включен VPN. Банк часто блокирует платежи через VPN.")])),_:1})])),_:1})),"use_card"==p.paymentType||"use_card_recurrent"==p.paymentType?((0,a.wg)(),(0,a.j4)(V,{key:2,expand:"block",onClick:t[10]||(t[10]=e=>y.proceed()),disabled:y.checkoutError},{default:(0,a.w5)((()=>[(0,a.Uk)("Оплатить картой")])),_:1},8,["disabled"])):((0,a.wg)(),(0,a.j4)(V,{key:3,expand:"block",onClick:t[11]||(t[11]=e=>y.proceed()),disabled:y.checkoutError},{default:(0,a.w5)((()=>[(0,a.Uk)("Вызвать курьера")])),_:1},8,["disabled"]))])),_:1},512)}r(6699),r(8862),r(4916),r(5306);var y=r(4929),_=r(8903),f=r(4405),w=r(9755),v=r.n(w);const k={style:{height:"100%"}};function g(e,t,r,i,o,n){const l=(0,a.up)("ion-title"),d=(0,a.up)("ion-icon"),s=(0,a.up)("ion-item"),u=(0,a.up)("ion-toolbar"),c=(0,a.up)("ion-header"),m=(0,a.up)("ion-datetime"),h=(0,a.up)("ion-button"),p=(0,a.up)("ion-content");return(0,a.wg)(),(0,a.iD)("div",k,[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{lines:"none"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Выбрать день и время")])),_:1}),(0,a.Wm)(d,{slot:"end",onClick:t[0]||(t[0]=e=>{n.cancel()}),icon:i.closeOutline,size:"large"},null,8,["icon"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(p,{class:"ion-padding"},{default:(0,a.w5)((()=>{var e,i;return[(0,a.Wm)(m,{style:{"max-width":"100%","border-radius":"10px"},presentation:"date-time",modelValue:o.datetime,"onUpdate:modelValue":t[1]||(t[1]=e=>o.datetime=e),"prefer-wheel":!0,"first-day-of-week":1,min:null===(e=r.dateRange)||void 0===e?void 0:e.dayFirst,max:null===(i=r.dateRange)||void 0===i?void 0:i.dayLast,"hour-values":n.hourValues,"minute-values":n.minuteValues},null,8,["modelValue","min","max","hour-values","minute-values"]),(0,a.Wm)(h,{color:"primary",onClick:t[2]||(t[2]=e=>n.confirm()),expand:"block"},{default:(0,a.w5)((()=>[(0,a.Uk)("Ок")])),_:1}),(0,a.Wm)(h,{color:"light",onClick:t[3]||(t[3]=e=>n.cancel()),expand:"block"},{default:(0,a.w5)((()=>[(0,a.Uk)("Закрыть")])),_:1})]})),_:1})])}r(3948),r(7658);var C={props:["dateRange","defaultDatetime"],components:{IonTitle:y.wd,IonDatetime:y.x4,IonToolbar:y.sr,IonContent:y.W2,IonHeader:y.Gu,IonIcon:y.gu,IonItem:y.Ie,IonButton:y.YG},setup(){return{closeOutline:_.fID}},data(){var e;const t=null===(e=this.defaultDatetime)||void 0===e?void 0:e.replace(" ","T");return{datetime:t}},computed:{hourValues(){if(this.dateRange&&this.dateRange.dayHours&&this.datetime){const[e]=this.datetime.split("T");let t=[];for(let r in this.dateRange.dayHours[e]){const e=r.split("_")[1];t.push(e)}return t}return null},minuteValues(){var e;const[t,r]=this.datetime.split("T"),[a,i,o]=r.split(":");return null===(e=this.dateRange.dayHours[t])||void 0===e?void 0:e[`h_${a}`]}},methods:{confirm(){y.Fy.dismiss(this.datetime,"confirm")},cancel(){y.Fy.dismiss(null,"cancel")}}},W=r(3744);const b=(0,W.Z)(C,[["render",g],["__scopeId","data-v-31538a22"]]);var S=b,$=r(4431),D={components:{IonText:y.yW,IonList:y.q_,IonItem:y.Ie,IonIcon:y.gu,IonLabel:y.Q$,IonSegment:y.cJ,IonSegmentButton:y.GO,IonImg:y.Xz,IonCard:y.PM,IonCardContent:y.FN,IonCardHeader:y.Zi,IonCardTitle:y.Dq,IonButton:y.YG,IonCheckbox:y.nz,IonItemDivider:y.rH,IonRadioGroup:y.se,IonRadio:y.B7,IonAccordion:y.We,IonAccordionGroup:y.eh},setup(){return{cubeOutline:_.XFf,locationOutline:_.Iv7,flagOutline:_.FMn,chevronDown:_.Dd1,addOutline:_.s6O,checkmark:_.d29,cardOutline:_.pvm,cashOutline:_.zaw,businessOutline:_.c1X,walletOutline:_.S5P,alertCircleOutline:_.nLD,mapOutline:_.oYE,rocketOutline:_.G$D}},data(){return{order_id:this.$route.params.id,order:null,arrivalRange:null,bankCard:null,routePlan:{},tariffRule:{},tariffRuleList:[],errorCode:null,paymentType:"use_card",shipAutoloadClock:null,termsAccepted:1,iplocation:null,recurrentPaymentAllow:0,deliveryStartScheduled:null,deliveryStartMode:"atonce"}},computed:{deliveryStartLocal(){if(!this.deliveryStartScheduled)return null;const e={month:"short",day:"numeric",hour:"numeric",minute:"numeric"},t=new Date(Date.parse(this.deliveryStartScheduled));return t.toLocaleDateString(void 0,e)},isAtonceDisabled(){return["downtime","inqueue"].includes(this.routePlan.deliveryDelay)},deliveryFeeTotal(){return Math.round(this.tariffRule.deliveryFee*this.deliveryDistanceKm)||0},deliveryDistanceKm(){return Math.round(this.routePlan.deliveryDistance/100)/10||0},checkoutError(){return"no_input"==this.errorCode?"Выберите адрес забора и доставки посылки":"start_center_toofar"==this.errorCode?"Адрес получения посылки слишком удален":"finish_center_toofar"==this.errorCode?"Адрес доставки посылки слишком удален":"start_finish_toofar"==this.errorCode?"Дальность доставки слишком большая":0==this.termsAccepted?"К сожалению, мы не можем доставить вам заказ, без согласия с условиями":"use_credit_store"==this.paymentType&&this.tariffRule.storeCreditBalance<this.tariffRule.deliverySum?"На счету предприятия не достаточно средств":null},isVPNon(){var e;return!(!this.iplocation||["UA","RU","???"].includes(null!==(e=this.iplocation.country_code)&&void 0!==e?e:"???"))}},methods:{async itemLoad(){this.itemCheckoutDataGet()},async itemCheckoutDataGet(e=0){try{var t,r;const a={order_id:this.order_id,with_arrival_range:e},i=await f.Z.post(`${this.$heap.state.hostname}Shipment/itemCheckoutDataGet`,a);if(!i)return;this.order=i.order,this.routePlan=i.routePlan,this.arrivalRange=null!==(t=i.arrivalRange)&&void 0!==t?t:null,this.bankCard=null===i||void 0===i?void 0:i.bankCard,this.tariffRuleList=i.deliveryOptions,this.tariffRuleSet((null===(r=this.tariffRuleList)||void 0===r?void 0:r[0])||{}),["downtime","inqueue"].includes(this.routePlan.deliveryDelay)&&(this.deliveryStartMode="schedule",this.deliveryStartScheduled=this.arrivalRange.nearest)}catch(o){var a,i;return this.errorCode=null===o||void 0===o||null===(a=o.responseJSON)||void 0===a||null===(i=a.messages)||void 0===i?void 0:i.error,"notfound"!=this.errorCode&&"forbidden"!=this.errorCode||(this.$flash("Заказ не найден"),this.$router.go(-1)),!1}},tariffRuleSet(e){var t;this.tariffRule=e,this.paymentType="use_card",null!==(t=this.bankCard)&&void 0!==t&&t.card_type&&(this.paymentType="use_card_recurrent"),1==e.paymentByCreditStore&&this.tariffRule.storeCreditBalance>=this.tariffRule.deliverySum?this.paymentType="use_credit_store":1==e.paymentByCash&&(this.paymentType="use_cash")},async datetimePick(){this.deliveryStartMode="schedule",this.arrivalRange||await this.itemCheckoutDataGet(1);const e=await y.Fy.create({component:S,presentingElement:this.$refs.page.$el,initialBreakpoint:"0.5",showBackdrop:!0,componentProps:{dateRange:this.arrivalRange.range,defaultDatetime:this.arrivalRange.nearest}});e.present();const t=await e.onDidDismiss();"confirm"==t.role?this.deliveryStartScheduled=t.data:this.deliveryStartMode="atonce"},async customerIpLocationGet(){try{const e=await fetch("https://geolocation-db.com/json/");this.iplocation=await e.json()}catch(e){}},async proceed(){const e={order_id:this.order.order_id,tariff_id:this.tariffRule.tariff_id,deliveryStartScheduled:this.deliveryStartScheduled,paymentByCard:"use_card"==this.paymentType?1:0,paymentByCardRecurrent:"use_card_recurrent"==this.paymentType?1:0,paymentByCash:"use_cash"==this.paymentType?1:0,paymentByCreditStore:"use_credit_store"==this.paymentType?1:0};try{await v().post(`${this.$heap.state.hostname}Shipment/itemCheckoutDataSet`,JSON.stringify(e))}catch(o){var t,r;const e=null===o||void 0===o||null===(t=o.responseJSON)||void 0===t||null===(r=t.messages)||void 0===r?void 0:r.error;if(!e)return!1;switch(e){case"payment_already_done":return this.$flash("Уже оплачен"),void this.$go(`/order/shipment-${this.order.order_id}`);case"credit_balance_low":return void this.$flash("Не достаточно средств на счету")}return this.$flash("Не удается оформить заказ, обратитесь на горячую линию"),!1}if(1!=e.paymentByCard){if(1==e.paymentByCardRecurrent){const e={order_id:this.order.order_id,card_id:this.bankCard.card_id};try{await v().post(`${this.$heap.state.hostname}CardAcquirer/paymentDo`,e)}catch(o){return this.$flash("Оплата привязанной картой не удалась"),!1}}try{const e={order_id:this.order.order_id,new_stage:"customer_start"};await v().post(`${this.$heap.state.hostname}Shipment/itemStageCreate`,e),this.$router.replace("/order/shipment-"+this.order.order_id)}catch(o){var a,i;const e=null===o||void 0===o||null===(a=o.responseJSON)||void 0===a||null===(i=a.messages)||void 0===i?void 0:i.error;switch(e){case"address_not_set":this.$flash("Необходимо добавить адрес доставки"),this.$topic.publish("dismissModal"),this.$go("/modal/user-addresses");break}return!1}}else this.paymentFormOpen({order_id:`${this.order_id}-s`,order_sum_total:this.tariffRule.deliverySum,user_id:this.order.owner_id})},async paymentFormOpen(e){const t=await y.Fy.create({component:$.Z,componentProps:{order_data:e},initialBreakpoint:.85,breakpoints:[0,.85,.95]});this.$topic.on("dismissModal",(()=>{t.dismiss()})),t.present(),await t.onDidDismiss(),this.paymentStatusCheck()},async paymentStatusCheck(){const e={order_id:`${this.order.order_id}-s`};try{const t=await v().post(this.$heap.state.hostname+"CardAcquirer/statusGet",e);"OK"==t&&this.$router.replace("/order/shipment-"+this.order.order_id)}catch(a){var t,r;const e=null===(t=a.responseJSON)||void 0===t||null===(r=t.messages)||void 0===r?void 0:r.error;"wrong_status"==e&&(this.$flash("Данный заказ не может быть оплачен"),this.$router.replace("/order/shipment-"+this.order.order_id)),"not_authorized"==e&&(this.$flash("Оплата не удалась, возможно не достаточно средств"),this.$router.replace("/order/shipment-"+this.order.order_id)),"waiting"==e&&(this.$flash("Ваш платеж на ожидании"),this.$router.replace("/order/shipment-"+this.order.order_id))}}},mounted(){this.itemLoad()},ionViewDidEnter(){this.itemLoad()}};const R=(0,W.Z)(D,[["render",p],["__scopeId","data-v-7b8d7de8"]]);var I=R}}]);
//# sourceMappingURL=1721-legacy.22805356.js.map