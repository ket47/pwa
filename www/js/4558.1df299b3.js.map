{"version":3,"file":"js/4558.1df299b3.js","mappings":"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","sources":["webpack://Tezkel/./src/components/StatisticsSellerReport.vue","webpack://Tezkel/./src/components/StatisticsSellerReport.vue?af4a","webpack://Tezkel/./src/views/user/SupplierStatistics.vue","webpack://Tezkel/./src/views/user/SupplierStatistics.vue?fbf6"],"sourcesContent":["<style scoped>\r\n.table_head{\r\n    display:grid;\r\n    grid-template-columns:repeat(2,auto);\r\n    font-size:.8em;\r\n    background-color: #fff;\r\n    border-radius: 2px;\r\n    margin: 5px;\r\n    width:250px;\r\n}\r\n.table_head>div{\r\n    padding: 5px;\r\n}\r\n.table_head>div:nth-child(even){\r\n    text-align: right;\r\n}\r\n.table{\r\n    display:grid;\r\n    grid-template-columns:repeat(11,auto);\r\n    font-size:.8em;\r\n}\r\n.table_h{\r\n    display:contents;\r\n    font-weight:bold;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n}\r\n.table_r{\r\n    display:contents;\r\n}\r\n.table_r:nth-child(odd)>div{\r\n    background-color: #f5f5f5;\r\n}\r\n.table_h>div{\r\n    background-color: #def;\r\n    padding: 5px;\r\n}\r\n.table_r>div{\r\n    padding: 5px;\r\n}\r\n</style>\r\n<template>\r\n<div>\r\n  <ion-accordion-group>\r\n    <ion-accordion value=\"period\">\r\n      <ion-item slot=\"header\">\r\n        <ion-icon :icon=\"calendarOutline\" slot=\"start\"/>\r\n        <ion-text>Период <small>{{start_at}} до {{finish_at}}</small></ion-text>\r\n      </ion-item>\r\n      <ion-list slot=\"content\">\r\n        <ion-item>\r\n          <ion-text>Начальная дата</ion-text>\r\n          <div slot=\"end\" style=\"display:grid;grid-template-columns:120px;\">\r\n            <ion-input type=\"date\" v-model=\"start_at\"  @ionInput=\"reportGet()\"/>\r\n          </div>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-text>Конечная дата</ion-text>\r\n          <div slot=\"end\" style=\"display:grid;grid-template-columns:120px;\">\r\n            <ion-input type=\"date\" v-model=\"finish_at\"  @ionInput=\"reportGet()\" />\r\n          </div>\r\n        </ion-item>\r\n      </ion-list>\r\n    </ion-accordion>\r\n  </ion-accordion-group>\r\n\r\n  <div class=\"horizontalScroller\">\r\n      <ion-chip @click=\"reportExport()\" color=\"medium\"><ion-icon :src=\"downloadOutline\"/><ion-label>Скачать</ion-label></ion-chip>\r\n      <ion-chip @click=\"reportPrint()\" color=\"medium\"><ion-icon :src=\"printOutline\"/><ion-label>Напечатать</ion-label></ion-chip>\r\n      <ion-chip @click=\"reportGet()\" color=\"medium\"><ion-icon :src=\"reloadOutline\"/><ion-label>Обновить</ion-label></ion-chip>\r\n  </div>\r\n\r\n  <ion-searchbar v-model=\"searchQuery\" placeholder=\"Поиск по товару\" @ionInput=\"reportGet()\" debounce=\"500\" />\r\n  <ion-list v-if=\"report==null\">\r\n    <ion-item v-for=\"i in [1,2,3]\" :key=\"i\">\r\n        <ion-text slot=\"start\"><ion-skeleton-text animated style=\"width:50px\" /></ion-text>\r\n        <ion-label><ion-skeleton-text animated style=\"width:100%\" /></ion-label>\r\n        <ion-label slot=\"end\" color=\"success\"><ion-skeleton-text animated style=\"width:50px\" /></ion-label>\r\n    </ion-item>\r\n  </ion-list>\r\n  <div v-else-if=\"report.body.length>0\" style=\"overflow-x:scroll\" class=\"printDiv\">\r\n    <div class=\"table_head\">\r\n        <div>Количество</div><div>{{report.head.total_quantity}}</div>\r\n        <div>Скидка</div><div>{{report.head.total_discount}}</div>\r\n        <div>Сумма</div><div>{{report.head.total_sum}}</div>\r\n        <div>Вознаграждение</div><div>{{report.head.total_commission}}</div>\r\n        <div>К выплате</div><div>{{report.head.total_topay}}</div>\r\n    </div>\r\n    <div class=\"table\">\r\n        <div class=\"table_h\">\r\n            <div>Время</div>\r\n            <div>Заказ №</div>\r\n            <div>Товар</div>\r\n            <div>Цена</div>\r\n            <div>Количество</div>\r\n            <div>Скидка</div>\r\n            <div>Сумма</div>\r\n            <div>Вознаграждение %</div>\r\n            <div>Доставка</div>\r\n            <div>Оплата</div>\r\n            <div>Чек</div>\r\n        </div>\r\n        <div v-for=\"(row,i) in report.body\" :key=\"i\" class=\"table_r\">\r\n            <div>{{row.created_at}}</div>\r\n            <div>{{row.order_id}}</div>\r\n            <div>{{row.entry_text}}</div>\r\n            <div>{{row.entry_price}}</div>\r\n            <div>{{row.entry_quantity}}</div>\r\n            <div>{{row.entry_discount}}</div>\r\n            <div>{{row.entry_sum}}</div>\r\n            <div>{{row.fee}}</div>\r\n            <div>{{row.delivery}}</div>\r\n            <div>{{row.payment_type}}</div>\r\n            <div><a v-if=\"row.invoice_link\" :href=\"row.invoice_link\" target=\"_new\">онлайн чек</a></div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <ion-list v-else>\r\n    <ion-item>\r\n        Нет заказов в данном периоде\r\n    </ion-item>\r\n  </ion-list>\r\n</div>\r\n</template>\r\n<script>\r\nimport {\r\n  IonIcon,\r\n  IonLabel,\r\n  IonItem,\r\n  IonInput,\r\n  IonList,\r\n  IonAccordion,\r\n  IonAccordionGroup,\r\n  IonText,\r\n  IonSkeletonText,\r\n  IonSearchbar,\r\n  IonChip,\r\n}                             from \"@ionic/vue\";\r\nimport { \r\n  calendarOutline,\r\n  addOutline,\r\n  closeCircle,\r\n  pricetagOutline,\r\n  downloadOutline,\r\n  reloadOutline,\r\n  printOutline,\r\n}                             from \"ionicons/icons\";\r\nimport jquery                 from \"jquery\";\r\n\r\nexport default { \r\n  components: {\r\n    IonIcon,\r\n    IonLabel,\r\n    IonItem,\r\n    IonInput,\r\n    IonList,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonText,\r\n    IonSkeletonText,\r\n    IonSearchbar,\r\n    IonChip,\r\n  },\r\n  props:['store'],\r\n  setup(){\r\n    return {\r\n      calendarOutline,\r\n      addOutline,\r\n      closeCircle,\r\n      pricetagOutline,\r\n      downloadOutline,\r\n      reloadOutline,\r\n      printOutline,\r\n    }\r\n  },\r\n  data() {\r\n    console.log(this.query)\r\n    const today = new Date();\r\n    const firstDay = new Date(Date.parse(`${today.getFullYear()}-${today.getMonth()+1}-01Z`));\r\n    return {\r\n      start_at: firstDay.toISOString().slice(0, 10),\r\n      finish_at: today.toISOString().slice(0, 10),\r\n      searchQuery:'',\r\n\r\n      report:null,\r\n      today:today,\r\n    };\r\n  },\r\n  watch:{\r\n    store:function(){\r\n        this.reportGet()\r\n    }\r\n  },\r\n  methods: {\r\n    async reportGet() {\r\n        if(!this.store?.store_id){\r\n            this.report=null\r\n            this.head=null\r\n            return\r\n        }\r\n        try {\r\n            const request={\r\n                store_id:this.store?.store_id,\r\n                start_at:this.start_at,\r\n                finish_at:this.finish_at,\r\n                searchQuery:this.searchQuery\r\n            }\r\n            const response= await jquery.post(`${this.$heap.state.hostname}Statistics/sellReportProductGet`,request)\r\n            this.report=response\r\n        } catch (err) {\r\n            const exception_code = err?.responseJSON?.messages?.error;\r\n            switch (exception_code) {\r\n                case \"large_interval\":\r\n                this.$flash(\"Период должен быть не больше 3 месяцев\")\r\n                break;\r\n                default:\r\n                this.$flash(\"Ошибка получения выписки\")\r\n                break;\r\n            }\r\n            this.ledger=[]\r\n            this.balance=0\r\n            return false;\r\n        }\r\n    },\r\n    reportPrint(){\r\n        window.print()\r\n    },\r\n    async reportExport(){\r\n        if(!this.store?.store_id){\r\n            this.report=null\r\n            this.head=null\r\n            return\r\n        }\r\n        try {\r\n            const request={\r\n                store_id:this.store?.store_id,\r\n                start_at:this.start_at,\r\n                finish_at:this.finish_at,\r\n                searchQuery:this.searchQuery,\r\n                output:'xlsx'\r\n            }\r\n            const response= await jquery.post(`${this.$heap.state.hostname}Statistics/sellReportProductGet`,request)\r\n            const storeNameCleared=this.store.store_name.replace(/[^\\wа-яА-Я]/gi,'')\r\n            const reportUrl=`${this.$heap.state.hostname}Statistics/download/${response}/sellReport_${storeNameCleared}_${this.start_at}.xlsx`;\r\n            const anchor = document.createElement('a')\r\n            anchor.href =reportUrl\r\n            anchor.click()\r\n        } catch (err) {\r\n            const exception_code = err?.responseJSON?.messages?.error;\r\n            switch (exception_code) {\r\n                case \"large_interval\":\r\n                    this.$flash(\"Период должен быть не больше 3 месяцев\")\r\n                    break;\r\n                default:\r\n                    this.$flash(\"Ошибка получения выписки\")\r\n                    console.log(err)\r\n                    break;\r\n            }\r\n            this.ledger=[]\r\n            this.balance=0\r\n            return false;\r\n        }\r\n\r\n    },\r\n    toLocDate( iso ){\r\n        const event = new Date(Date.parse(iso));\r\n        const options = { month: 'short', day: 'numeric' };\r\n\r\n        return event.toLocaleDateString(undefined, options);\r\n    },\r\n\r\n  },\r\n  mounted() {\r\n    this.reportGet()\r\n  },\r\n};\r\n</script>","import { render } from \"./StatisticsSellerReport.vue?vue&type=template&id=a33a6d3c&scoped=true\"\nimport script from \"./StatisticsSellerReport.vue?vue&type=script&lang=js\"\nexport * from \"./StatisticsSellerReport.vue?vue&type=script&lang=js\"\n\nimport \"./StatisticsSellerReport.vue?vue&type=style&index=0&id=a33a6d3c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a33a6d3c\"]])\n\nexport default __exports__","<template>\n    <base-layout pageTitle=\"Статистика продавца\" pageDefaultBackLink=\"/user\">\n        <ion-segment swipe-gesture=\"true\" v-model=\"activeTab\" @ionChange=\"activeTabChanged($event)\">\n            <ion-segment-button value=\"sellerReport\" >\n                Отчет\n            </ion-segment-button>\n            <ion-segment-button value=\"ledger\" >\n                Баланс\n            </ion-segment-button>\n        </ion-segment>\n        <ledger-comp v-if=\"activeTab=='ledger'\" permanentTag=\"acc::supplier\"/>\n        <statistics-seller-report v-if=\"activeTab=='sellerReport'\" :store=\"store\"/>\n    </base-layout>\n</template>\n\n<script>\nimport {\n    IonSegment,\n    IonSegmentButton,\n}                   from '@ionic/vue';\n\nimport {\n      receiptOutline\n}                   from \"ionicons/icons\";\nimport \n    ledgerComp \n                    from \"@/components/LedgerComp.vue\";\nimport \n    StatisticsSellerReport \n                    from \"@/components/StatisticsSellerReport.vue\";\n\nimport jQuery       from \"jquery\";\n\nexport default {\n    components:{\n        IonSegment,\n        IonSegmentButton,\n        ledgerComp,\n        StatisticsSellerReport\n    },\n    setup(){\n        return {\n            receiptOutline,\n        }\n    },\n    data(){\n        return {\n            activeTab:'sellerReport',\n            storeId:this.$route.params.id,\n            store:null,\n        }\n    },\n    mounted(){\n        this.storeGet(this.storeId)\n    },\n    methods:{\n        async storeGet( store_id ){\n            const request={\n                store_id\n            }\n            this.store=await jQuery.post(`${this.$heap.state.hostname}Store/itemGet`,request)\n        },\n    },\n}\n</script>","import { render } from \"./SupplierStatistics.vue?vue&type=template&id=ceb2b4ca\"\nimport script from \"./SupplierStatistics.vue?vue&type=script&lang=js\"\nexport * from \"./SupplierStatistics.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["slot","style","class","_createElementVNode","_createElementBlock","_createVNode","_component_ion_accordion_group","_component_ion_accordion","value","_component_ion_item","_component_ion_icon","icon","$setup","calendarOutline","_component_ion_text","_toDisplayString","$data","start_at","finish_at","_component_ion_list","_hoisted_1","_component_ion_input","type","$event","onIonInput","_cache","$options","reportGet","_hoisted_2","_hoisted_3","_component_ion_chip","onClick","reportExport","color","src","downloadOutline","_component_ion_label","reportPrint","printOutline","reloadOutline","_component_ion_searchbar","searchQuery","placeholder","debounce","report","_createBlock","key","_Fragment","_renderList","i","_component_ion_skeleton_text","animated","body","length","_hoisted_4","_hoisted_5","_hoisted_6","head","total_quantity","_hoisted_7","total_discount","_hoisted_8","total_sum","_hoisted_9","total_commission","_hoisted_10","total_topay","_hoisted_11","_hoisted_12","row","created_at","order_id","entry_text","entry_price","entry_quantity","entry_discount","entry_sum","fee","delivery","payment_type","invoice_link","href","target","_hoisted_13","components","IonIcon","IonLabel","IonItem","IonInput","IonList","IonAccordion","IonAccordionGroup","IonText","IonSkeletonText","IonSearchbar","IonChip","props","setup","addOutline","closeCircle","pricetagOutline","data","console","log","this","query","today","Date","firstDay","parse","getFullYear","getMonth","toISOString","slice","watch","store","methods","_this$store","store_id","_this$store2","request","response","jquery","$heap","state","hostname","err","_err$responseJSON","_err$responseJSON$mes","exception_code","responseJSON","messages","error","$flash","ledger","balance","window","print","_this$store3","_this$store4","output","storeNameCleared","store_name","replace","reportUrl","anchor","document","createElement","click","_err$responseJSON2","_err$responseJSON2$me","toLocDate","iso","event","options","month","day","toLocaleDateString","undefined","mounted","__exports__","render","_component_base_layout","pageTitle","pageDefaultBackLink","_component_ion_segment","activeTab","onIonChange","_ctx","activeTabChanged","_component_ion_segment_button","_component_ledger_comp","permanentTag","_component_statistics_seller_report","IonSegment","IonSegmentButton","ledgerComp","StatisticsSellerReport","receiptOutline","storeId","$route","params","id","storeGet","jQuery"],"sourceRoot":""}