{"version":3,"file":"js/547.3f728458.js","mappings":"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","sources":["webpack://Tezkel/./src/views/UserDashboard.vue","webpack://Tezkel/./src/views/UserDashboard.vue?a637"],"sourcesContent":["<style scoped>\r\nion-icon{\r\n  font-size:24px;\r\n}\r\n</style>\r\n<template>\r\n  <base-layout\r\n    page-title=\"Личный кабинет\"\r\n    page-default-back-link=\"/home\"\r\n  >\r\n    <div v-if=\"isSignedIn\" class=\"user-dashboard-header\">\r\n      <ion-list>\r\n        <ion-item lines=\"full\" class=\"avatar-row\">\r\n          <ion-avatar slot=\"start\">\r\n            <ion-img v-if=\"user.user_avatar_name\" :src=\"$heap.state.hostname +'img/avatar/' +user.user_avatar_name +'.png'\"/>\r\n          </ion-avatar>\r\n          <ion-label>{{ user.user_name }}</ion-label>\r\n          <ion-label slot=\"end\">\r\n            <router-link class=\"section-button\" to=\"/user-edit\" slot=\"end\">\r\n              <ion-icon :icon=\"settingsOutline\"></ion-icon>\r\n            </router-link>\r\n          </ion-label>\r\n        </ion-item>\r\n        <ion-item v-if=\"user.user_phone\" lines=\"full\">\r\n          <ion-icon slot=\"start\" :icon=\"callOutline\" color=\"primary\" />\r\n          <ion-label>{{ user.user_phone }}</ion-label>\r\n        </ion-item>\r\n        <ion-item v-if=\"user.user_emailOutline && user.user_emailOutline !== ''\">\r\n          <ion-thumbnail>\r\n            <ion-icon :icon=\"mailOutline\"></ion-icon>\r\n          </ion-thumbnail>\r\n          <ion-label>{{ user.user_emailOutline }}</ion-label>\r\n        </ion-item>\r\n      </ion-list>\r\n    </div>\r\n\r\n    <ion-list>\r\n      <ion-item-group>\r\n        <ion-item-divider>\r\n          <ion-label>Пользователь</ion-label>\r\n        </ion-item-divider>\r\n        <ion-item v-if=\"!isSignedIn\" lines=\"full\" button detail @click=\"$router.push('sign-in')\">\r\n            <ion-icon :icon=\"logInOutline\" slot=\"start\" color=\"primary\"></ion-icon>\r\n            <ion-label>Войти</ion-label>\r\n        </ion-item>\r\n        <ion-item v-if=\"!isSignedIn\" lines=\"full\" button detail @click=\"$router.push('sign-up')\">\r\n            <ion-icon :icon=\"personCircleOutline\" slot=\"start\" color=\"primary\"></ion-icon>\r\n            <ion-label>Зарегистрироваться</ion-label>\r\n        </ion-item>\r\n        <div v-if=\"isSignedIn\">\r\n          <ion-item @click=\"signOut\" lines=\"full\" button detail>\r\n              <ion-icon :icon=\"exitOutline\" slot=\"start\" color=\"primary\"></ion-icon>\r\n              <ion-label>Выйти</ion-label>\r\n          </ion-item>\r\n          <ion-item lines=\"full\" button detail @click=\"$router.push('user-addresses')\">\r\n              <ion-icon :icon=\"locationOutline\" slot=\"start\" color=\"primary\"></ion-icon>\r\n              <ion-label>Мои адреса</ion-label>\r\n          </ion-item>\r\n          <ion-item lines=\"full\" button detail @click=\"$router.push('order-list')\">\r\n              <ion-icon :icon=\"cartOutline\" slot=\"start\" color=\"primary\"></ion-icon>\r\n              <ion-label>Мои заказы</ion-label>\r\n          </ion-item>\r\n        </div>\r\n\r\n        <ion-item-group v-if=\"isAdmin\">\r\n          <ion-item-divider>\r\n            <ion-label>Администратор</ion-label>\r\n          </ion-item-divider>\r\n          <ion-item @click=\"$router.push('text-list')\" lines=\"full\" button detail>\r\n              <ion-icon :icon=\"documentTextOutline\" slot=\"start\" color=\"primary\"></ion-icon>\r\n              <ion-label>Редактирование страниц</ion-label>\r\n          </ion-item>\r\n        </ion-item-group>\r\n        <!--\r\n        <ion-item lines=\"full\" button detail>\r\n          <router-link class=\"section-button\" to=\"/user-favourites\">\r\n            <ion-icon :icon=\"heartOutline\"></ion-icon>\r\n            <ion-label>Избранные товары</ion-label>\r\n          </router-link>\r\n        </ion-item>\r\n        <ion-item lines=\"full\" button detail>\r\n          <router-link class=\"section-button\" to=\"/user-payment-methods\">\r\n            <ion-icon :icon=\"cardOutline\"></ion-icon>\r\n            <ion-label>Методы оплаты</ion-label>\r\n          </router-link>\r\n        </ion-item>\r\n        <ion-item lines=\"full\" button detail>\r\n          <router-link class=\"section-button\" to=\"/user-notifications\">\r\n            <ion-icon :icon=\"notifications\"></ion-icon>\r\n            <ion-label>Настройка уведомлений</ion-label>\r\n          </router-link>\r\n        </ion-item>\r\n        <ion-item lines=\"full\" button detail>\r\n          <router-link class=\"section-button\" to=\"/help\">\r\n            <ion-icon :icon=\"helpCircle\"></ion-icon>\r\n            <ion-label>Помощь</ion-label>\r\n          </router-link>\r\n        </ion-item>\r\n        -->\r\n      </ion-item-group>\r\n\r\n      <ion-item-group v-if=\"isSignedIn\">\r\n        <ion-item-divider>\r\n          <ion-label>Курьер</ion-label>\r\n\r\n        </ion-item-divider>\r\n\r\n        <div v-if=\"courierStatus=='ready'\">\r\n          <ion-item style=\"--background:var(--ion-color-success-tint)\" lines=\"none\">\r\n            <ion-text>\r\n              <ion-label>Смена активна</ion-label>\r\n              <ion-note>Вы можете брать задания на доставку</ion-note>\r\n            </ion-text>\r\n          </ion-item>\r\n          <ion-item style=\"--background:var(--ion-color-success-tint)\" button lines=\"full\" @click=\"courierStatusSet('idle')\">\r\n            <ion-icon src=\"./assets/icon/delivery-man.svg\" slot=\"start\"></ion-icon>\r\n            <ion-button slot=\"end\">Завершить смену</ion-button>\r\n          </ion-item>\r\n        </div>\r\n\r\n        <div v-else-if=\"courierStatus=='idle'\">\r\n          <ion-item style=\"--background:var(--ion-color-warning-tint)\" lines=\"none\">\r\n            <ion-text>\r\n              <ion-label>Смена закрыта</ion-label>\r\n              <ion-note>Начните смену для начала работы</ion-note>\r\n            </ion-text>\r\n          </ion-item>\r\n          <ion-item style=\"--background:var(--ion-color-warning-tint)\" button lines=\"full\" @click=\"courierStatusSet('ready')\">\r\n            <ion-icon src=\"./assets/icon/delivery-man.svg\" slot=\"start\"></ion-icon>\r\n            <ion-button slot=\"end\">Начать смену</ion-button>\r\n          </ion-item>\r\n        </div>\r\n\r\n        <div v-else-if=\"courierStatus=='busy'\">\r\n          <ion-item style=\"--background:var(--ion-color-warning-tint)\" lines=\"none\">\r\n            <ion-text>\r\n              <ion-label>Выполняется задание</ion-label>\r\n              <ion-note>В процессе доставки заказа</ion-note>\r\n            </ion-text>\r\n          </ion-item>\r\n          <ion-item style=\"--background:var(--ion-color-warning-tint)\" button lines=\"full\">\r\n            <ion-icon src=\"./assets/icon/delivery-man.svg\" slot=\"start\"></ion-icon>\r\n          </ion-item>\r\n        </div>\r\n\r\n        <div v-if=\"courierStatus=='notcourier'\">\r\n          <ion-item lines=\"none\">\r\n            <ion-text>\r\n              <ion-label>Пока вы не курьер</ion-label>\r\n              <ion-note>Подайте заявку, чтобы стать курьером</ion-note>\r\n            </ion-text>\r\n          </ion-item>\r\n          <ion-item button lines=\"full\" @click=\"$router.push('courier-dashboard')\">\r\n            <ion-icon src=\"./assets/icon/delivery-man.svg\" slot=\"start\"></ion-icon>\r\n            <ion-button slot=\"end\" color=\"light\">Заполнить анкету</ion-button>\r\n          </ion-item>\r\n        </div>\r\n        <ion-item v-else lines=\"full\" button detail @click=\"$router.push('courier-dashboard')\">\r\n            <ion-icon :icon=\"documentTextOutline\" slot=\"start\" color=\"primary\"></ion-icon>\r\n            <ion-label>Анкета курьера</ion-label>\r\n        </ion-item>\r\n\r\n      </ion-item-group>\r\n\r\n      <ion-item-group v-if=\"isSignedIn\">\r\n        <ion-item-divider>\r\n          <ion-label>Поставщик</ion-label>\r\n        </ion-item-divider>\r\n\r\n        <ion-item v-for=\"store in storeList\" :key=\"store.store_id\" detail button @click=\"$router.push(`store-edit-${store.store_id}`)\">\r\n          <ion-icon :icon=\"storefrontOutline\" slot=\"start\"></ion-icon>\r\n          {{store.store_name}}\r\n        </ion-item>\r\n        <div v-if=\"!storeList\">\r\n          <ion-item lines=\"none\">\r\n            <ion-text>\r\n              <ion-label>Пока вы не поставщик</ion-label>\r\n              <ion-note>Зарегистрируйте свой магазин или ресторан</ion-note>\r\n            </ion-text>\r\n          </ion-item>\r\n          <ion-item @click=\"storeItemCreate()\" lines=\"full\">\r\n            <ion-icon :icon=\"storefrontOutline\" slot=\"start\"></ion-icon>\r\n            <ion-button slot=\"end\" color=\"light\">Стать поставщиком</ion-button>\r\n          </ion-item>\r\n        </div>\r\n      </ion-item-group>\r\n\r\n      <ion-item-group>\r\n        <ion-item-divider>\r\n          <ion-label>Информация</ion-label>\r\n        </ion-item-divider>\r\n        <ion-item lines=\"full\" button detail @click=\"$router.push('page-about')\">\r\n            <ion-icon :icon=\"informationCircleOutline\" slot=\"start\" color=\"primary\"></ion-icon>\r\n            <ion-label>О нас</ion-label>\r\n        </ion-item>\r\n        <ion-item lines=\"full\" button detail @click=\"$router.push('page-rules')\">\r\n            <ion-icon :icon=\"informationCircleOutline\" slot=\"start\" color=\"primary\"></ion-icon>\r\n            <ion-label>Правила пользования</ion-label>\r\n        </ion-item>\r\n        <ion-item lines=\"full\" button detail @click=\"$router.push('page-privacy_policy')\">\r\n            <ion-icon :icon=\"informationCircleOutline\" slot=\"start\" color=\"primary\"></ion-icon>\r\n            <ion-label>Политика конфиденциальности</ion-label>\r\n        </ion-item>\r\n      </ion-item-group>\r\n\r\n    </ion-list>\r\n  </base-layout>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { \r\n  IonIcon,\r\n  IonAvatar,\r\n  IonImg,\r\n  IonLabel,\r\n  IonItem,\r\n  IonThumbnail,\r\n  IonList,\r\n  IonItemDivider,\r\n  IonItemGroup,\r\n  IonNote,\r\n  IonText,\r\n  IonButton,\r\n} from \"@ionic/vue\";\r\nimport {\r\n  settingsOutline,\r\n  logInOutline,\r\n  personCircleOutline,\r\n  exitOutline,\r\n\r\n  locationOutline,\r\n  heartOutline,\r\n  helpCircle,\r\n  callOutline,\r\n  mailOutline,\r\n  \r\n  cardOutline,\r\n  cartOutline,\r\n  notifications,\r\n  chevronForwardOutline,\r\n  documentTextOutline,\r\n  informationCircleOutline,\r\n  storefrontOutline\r\n} from \"ionicons/icons\";\r\n\r\nimport User     from \"@/scripts/User.js\";\r\nimport Topic    from '@/scripts/Topic.js';\r\nimport heap     from \"@/heap\";\r\n\r\nexport default {\r\n  components: {\r\n  IonIcon,\r\n  IonAvatar,\r\n  IonImg,\r\n  IonLabel,\r\n  IonItem,\r\n  IonThumbnail,\r\n  IonList,\r\n  IonItemDivider,\r\n  IonItemGroup,\r\n  IonNote,\r\n  IonText,\r\n  IonButton,\r\n  },\r\n  setup() {\r\n    return {\r\n      settingsOutline,\r\n      logInOutline,\r\n      personCircleOutline,\r\n      exitOutline,\r\n      locationOutline,\r\n      heartOutline,\r\n      helpCircle,\r\n      callOutline,\r\n      mailOutline,\r\n      cardOutline,\r\n      cartOutline,\r\n      notifications,\r\n      chevronForwardOutline,\r\n      documentTextOutline,\r\n      informationCircleOutline,\r\n      storefrontOutline\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      user: heap.state.user,\r\n      courierStatus:User.courier.status,\r\n      storeList:null\r\n    };\r\n  },\r\n  created(){\r\n    const self=this;\r\n    Topic.on('courierStatusChange',(status)=>{\r\n      self.courierStatus=status;\r\n    });\r\n    this.storeOwnedListGet();\r\n  },\r\n  computed: {\r\n    isSignedIn() {\r\n      return heap.state?.user?.user_id > -1;\r\n    },\r\n    isAdmin(){\r\n      return User.isAdmin();\r\n    }\r\n  },\r\n  methods: {\r\n    async signOut() {\r\n      await User.signOut();\r\n      this.user=await User.get();\r\n    },\r\n    async courierStatusSet( new_status ){\r\n      try{\r\n        await User.courier.updateStatus(new_status);\r\n      }catch(err){\r\n        if( err.status==409 ){\r\n          this.$flash(\"Анкета удалена или не активна\")\r\n        }\r\n      }\r\n    },\r\n    async storeOwnedListGet(){\r\n      if( !this.isSignedIn ){\r\n        return\r\n      }\r\n      this.storeList=await User.supplier.storeListGet()\r\n    },\r\n    async storeItemCreate(){\r\n      try{\r\n        const name=prompt(\"Название магазина или ресторана\")\r\n        if(!name){\r\n          return\r\n        }\r\n        const store_id=await User.supplier.storeItemCreate(name)\r\n        if(!store_id){\r\n          this.$flash(\"Не удалось создать магазин или ресторан\")\r\n          return\r\n        }\r\n        this.$router.push(`store-edit-${store_id}`)\r\n      }catch(err){\r\n        const message=err.responseJSON?.messages?.error;\r\n        if( message=='limit_exeeded' ){\r\n          this.$flash(\"У вас зарегистрировано максимальное количество магазинов\")\r\n        }\r\n        this.$flash(\"Не удалось создать магазин или ресторан\")\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      if (to.path != from.path) {\r\n        this.user = heap.state.user;\r\n      }\r\n    },\r\n    courierStatus(new_status){\r\n      if(new_status=='ready' || new_status=='busy'){\r\n        User.geo.trackingStart();\r\n      } else {\r\n        User.geo.trackingStop();\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>","import { render } from \"./UserDashboard.vue?vue&type=template&id=6dd1d5b4&scoped=true\"\nimport script from \"./UserDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./UserDashboard.vue?vue&type=script&lang=js\"\n\nimport \"./UserDashboard.vue?vue&type=style&index=0&id=6dd1d5b4&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6dd1d5b4\"]])\n\nexport default __exports__"],"names":["class","isSignedIn","lines","slot","user","user_avatar_name","src","$heap","state","hostname","user_name","to","icon","settingsOutline","user_phone","callOutline","color","user_emailOutline","mailOutline","button","detail","$router","push","logInOutline","personCircleOutline","signOut","exitOutline","locationOutline","cartOutline","isAdmin","documentTextOutline","courierStatus","style","courierStatusSet","storeList","store","key","store_id","storefrontOutline","store_name","storeItemCreate","informationCircleOutline","components","IonIcon","IonAvatar","IonImg","IonLabel","IonItem","IonThumbnail","IonList","IonItemDivider","IonItemGroup","IonNote","IonText","IonButton","setup","heartOutline","helpCircle","cardOutline","notifications","chevronForwardOutline","data","heap","User","created","self","this","Topic","status","storeOwnedListGet","computed","methods","async","new_status","err","$flash","name","prompt","message","responseJSON","messages","error","watch","$route","from","path","__exports__","render"],"sourceRoot":""}