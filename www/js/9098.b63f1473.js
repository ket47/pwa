"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[9098],{9098:function(e,t,a){a.r(t),a.d(t,{default:function(){return R}});var r=a(6252),i=a(3577);const l=e=>((0,r.dD)("data-v-3ffa2eca"),e=e(),(0,r.Cn)(),e),n=l((()=>(0,r._)("p",null,"Доставка сегодня попадает за пределы рабочего времени.",-1))),o=l((()=>(0,r._)("p",null,"Высокая загруженность курьеров.",-1))),d=l((()=>(0,r._)("span",null,"как можно скорее",-1))),u=l((()=>(0,r._)("b",null,"Запланировать",-1))),s={key:0},c={key:1},m={style:{"font-size":"0.7em",color:"var(--ion-color-medium)"}},p={key:2};function h(e,t,a,l,h,y){const f=(0,r.up)("ion-item-divider"),v=(0,r.up)("ion-item"),_=(0,r.up)("ion-card-title"),w=(0,r.up)("ion-card-header"),k=(0,r.up)("ion-card-content"),g=(0,r.up)("ion-card"),C=(0,r.up)("ion-label"),S=(0,r.up)("ion-segment-button"),W=(0,r.up)("ion-segment"),b=(0,r.up)("ion-icon"),D=(0,r.up)("ion-radio"),I=(0,r.up)("ion-img"),U=(0,r.up)("ion-radio-group"),R=(0,r.up)("ion-text"),T=(0,r.up)("ion-list"),$=(0,r.up)("ion-accordion"),O=(0,r.up)("ion-accordion-group"),A=(0,r.up)("router-link"),z=(0,r.up)("ion-checkbox"),B=(0,r.up)("ion-button"),j=(0,r.up)("base-layout");return(0,r.wg)(),(0,r.j4)(j,{pageTitle:"Оформление вызова курьера",pageDefaultBackLink:"/order/order-list",ref:"page"},{default:(0,r.w5)((()=>[(0,r.Wm)(T,{lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{style:{"margin-top":"0px","box-shadow":"none"}},{default:(0,r.w5)((()=>[(0,r.Uk)("Детали перевозки")])),_:1}),(0,r.Wm)(v,null,{default:(0,r.w5)((()=>[(0,r.Uk)(" Курьер отвезет вашу посылку ")])),_:1}),(0,r.Wm)(v,null,{default:(0,r.w5)((()=>{var e;return[(0,r.Uk)((0,i.zw)(null===(e=h.order)||void 0===e?void 0:e.order_description),1)]})),_:1}),y.deliveryScheduleDowntime?((0,r.wg)(),(0,r.j4)(g,{key:0,color:"light"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Uk)(" Запланировать заказ ")])),_:1})])),_:1}),(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[n])),_:1})])),_:1})):y.deliveryScheduleHeavyload?((0,r.wg)(),(0,r.j4)(g,{key:1,color:"light"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Uk)(" Запланировать заказ ")])),_:1})])),_:1}),(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[o])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(v,null,{default:(0,r.w5)((()=>[(0,r.Wm)(W,{mode:"ios",value:h.deliveryArrivalDatetime?"schedule":"atonce"},{default:(0,r.w5)((()=>[(0,r.Wm)(S,{value:"atonce",disabled:!y.deliveryScheduleReady},{default:(0,r.w5)((()=>[(0,r.Wm)(C,null,{default:(0,r.w5)((()=>[(0,r.Uk)("Отвезти сразу")])),_:1}),d])),_:1},8,["disabled"]),(0,r.Wm)(S,{value:"schedule",onClick:t[0]||(t[0]=e=>y.datetimePick())},{default:(0,r.w5)((()=>[(0,r.Wm)(C,null,{default:(0,r.w5)((()=>[u])),_:1}),y.deliveryArrivalDatetimeLoc?((0,r.wg)(),(0,r.iD)("span",s,(0,i.zw)(y.deliveryArrivalDatetimeLoc),1)):((0,r.wg)(),(0,r.iD)("span",c,"выберите день и время"))])),_:1})])),_:1},8,["value"])])),_:1}),(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[(0,r.Uk)("Способы оплаты")])),_:1}),(0,r.Wm)(U,{modelValue:h.paymentType,"onUpdate:modelValue":t[6]||(t[6]=e=>h.paymentType=e)},{default:(0,r.w5)((()=>{var a;return[1==h.tariffRule.paymentByCreditStore?((0,r.wg)(),(0,r.j4)(v,{key:0,button:"",detail:"false",onClick:t[1]||(t[1]=e=>h.paymentType="use_credit_store")},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{icon:l.businessOutline,slot:"start",color:"medium"},null,8,["icon"]),(0,r.Wm)(D,{value:"use_credit_store"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Со счета предприятия "),(0,r._)("div",m,(0,i.zw)(h.tariffRule.storeCreditName)+" "+(0,i.zw)(h.tariffRule.storeCreditBalance)+(0,i.zw)(e.$heap.state.currencySign),1)])),_:1})])),_:1})):(0,r.kq)("",!0),1==h.tariffRule.paymentByCash?((0,r.wg)(),(0,r.j4)(v,{key:1,button:"",detail:"false",onClick:t[2]||(t[2]=e=>h.paymentType="use_cash")},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{icon:l.cashOutline,slot:"start",color:"medium"},null,8,["icon"]),(0,r.Wm)(D,{value:"use_cash"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Оплата наличными ")])),_:1})])),_:1})):(0,r.kq)("",!0),1==h.tariffRule.paymentByCard?((0,r.wg)(),(0,r.iD)("div",p,[(0,r.Wm)(v,{detail:"false",button:"",onClick:t[3]||(t[3]=e=>h.paymentType="use_card")},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{icon:l.cardOutline,slot:"start",color:"medium"},null,8,["icon"]),(0,r.Wm)(D,{value:"use_card"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Оплата картой ")])),_:1})])),_:1}),null!==(a=h.bankCard)&&void 0!==a&&a.card_type?((0,r.wg)(),(0,r.j4)(v,{key:0,button:"",detail:"false",onClick:t[4]||(t[4]=e=>h.paymentType="use_card_recurrent")},{default:(0,r.w5)((()=>["mir"==h.bankCard.card_type?((0,r.wg)(),(0,r.j4)(I,{key:0,class:"card_type",src:`/img/icons/card-${h.bankCard.card_type}.svg`,slot:"start"},null,8,["src"])):"visa"==h.bankCard.card_type?((0,r.wg)(),(0,r.j4)(I,{key:1,class:"card_type",src:`/img/icons/card-${h.bankCard.card_type}.svg`,slot:"start"},null,8,["src"])):"mastercard"==h.bankCard.card_type?((0,r.wg)(),(0,r.j4)(I,{key:2,class:"card_type",src:`/img/icons/card-${h.bankCard.card_type}.svg`,slot:"start"},null,8,["src"])):((0,r.wg)(),(0,r.j4)(b,{key:3,src:l.cardOutline,slot:"start",color:"medium"},null,8,["src"])),(0,r.Wm)(D,{value:"use_card_recurrent"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Оплата картой ")])),_:1})])),_:1})):(0,r.kq)("",!0),h.recurrentPaymentAllow?((0,r.wg)(),(0,r.j4)(v,{key:1,button:"",detail:"",onClick:t[5]||(t[5]=t=>e.$go("/user/user-cards"))},{default:(0,r.w5)((()=>{var e;return[null!==(e=h.bankCard)&&void 0!==e&&e.card_type?((0,r.wg)(),(0,r.j4)(C,{key:0,color:"medium"},{default:(0,r.w5)((()=>[(0,r.Uk)("Выбрать другую карту")])),_:1})):((0,r.wg)(),(0,r.j4)(C,{key:1,color:"medium"},{default:(0,r.w5)((()=>[(0,r.Uk)("Привязать карту")])),_:1}))]})),_:1})):(0,r.kq)("",!0)])):(0,r.kq)("",!0)]})),_:1},8,["modelValue"]),(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[(0,r.Uk)("Итог")])),_:1}),(0,r.Wm)(O,null,{default:(0,r.w5)((()=>[(0,r.Wm)($,null,{default:(0,r.w5)((()=>[(0,r.Wm)(v,{slot:"header"},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{icon:l.walletOutline,slot:"start",color:"medium"},null,8,["icon"]),(0,r.Wm)(R,{color:"medium"},{default:(0,r.w5)((()=>[(0,r.Uk)("Итого: ")])),_:1}),(0,r.Wm)(C,{slot:"end",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(h.tariffRule.deliverySum)+(0,i.zw)(e.$heap.state.currencySign),1)])),_:1})])),_:1}),(0,r.Wm)(T,{slot:"content"},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(R,{color:"medium"},{default:(0,r.w5)((()=>[(0,r.Uk)("Вызов курьера")])),_:1}),(0,r.Wm)(C,{slot:"end",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(h.tariffRule.deliveryCost)+(0,i.zw)(e.$heap.state.currencySign),1)])),_:1})])),_:1}),(0,r.Wm)(v,{lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(R,{color:"medium"},{default:(0,r.w5)((()=>[(0,r.Uk)("Расстояние по карте "+(0,i.zw)(h.routeStats.distance)+"км",1)])),_:1}),(0,r.Wm)(C,{slot:"end",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(y.deliveryFeeTotal)+(0,i.zw)(e.$heap.state.currencySign),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.Wm)(v,null,{default:(0,r.w5)((()=>[(0,r.Wm)(R,{style:{"font-size":"0.9em"}},{default:(0,r.w5)((()=>[(0,r.Uk)(" Я согласен(на) с "),(0,r.Wm)(A,{to:"/page/rules-customer"},{default:(0,r.w5)((()=>[(0,r.Uk)("офертой об оказании услуг доставки")])),_:1})])),_:1}),(0,r.Wm)(z,{slot:"end",modelValue:h.termsAccepted,"onUpdate:modelValue":t[7]||(t[7]=e=>h.termsAccepted=e),"aria-label":""},null,8,["modelValue"])])),_:1})])),_:1}),y.checkoutError?((0,r.wg)(),(0,r.j4)(g,{key:0,color:"warning"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(y.checkoutError),1)])),_:1})])),_:1})):(0,r.kq)("",!0),!y.isVPNon||"use_card"!=h.paymentType&&"use_card_recurrent"!=h.paymentType?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(g,{key:1,color:"light"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[(0,r.Uk)("Возможно включен VPN. Банк часто блокирует платежи через VPN.")])),_:1})])),_:1})),"use_card"==h.paymentType||"use_card_recurrent"==h.paymentType?((0,r.wg)(),(0,r.j4)(B,{key:2,expand:"block",onClick:t[8]||(t[8]=e=>y.proceed()),disabled:y.checkoutError},{default:(0,r.w5)((()=>[(0,r.Uk)("Оплатить картой")])),_:1},8,["disabled"])):((0,r.wg)(),(0,r.j4)(B,{key:3,expand:"block",onClick:t[9]||(t[9]=e=>y.proceed()),disabled:y.checkoutError},{default:(0,r.w5)((()=>[(0,r.Uk)("Вызвать курьера")])),_:1},8,["disabled"]))])),_:1},512)}a(6699),a(8862);var y=a(4929),f=a(8903),v=a(5836),_=a(4405),w=a(9755),k=a.n(w);const g={style:{height:"100%"}};function C(e,t,a,i,l,n){const o=(0,r.up)("ion-title"),d=(0,r.up)("ion-icon"),u=(0,r.up)("ion-item"),s=(0,r.up)("ion-toolbar"),c=(0,r.up)("ion-header"),m=(0,r.up)("ion-card-title"),p=(0,r.up)("ion-card-header"),h=(0,r.up)("ion-card-content"),y=(0,r.up)("ion-card"),f=(0,r.up)("ion-datetime"),v=(0,r.up)("ion-button"),_=(0,r.up)("ion-content");return(0,r.wg)(),(0,r.iD)("div",g,[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{lines:"none"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[(0,r.Uk)("Выбрать день и время")])),_:1}),(0,r.Wm)(d,{slot:"end",onClick:t[0]||(t[0]=e=>{n.cancel()}),icon:i.closeOutline,size:"large"},null,8,["icon"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(_,{class:"ion-padding"},{default:(0,r.w5)((()=>{var e,i;return[(0,r.Wm)(y,{color:"light"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(m,{style:{"font-size":"0.9em"}},{default:(0,r.w5)((()=>[(0,r.Uk)(" Время доставки может отличаться ")])),_:1})])),_:1}),(0,r.Wm)(h,{style:{"font-size":"0.7em"}},{default:(0,r.w5)((()=>[(0,r.Uk)(" Погода, время приготовления, загруженость дорог и другие факторы могут ускорить или замедлить доставку. ")])),_:1})])),_:1}),(0,r.Wm)(f,{style:{"max-width":"100%","border-radius":"10px"},presentation:"date-time",modelValue:l.datetime,"onUpdate:modelValue":t[1]||(t[1]=e=>l.datetime=e),"prefer-wheel":!0,"first-day-of-week":1,min:null===(e=a.dateRange)||void 0===e?void 0:e.dayFirst,max:null===(i=a.dateRange)||void 0===i?void 0:i.dayLast,"hour-values":n.hourValues,"minute-values":n.minuteValues},null,8,["modelValue","min","max","hour-values","minute-values"]),(0,r.Wm)(v,{color:"primary",onClick:t[2]||(t[2]=e=>n.confirm()),expand:"block"},{default:(0,r.w5)((()=>[(0,r.Uk)("Ок")])),_:1}),(0,r.Wm)(v,{color:"light",onClick:t[3]||(t[3]=e=>n.cancel()),expand:"block"},{default:(0,r.w5)((()=>[(0,r.Uk)("Закрыть")])),_:1})]})),_:1})])}a(4916),a(5306),a(3948),a(7658);var S={props:["dateRange","defaultDatetime"],components:{IonTitle:y.wd,IonDatetime:y.x4,IonToolbar:y.sr,IonContent:y.W2,IonHeader:y.Gu,IonIcon:y.gu,IonItem:y.Ie,IonButton:y.YG,IonCard:y.PM,IonCardHeader:y.Zi,IonCardTitle:y.Dq,IonCardContent:y.FN},setup(){return{closeOutline:f.fID}},data(){var e;const t=null===(e=this.defaultDatetime)||void 0===e?void 0:e.replace(" ","T");return{datetime:t}},computed:{hourValues(){if(this.dateRange&&this.dateRange.dayHours&&this.datetime){const[e]=this.datetime.split("T");let t=[];for(let a in this.dateRange.dayHours[e]){const e=a.split("_")[1];t.push(e)}return t}return null},minuteValues(){var e;const[t,a]=this.datetime.split("T"),[r,i,l]=a.split(":");return null===(e=this.dateRange.dayHours[t])||void 0===e?void 0:e[`h_${r}`]}},methods:{confirm(){y.Fy.dismiss(this.datetime,"confirm")},cancel(){y.Fy.dismiss(null,"cancel")}}},W=a(3744);const b=(0,W.Z)(S,[["render",C],["__scopeId","data-v-15a0c94c"]]);var D=b,I={components:{yandexMap:v.xR,ymapMarker:v.Jk,IonText:y.yW,IonList:y.q_,IonItem:y.Ie,IonIcon:y.gu,IonLabel:y.Q$,IonSegment:y.cJ,IonSegmentButton:y.GO,IonImg:y.Xz,IonCard:y.PM,IonCardContent:y.FN,IonCardHeader:y.Zi,IonCardTitle:y.Dq,IonButton:y.YG,IonCheckbox:y.nz,IonItemDivider:y.rH,IonRadioGroup:y.se,IonRadio:y.B7,IonAccordion:y.We,IonAccordionGroup:y.eh},setup(){return{cubeOutline:f.XFf,locationOutline:f.Iv7,flagOutline:f.FMn,chevronDown:f.Dd1,addOutline:f.s6O,checkmark:f.d29,cardOutline:f.pvm,cashOutline:f.zaw,businessOutline:f.c1X,walletOutline:f.S5P,alertCircleOutline:f.nLD}},data(){var e,t;return{presentingElement:null,isDatePickerOpen:!1,deliveryScheduleStats:null,deliveryArrivalDatetime:null,order_id:this.$route.params.id,order:null,shipAutoloadClock:null,termsAccepted:1,iplocation:null,paymentType:"use_card",bankCard:null,recurrentPaymentAllow:1==(null===(e=this.$heap.state.settings)||void 0===e||null===(t=e.other)||void 0===t?void 0:t.recurrentPaymentAllow)?1:0,routeStats:{},tariffRule:{},tariffRuleList:[],errorCode:null,mapsettings:null,placemarkCoords:null,placemarkProperties:{},placemarkIcon:{layout:"default#imageWithContent",content:"some content here",contentLayout:'<div class="placemarkBaloon">$[properties.iconContent]</div>',contentOffset:[45,10],imageHref:"/img/tezkel-placemark.png",imageSize:[50,50],imageOffset:[-25,-50]}}},computed:{deliveryScheduleReady(){var e,t;return!(null===(e=this.deliveryScheduleStats)||void 0===e||null===(t=e.deliveryStatus)||void 0===t||!t.includes("ready"))},deliveryScheduleDowntime(){var e,t,a;return console.log(null===(e=this.deliveryScheduleStats)||void 0===e?void 0:e.deliveryStatus),!(null===(t=this.deliveryScheduleStats)||void 0===t||null===(a=t.deliveryStatus)||void 0===a||!a.includes("downtime"))},deliveryScheduleHeavyload(){var e,t;return!(null===(e=this.deliveryScheduleStats)||void 0===e||null===(t=e.deliveryStatus)||void 0===t||!t.includes("heavyload"))},deliveryArrivalDatetimeLoc(){if(!this.deliveryArrivalDatetime)return null;const e=new Date(Date.parse(this.deliveryArrivalDatetime)),t={month:"short",day:"numeric",hour:"numeric",minute:"numeric"};return e.toLocaleDateString(void 0,t)},deliveryFeeTotal(){return Math.round(this.tariffRule.deliveryFee*this.routeStats.distance)},checkoutError(){return"no_input"==this.errorCode?"Выберите адрес забора и доставки посылки":"no_courier"==this.errorCode?"Нет доступных курьеров":0==this.termsAccepted?"К сожалению, мы не можем доставить вам заказ, без согласия с условиями":null},isVPNon(){var e;return!(!this.iplocation||["UA","RU","???"].includes(null!==(e=this.iplocation.country_code)&&void 0!==e?e:"???"))}},methods:{deliveryTimeAllowed(e){const t=new Date(e);t.getUTCDay();return!0},async itemLoad(){this.itemCheckoutDataGet()},async itemCheckoutDataGet(){try{var e;const t=await _.Z.post(`${this.$heap.state.hostname}Shipment/itemCheckoutDataGet`,{order_id:this.order_id});if(!t)return;this.order=t.order,this.routeStats=t.Shipment_routeStats,this.deliveryScheduleStats=t.deliveryScheduleStats,(this.deliveryScheduleDowntime||this.deliveryScheduleHeavyload)&&(this.deliveryArrivalDatetime=this.deliveryScheduleStats.deliveryArrivalNearest),this.tariffRuleList=t.Shipment_deliveryOptions,this.tariffRuleSet((null===(e=this.tariffRuleList)||void 0===e?void 0:e[0])||{}),this.bankCard=null===t||void 0===t?void 0:t.bankCard}catch(r){var t,a;return this.errorCode=null===r||void 0===r||null===(t=r.responseJSON)||void 0===t||null===(a=t.messages)||void 0===a?void 0:a.error,"notfound"!=this.errorCode&&"forbidden"!=this.errorCode||(this.$flash("Заказ не найден"),this.$router.go(-1)),!1}},async itemCheckoutDataSet(){const e={order_id:this.order_id,order_arrive_time:this.deliveryArrivalDatetime};try{await k().post(`${this.$heap.state.hostname}Shipment/itemCheckoutDataSet`,JSON.stringify(e))}catch(t){console.log(t)}},tariffRuleSet(e){var t;this.tariffRule=e,this.paymentType="use_card",null!==(t=this.bankCard)&&void 0!==t&&t.card_type&&(this.paymentType="use_card_recurrent"),1==e.paymentByCreditStore?this.paymentType="use_credit_store":1==e.paymentByCash&&(this.paymentType="use_cash")},async datetimePick(){var e;const t=await y.Fy.create({component:D,initialBreakpoint:"0.7",showBackdrop:!0,componentProps:{dateRange:this.deliveryScheduleStats.deliveryArrivalRange,defaultDatetime:null===(e=this.deliveryScheduleStats)||void 0===e?void 0:e.deliveryArrivalNearest}});t.present();const a=await t.onDidDismiss();"confirm"==a.role&&(this.deliveryArrivalDatetime=a.data)},async customerIpLocationGet(){try{const e=await fetch("https://geolocation-db.com/json/");this.iplocation=await e.json()}catch(e){}},async proceed(){const e={order_id:this.order.order_id,tariff_id:this.tariffRule.tariff_id,paymentByCard:"use_card"==this.paymentType?1:0,paymentByCardRecurrent:"use_card_recurrent"==this.paymentType?1:0,paymentByCash:"use_cash"==this.paymentType?1:0,paymentByCreditStore:"use_credit_store"==this.paymentType?1:0};try{await k().post(`${this.$heap.state.hostname}Shipment/itemCheckoutDataSet`,JSON.stringify(e))}catch(l){var t,a;const e=null===l||void 0===l||null===(t=l.responseJSON)||void 0===t||null===(a=t.messages)||void 0===a?void 0:a.error;return!!e&&(this.$flash("Не удается оформить заказ, обратитесь на горячую линию"),!1)}if(1!=e.paymentByCard){if(1==e.paymentByCardRecurrent){const e={order_id:this.order.order_id,card_id:this.bankCard.card_id};try{await k().post(`${this.$heap.state.hostname}CardAcquirer/paymentDo`,e)}catch(l){return this.$flash("Оплата привязанной картой не удалась"),!1}}try{const e={order_id:this.order.order_id,new_stage:"customer_start"};await k().post(`${this.$heap.state.hostname}Shipment/itemStageCreate`,e)}catch(l){var r,i;const e=null===l||void 0===l||null===(r=l.responseJSON)||void 0===r||null===(i=r.messages)||void 0===i?void 0:i.error;switch(e){case"address_not_set":this.$flash("Необходимо добавить адрес доставки"),this.$topic.publish("dismissModal"),this.$go("/modal/user-addresses");break}return!1}}else this.paymentFormOpen({order_id:this.order_id,order_sum_total:this.tariffRule.deliverySum,user_id:this.order.owner_id})}},mounted(){this.itemLoad();this.$heap.state.settings;this.presentingElement=this.$refs.page.$el},ionViewDidEnter(){this.itemLoad()}};const U=(0,W.Z)(I,[["render",h],["__scopeId","data-v-3ffa2eca"]]);var R=U}}]);
//# sourceMappingURL=9098.b63f1473.js.map