"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[7125],{7125:function(e,t,o){o.r(t),o.d(t,{default:function(){return k}});var i=o(6252);const s=(0,i._)("h6",null,"Изображения",-1);function l(e,t,o,l,r,a){const d=(0,i.up)("ckeditor"),n=(0,i.up)("ion-button"),m=(0,i.up)("ion-col"),u=(0,i.up)("ion-row"),h=(0,i.up)("image-tile-comp"),c=(0,i.up)("ion-icon"),_=(0,i.up)("ion-grid"),p=(0,i.up)("base-layout");return(0,i.wg)(),(0,i.j4)(p,{pageTitle:`Условия доставки ${r.store.store_name}`,pageDefaultBackLink:`/catalog/store-edit-${r.store_id}`},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{editor:r.editor,modelValue:r.store_delivery_methods,"onUpdate:modelValue":t[0]||(t[0]=e=>r.store_delivery_methods=e),config:r.editorConfig},null,8,["editor","modelValue","config"]),(0,i.Wm)(_,{style:{width:"100%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,{style:{"text-align":"right"}},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{onClick:t[1]||(t[1]=e=>a.itemDelete()),color:"danger",fill:"outline",expand:"block"},{default:(0,i.w5)((()=>[(0,i.Uk)("Удалить")])),_:1})])),_:1}),(0,i.Wm)(m,{style:{"text-align":"right"}},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{onClick:t[2]||(t[2]=e=>a.itemUpdate()),expand:"block"},{default:(0,i.w5)((()=>[(0,i.Uk)("Сохранить")])),_:1})])),_:1})])),_:1}),(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[s,(0,i.Wm)(h,{images:e.images,image_holder:"store_dmethods",image_holder_id:r.store_id,controller:"Store",title:"Картинка к методам доставки",ref:"storeDmethodsImgs"},null,8,["images","image_holder_id"]),(0,i.Wm)(n,{onClick:t[3]||(t[3]=t=>e.$refs.storeDmethodsImgs.take_photo()),color:"light",expand:"block"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{src:l.cameraOutline,slot:"start"},null,8,["src"]),(0,i.Uk)(" Добавить изображение 5шт ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["pageTitle","pageDefaultBackLink"])}o(8862);var r=o(4e3),a=o.n(r),d=o(5234),n=o.n(d),m=(o(7825),o(8903)),u=o(7950),h=o(4929),c=o(9755),_=o.n(c),p={components:{IonButton:h.YG,IonGrid:h.jY,IonRow:h.Nd,IonCol:h.wI,IonIcon:h.gu,imageTileComp:u.Z,ckeditor:a().component},setup(){return{documentTextOutline:m.L82,cameraOutline:m.kuq}},data(){var e;return{store_id:null!==(e=this.$route.params.id)&&void 0!==e?e:0,store:{},store_delivery_methods:"",editor:n(),editorConfig:{language:"ru",toolbar:["heading","|","bold","italic","numberedList","bulletedList"]}}},mounted(){this.itemGet()},methods:{async itemGet(){const e={store_id:this.store_id};try{this.store=await _().post(`${this.$heap.state.hostname}Store/itemGet`,e),this.store.store_delivery_methods&&(this.store_delivery_methods=this.store.store_delivery_methods)}catch{}},async itemUpdate(){const e=3e3;this.store_delivery_methods.length>e&&alert(`Текст слишком длинный. Сохранится только первые ${e} символов`);const t={store_id:this.store_id,store_delivery_methods:this.store_delivery_methods};try{await _().post(`${this.$heap.state.hostname}Store/itemUpdate`,JSON.stringify(t)),this.$flash("Сохранено")}catch{}},async itemDelete(){confirm("Удалить условия доставки?")&&(this.store_delivery_methods="",this.itemUpdate())}}},g=o(3744);const f=(0,g.Z)(p,[["render",l]]);var k=f}}]);
//# sourceMappingURL=7125.4c224c65.js.map