"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[830],{2927:function(e,t,r){r.d(t,{Z:function(){return g}});var o=r(6252),i=r(3577);const s=e=>((0,o.dD)("data-v-0e00b8d4"),e=e(),(0,o.Cn)(),e),l={class:"slide-title"},a=s((()=>(0,o._)("div",{id:"hcat_widget_grid"},null,-1)));function n(e,t,r,s,n,u){const d=(0,o.up)("ion-img"),p=(0,o.up)("ion-thumbnail"),c=(0,o.up)("swiper-slide"),m=(0,o.up)("swiper");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(m,{id:"hcat_widget_grid","slides-per-view":4.5,"space-between":10},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.groupList,(t=>((0,o.wg)(),(0,o.j4)(c,{key:t.group_id,onClick:()=>e.onClick(t.group_id)},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{style:{width:"70px",height:"70px"}},{default:(0,o.w5)((()=>[t.image_hash?((0,o.wg)(),(0,o.j4)(d,{key:0,style:{"border-radius":"10px",border:"1px solid #ddd"},src:`${e.$heap.state.hostname}image/get.php/${t.image_hash}.150.150.webp`},null,8,["src"])):(0,o.kq)("",!0)])),_:2},1024),(0,o._)("div",l,(0,i.zw)(t.group_name),1)])),_:2},1032,["onClick"])))),128))])),_:1},8,["slides-per-view"]),a],64)}var u=r(6964),d=r(3181),p=(0,o.aZ)({components:{IonImg:u.Xz,IonThumbnail:u.Bs,Swiper:d.t,SwiperSlide:d.o},props:["groupList","onClick"]}),c=r(3744);const m=(0,c.Z)(p,[["render",n],["__scopeId","data-v-0e00b8d4"]]);var g=m},7526:function(e,t,r){r.d(t,{Z:function(){return _}});var o=r(6252),i=r(3577);const s={class:"blur-image"},l=["src"],a=["src"];function n(e,t,r,n,u,d){const p=(0,o.up)("swiper-slide"),c=(0,o.up)("swiper");return(0,o.wg)(),(0,o.j4)(c,{modules:n.modules,autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,effect:"fade",style:(0,i.j5)(`height: ${r.imgHeight||"100%"};`)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.imageList,(t=>((0,o.wg)(),(0,o.j4)(p,{key:t.image_hash},{default:(0,o.w5)((()=>[(0,o._)("div",{class:(0,i.C_)(`${r.mode?r.mode:""} cropper`),style:(0,i.j5)(`height: ${r.imgHeight+"px"||0}`)},[(0,o._)("div",s,[(0,o._)("img",{src:`${e.$heap.state.hostname}image/get.php/${t.image_hash}.${4*r.imgHeight||1200}.${4*r.imgHeight||1200}.webp`},null,8,l)]),(0,o._)("img",{style:(0,i.j5)(`min-height: ${r.imgHeight+"px;"||0};max-height:50vh`),src:`${e.$heap.state.hostname}image/get.php/${t.image_hash}.${4*r.imgHeight||1200}.${4*r.imgHeight||1200}.webp`},null,12,a)],6)])),_:2},1024)))),128))])),_:1},8,["modules","style"])}var u=r(8903),d=r(702),p=r(3181),c={components:{Swiper:p.t,SwiperSlide:p.o},props:["imageList","imgHeight","mode"],setup(){return{modules:[d.pt,d.xW],expand:u.jnR,contract:u.LJB}},data(){return{expanded:!1,vh:0,vw:0}},methods:{maximize(){this.expanded=!0,this.vh=document.getElementsByTagName("ion-content")[0].clientHeight,this.vw=document.getElementsByTagName("ion-content")[0].clientWidth},minimize(){this.expanded=!1,this.vh=document.getElementsByTagName("ion-content")[0].clientHeight,this.vw=document.getElementsByTagName("ion-content")[0].clientWidth}}},m=r(3744);const g=(0,m.Z)(c,[["render",n],["__scopeId","data-v-8c3c7a70"]]);var _=g},7830:function(e,t,r){r.r(t),r.d(t,{default:function(){return B}});var o=r(6252),i=r(3577);const s=e=>((0,o.dD)("data-v-1acb4393"),e=e(),(0,o.Cn)(),e),l={class:"store-info-container"},a={key:0,slot:"start",class:"avatar-container"},n={class:"avatar"},u=["src"],d={style:{"scrollbar-width":"none","overflow-x":"scroll",display:"flex"}},p={key:0,class:"delivery-variant"},c=s((()=>(0,o._)("br",null,null,-1))),m={key:1,class:"delivery-variant"},g=s((()=>(0,o._)("br",null,null,-1))),_={key:2,class:"delivery-variant"},h=s((()=>(0,o._)("br",null,null,-1))),w=s((()=>(0,o._)("b",null,"0₽",-1))),v={key:0,class:"group-fixed-block hidden-block"},y={key:1},f=s((()=>(0,o._)("h4",{style:{margin:"8px 16px"}},[(0,o._)("b",null,"Категории")],-1))),k={style:{margin:"0"}},I={key:4},b={style:{margin:"8px 16px"}},W={style:{margin:"0"}};function x(e,t,r,s,x,S){var G;const $=(0,o.up)("image-slider-comp"),C=(0,o.up)("ion-text"),j=(0,o.up)("ion-icon"),z=(0,o.up)("ion-item"),q=(0,o.up)("ion-label"),P=(0,o.up)("ion-list"),L=(0,o.up)("ion-accordion"),D=(0,o.up)("ion-accordion-group"),H=(0,o.up)("store-opened-indicator"),U=(0,o.up)("ion-col"),T=(0,o.up)("ion-chip"),Z=(0,o.up)("ion-row"),O=(0,o.up)("ion-grid"),F=(0,o.up)("ion-segment-button"),Y=(0,o.up)("ion-segment"),K=(0,o.up)("ion-searchbar"),Q=(0,o.up)("group-list"),V=(0,o.up)("product-list"),B=(0,o.up)("swiper-slide"),E=(0,o.up)("swiper"),M=(0,o.up)("ion-skeleton-text"),N=(0,o.up)("base-layout");return(0,o.wg)(),(0,o.j4)(N,{pageDefaultBackLink:"/catalog","page-class":"store-page","page-title":null!==(G=this.storeItem.store_name)&&void 0!==G?G:"Магазин"},{default:(0,o.w5)((()=>{var r,G;return[(0,o._)("div",null,[(0,o._)("div",l,[(0,o.Wm)($,{imageList:x.storeItem.images,imgHeight:300,mode:"crop-to-fit"},null,8,["imageList"]),(0,o.Wm)(P,{class:"store-info"},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{lines:"none"},{default:(0,o.w5)((()=>[x.storeItem.avatarImage?((0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",n,[(0,o._)("img",{src:e.$heap.state.hostname+"image/get.php/"+x.storeItem.avatarImage+".200.200.webp"},null,8,u)])])):(0,o.kq)("",!0),(0,o.Wm)(C,{style:{"font-size":"1.2em"}},{default:(0,o.w5)((()=>[(0,o._)("b",null,(0,i.zw)(x.storeItem.store_name),1)])),_:1}),x.storeItem.is_writable?((0,o.wg)(),(0,o.j4)(j,{key:1,slot:"end",color:"primary",onClick:t[0]||(t[0]=t=>e.$go(`/catalog/store-edit-${x.storeItem.store_id}`)),icon:s.settingsOutline,style:{"font-size":"24px"}},null,8,["icon"])):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(D,{style:{width:"100%"}},{default:(0,o.w5)((()=>[(0,o.Wm)(L,null,{default:(0,o.w5)((()=>[(0,o.Wm)(z,{slot:"header",lines:"none"},{default:(0,o.w5)((()=>[x.storeItem.store_description?((0,o.wg)(),(0,o.j4)(C,{key:0,class:"store-description",color:"medium"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(x.storeItem.store_description),1)])),_:1})):((0,o.wg)(),(0,o.j4)(C,{key:1,color:"medium"},{default:(0,o.w5)((()=>[(0,o.Uk)("подробнее")])),_:1}))])),_:1}),(0,o.Wm)(P,{slot:"content"},{default:(0,o.w5)((()=>{var e;return[x.storeItem.store_company_name?((0,o.wg)(),(0,o.j4)(z,{key:0,lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o._)("b",null,(0,i.zw)(x.storeItem.store_company_name),1)])),_:1})])),_:1})):(0,o.kq)("",!0),x.storeItem.store_tax_num?((0,o.wg)(),(0,o.j4)(z,{key:1,lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{color:"medium"},{default:(0,o.w5)((()=>[(0,o.Uk)("ИНН")])),_:1}),(0,o.Wm)(C,{color:"dark"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(x.storeItem.store_tax_num),1)])),_:1})])),_:1})):(0,o.kq)("",!0),(x.storeItem.store_phone,(0,o.kq)("",!0)),(null===(e=x.storeItem.locations)||void 0===e?void 0:e.length)>0?((0,o.wg)(),(0,o.j4)(z,{key:3,lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{color:"dark"},{default:(0,o.w5)((()=>{var e;return[(0,o.Uk)((0,i.zw)(null===(e=x.storeItem.locations)||void 0===e?void 0:e[0].location_address),1)]})),_:1})])),_:1})):(0,o.kq)("",!0)]})),_:1})])),_:1})])),_:1}),(0,o.Wm)(O,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{class:"ion-justify-content-between"},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{size:"auto"},{default:(0,o.w5)((()=>[(0,o.Wm)(H,{storeItem:x.storeItem},null,8,["storeItem"])])),_:1}),(0,o.Wm)(U,{size:"auto"},{default:(0,o.w5)((()=>[x.storeItem.store_group_names?((0,o.wg)(),(0,o.j4)(T,{key:0,color:"medium",background:"transparent"},{default:(0,o.w5)((()=>[(0,o._)("label",null,(0,i.zw)(x.storeItem.store_group_names),1)])),_:1})):(0,o.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1}),(0,o._)("div",d,[x.storeItem.delivery_cost>0?((0,o.wg)(),(0,o.iD)("div",p,[(0,o._)("div",null,[(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Доставит "+(0,i.zw)(e.$heap.getters.settings.app_title),1)])),_:1}),c,null!==(r=x.storeItem)&&void 0!==r&&null!==(G=r.deliveryTime)&&void 0!==G&&G.timeMin?((0,o.wg)(),(0,o.j4)(C,{key:0},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(x.storeItem.deliveryTime.timeMin)+"-"+(0,i.zw)(x.storeItem.deliveryTime.timeMax)+"мин",1)])),_:1})):(0,o.kq)("",!0)]),(0,o._)("div",null,[x.storeItem.delivery_cost>0?((0,o.wg)(),(0,o.j4)(C,{key:0},{default:(0,o.w5)((()=>[(0,o._)("b",null,(0,i.zw)(x.storeItem.delivery_cost)+"₽",1)])),_:1})):(0,o.kq)("",!0)])])):(0,o.kq)("",!0),1==x.storeItem.store_delivery_allow?((0,o.wg)(),(0,o.iD)("div",m,[(0,o._)("div",null,[(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Доставит "+(0,i.zw)(x.storeItem.member_of_groups.group_names),1)])),_:1}),g]),(0,o._)("div",null,[x.storeItem.delivery_cost>0?((0,o.wg)(),(0,o.j4)(C,{key:0},{default:(0,o.w5)((()=>[(0,o._)("b",null,(0,i.zw)(x.storeItem.store_delivery_cost)+"₽",1)])),_:1})):(0,o.kq)("",!0)])])):(0,o.kq)("",!0),1==x.storeItem.store_pickup_allow?((0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("div",null,[(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Самовывоз")])),_:1}),h]),(0,o._)("div",null,[(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[w])),_:1})])])):(0,o.kq)("",!0)])]),S.storeGroupsFiltered?((0,o.wg)(),(0,o.iD)("div",v,[(0,o.Wm)(Y,{modelValue:x.groupSelectedParentId,"onUpdate:modelValue":t[1]||(t[1]=e=>x.groupSelectedParentId=e),scrollable:"",style:{"scrollbar-width":"none"},class:"groups-container"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(S.storeGroupsFiltered,(e=>((0,o.wg)(),(0,o.j4)(F,{key:e.group_id,value:e.group_id,onClick:t=>S.groupSelectParent(e.group_id,1),ref_for:!0,ref:"group-tab-"+e.group_id},{default:(0,o.w5)((()=>[(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.group_name),1)])),_:2},1024)])),_:2},1032,["value","onClick"])))),128))])),_:1},8,["modelValue"])])):(0,o.kq)("",!0),(0,o.Wm)(K,{class:"search-container",modelValue:x.searchQuery,"onUpdate:modelValue":t[2]||(t[2]=e=>x.searchQuery=e),placeholder:"Поиск у этого продавца"},null,8,["modelValue"]),S.storeGroupsFiltered?((0,o.wg)(),(0,o.iD)("div",y,[f,(0,o.Wm)(Q,{groupList:S.storeGroupsFiltered,onClick:e=>{S.groupSelectParent(e,!0)}},null,8,["groupList","onClick"]),(0,o.Wm)(E,{pager:"true",initialSlide:0,speed:400,watchSlidesProgress:!1,grabCursor:!0,touchStartForcePreventDefault:!0,slidesPerView:1.1,pagination:!1,centeredSlides:!1,class:"product-list-slider",onSlideChange:t[3]||(t[3]=e=>S.groupSliderChanged(e))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(S.storeGroupsFiltered,(e=>((0,o.wg)(),(0,o.j4)(B,{key:e.group_id},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{class:"product-list"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.children,(e=>((0,o.wg)(),(0,o.j4)(Z,{key:e.group_id,ref_for:!0,ref:"group-"+e.group_id,"data-group_id":e.group_id},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{class:"group-title",size:"12"},{default:(0,o.w5)((()=>[(0,o._)("h5",k,[(0,o.Uk)((0,i.zw)(e.group_name)+" ",1),1==x.storeItem.is_writable?((0,o.wg)(),(0,o.j4)(T,{key:0,onClick:t=>S.productItemCreate(e.group_id)},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{src:s.addOutline},null,8,["src"]),(0,o.Uk)("добавить ")])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])])),_:2},1024),(0,o.Wm)(U,{size:"12"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{productList:S.storeProductsFiltered[e.group_id]},null,8,["productList"])])),_:2},1024)])),_:2},1032,["data-group_id"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["slidesPerView"])])):x.searchQuery?((0,o.wg)(),(0,o.j4)(q,{key:2},{default:(0,o.w5)((()=>[(0,o.Uk)(" К сожалению, в "),(0,o._)("b",null,(0,i.zw)(x.storeItem.store_name),1),(0,o.Uk)(" по запросу "),(0,o._)("b",null,'"'+(0,i.zw)(x.searchQuery)+'"',1),(0,o.Uk)(" ничего не найдено. "),(0,o.Wm)(T,{onClick:t[4]||(t[4]=e=>this.searchQuery=null)},{default:(0,o.w5)((()=>[(0,o.Uk)("Сбросить фильтр")])),_:1})])),_:1})):x.productListIsEmpty?((0,o.wg)(),(0,o.j4)(q,{key:3},{default:(0,o.w5)((()=>[(0,o.Uk)(" К сожалению, в "),(0,o._)("b",null,(0,i.zw)(x.storeItem.store_name),1),(0,o.Uk)(" пока нет доступных товаров. ")])),_:1})):S.storeGroupsFiltered?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",I,[(0,o._)("h4",b,[(0,o._)("b",null,[(0,o.Wm)(M,{style:{height:"30px",width:"150px"}})])]),(0,o._)("div",null,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)([1,2,3,4],(e=>(0,o._)("div",{key:e,style:{display:"inline-block",margin:"10px"}},[(0,o.Wm)(M,{style:{height:"70px",width:"70px"},animated:""})]))),64))]),(0,o.Wm)(O,{class:"product-list"},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(U,{class:"group-title",size:"12"},{default:(0,o.w5)((()=>[(0,o._)("h5",W,[(0,o.Wm)(M,{style:{height:"20px",width:"120px"}})])])),_:1}),(0,o.Wm)(U,{size:"12"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)([1,2,3,4],(e=>(0,o._)("div",{key:e,style:{display:"inline-block",margin:"10px"}},[(0,o.Wm)(M,{style:{height:"120px",width:"120px"},animated:""})]))),64))])),_:1})])),_:1})])),_:1})]))])]})),_:1},8,["page-title"])}r(3948),r(5306);var S=r(6964),G=r(702),$=r(3181),C=r(8903),j=r(7526),z=r(2927);const q={class:"product_list_widget_grid"};function P(e,t,r,i,s,l){const a=(0,o.up)("product-item");return(0,o.wg)(),(0,o.iD)("div",q,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.productList,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.product_id},[(0,o.Wm)(a,{productItem:e},null,8,["productItem"])])))),128))])}var L=r(1984),D={props:["productList"],components:{ProductItem:L.Z}},H=r(3744);const U=(0,H.Z)(D,[["render",P],["__scopeId","data-v-fcf4f40a"]]);var T=U,Z=r(6181),O=r(9755),F=r.n(O),Y=r(2008),K=r(4405),Q={components:{IonText:S.yW,IonCol:S.wI,IonIcon:S.gu,IonRow:S.Nd,IonGrid:S.jY,IonLabel:S.Q$,IonSegmentButton:S.GO,IonSegment:S.cJ,IonChip:S.hM,IonSearchbar:S.VI,IonAccordion:S.We,IonAccordionGroup:S.eh,IonList:S.q_,IonItem:S.Ie,ImageSliderComp:j.Z,StoreOpenedIndicator:Z.Z,Swiper:$.t,SwiperSlide:$.o,GroupList:z.Z,ProductList:T,IonSkeletonText:S.CK},setup(){return{search:C.yC4,settingsOutline:C.C$N,rocketOutline:C.G$D,compassOutline:C.gmD,addOutline:C.s6O,slideModules:[G.pt]}},data(){return{storeId:this.$route.params.id,query:this.$route.query,searchQuery:null,storeItem:[],productList:[],productListIsEmpty:0,storeGroups:null,groupSelectedParentId:-1,sliderMaxHeight:500,offsetModificator:150,can_reload_at:0}},computed:{storeGroupsFiltered(){if(!this.storeProductsFiltered||!this.storeGroups)return null;const e=Object.keys(this.storeProductsFiltered);let t=null;for(let r in this.storeGroups)for(let o in this.storeGroups[r].children){const i=this.storeGroups[r].children[o];e.includes(o)&&(t||(t={}),t[r]||(t[r]={group_id:this.storeGroups[r].group_id,group_name:this.storeGroups[r].group_name,image_hash:this.storeGroups[r].image_hash,children:[]}),t[r].children.push(i))}return t},storeProductsFiltered(){let e=1,t={};for(let l of this.productList){var r;if(this.searchQuery)try{var o,i,s;const e=new RegExp(this.searchQuery.replace(/^[\w\d\s]/,"").replace(/\s/g,".*"),"im");if((null===(o=l.product_name)||void 0===o||!o.match(e))&&(null===(i=l.product_code)||void 0===i||!i.match(e))&&(null===(s=l.product_description)||void 0===s||!s.match(e)))continue}catch{}const a=null!==(r=l.group_id)&&void 0!==r?r:0;this.storeGroups&&(t[a]||(t[a]=[],t[a].category_order=e++)),t[a].push(l)}return t}},methods:{async itemGet(){const e=Date.now();if(!(this.can_reload_at>e)){this.can_reload_at=e+1e4;try{const e=await F().post(`${Y.Z.state.hostname}Store/itemGet`,{store_id:this.storeId,distance_include:1});this.storeItem=this.itemPrepare(e),this.storeId=e.store_id,this.groupTreeGet({store_id:this.storeId}),Y.Z.commit("setCurrentStore",this.storeItem)}catch(o){var t,r;const e=null===o||void 0===o||null===(t=o.responseJSON)||void 0===t||null===(r=t.messages)||void 0===r?void 0:r.error;switch(e){case"notfound":this.$flash("Продавец не найден"),this.$router.replace("/catalog");break}return!1}}},itemPrepare(e){var t;return e.member_of_groups.group_names&&(e.store_group_names=e.member_of_groups.group_names),e.deliveryTime={},null!==(t=e.locations[0])&&void 0!==t&&t.distance&&(e.deliveryTime=K.Z.deliveryTimeCalculate(e.locations[0].distance,e.store_time_preparation)),e.avatarImage="",e.avatar.length>0&&(e.avatarImage=e.avatar[0].image_hash),e},async productListGet(e={}){if(e.store_id=this.storeId,e.is_active=1,e.name_query&&""==e.name_query)return void this.groupTreeGet({store_id:this.storeId});e.limit=200;let t={};try{var r,o;t=await F().post(Y.Z.state.hostname+"Product/listGet",e),this.productListIsEmpty=(null===(r=t)||void 0===r||null===(o=r.product_list)||void 0===o?void 0:o.length)>0?0:1}catch(i){}this.productList=t.product_list,this.groupOtherAdd(),setTimeout((()=>{this.groupSelect()}),0)},async productItemCreate(e){try{const t={store_id:this.storeId,product_name:"Новый товар",product_price:1e3,product_promo_price:1e3},r=await F().post(`${Y.Z.state.hostname}Product/itemCreate`,t);e&&await F().post(`${Y.Z.state.hostname}Product/itemUpdateGroup`,{product_id:r,group_id:e,is_joined:1}),this.$go(`/catalog/product-edit-${r}`),this.$flash("Добавлен 'Новый товар'")}catch{this.$flash("Не удалось создать товар")}},async groupTreeGet(e){try{const t=await F().get(`${Y.Z.state.hostname}Product/groupTreeGet`,{store_id:e.store_id});let r=[];for(let e in t)r[t[e].order]=t[e];this.storeGroups=r,this.productListGet()}catch(t){}},groupOtherAdd(){if(this.storeProductsFiltered[0]){const e=this.storeGroups.filter((e=>"other"==e.group_id));if(e.length>0)return;this.storeGroups.push({group_id:"other",group_name:"Другое",image_hash:"",children:{0:{group_id:0,group_name:"другое",group_parent_id:0,group_path:"",image_hash:""}}})}},groupSelect(){let e=this.query.parent_group_id,t=this.query.sub_group_id;if(t)e:for(let i in this.storeGroups)for(let r in this.storeGroups[i].children)if(r==t){e=i;break e}var r;e||(e=null===(r=this.storeGroups[0])||void 0===r?void 0:r.group_id);const o=!1;this.groupSelectParent(e,o)},groupSelectParent(e,t=!1){if(this.groupSelectedParentId==e||!document.querySelector(".product-list-slider"))return;this.groupSelectedParentId=e;const r=document.querySelector(".product-list-slider").swiper,o=this.storeGroups.findIndex((t=>t.group_id==e));o>=0&&(r.slideTo(o,100,!1),this.groupSliderAdjustHeight())},groupSliderChanged(e){const t=e.activeIndex,r=this.storeGroups[t].group_id;this.groupSelectParent(r,1)},groupSliderAdjustHeight(){try{var e;const t=null===(e=document.querySelector(".product-list-slider .swiper-slide.swiper-slide-active"))||void 0===e?void 0:e.scrollHeight;document.querySelector(".product-list-slider.swiper").style.maxHeight=t>0?t+"px":""}catch{}}},mounted(){this.query=this.$route.query,this.itemGet()},watch:{$route(e){this.storeId=e.params.id}}};const V=(0,H.Z)(Q,[["render",x],["__scopeId","data-v-1acb4393"]]);var B=V}}]);
//# sourceMappingURL=830.e94d4e33.js.map