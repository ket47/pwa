"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[3947],{3947:function(e,l,t){t.r(l),t.d(l,{default:function(){return v}});var i=t(641),r=t(33);const o=e=>((0,i.Qi)("data-v-9bfc0dca"),e=e(),(0,i.jt)(),e),a={key:0,style:{background:"linear-gradient(to top, #009dcd, #79c8e2)"}},u=o((()=>(0,i.Lk)("h3",null,[(0,i.Lk)("b",null,"Хотите стать нашим курьером?")],-1))),d=o((()=>(0,i.Lk)("h6",null,[(0,i.Lk)("b",null,"Заполняйте анкету и присоединяйтесь к нашей дружной команде!")],-1))),n={key:1};function s(e,l,t,o,s,c){const _=(0,i.g2)("ion-col"),m=(0,i.g2)("ion-row"),b=(0,i.g2)("ion-grid"),k=(0,i.g2)("ion-card-title"),f=(0,i.g2)("ion-card-header"),h=(0,i.g2)("ion-card-content"),g=(0,i.g2)("ion-card"),F=(0,i.g2)("router-link"),p=(0,i.g2)("ion-text"),v=(0,i.g2)("ion-checkbox"),y=(0,i.g2)("ion-item"),C=(0,i.g2)("ion-button"),W=(0,i.g2)("ion-icon"),I=(0,i.g2)("ion-toggle"),x=(0,i.g2)("ion-label"),z=(0,i.g2)("ion-item-divider"),V=(0,i.g2)("ion-input"),A=(0,i.g2)("ion-textarea"),w=(0,i.g2)("ion-list"),O=(0,i.g2)("image-tile-comp"),D=(0,i.g2)("base-layout");return(0,i.uX)(),(0,i.Wv)(D,{"page-title":"Анкета курьера",pageDefaultBackLink:"/user"},{default:(0,i.k6)((()=>[null==s.courier||s.courier.courier_id?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",a,[(0,i.bF)(b,{class:"courier-grid",style:{"background-image":"url('/img/courier_tezkel.png')"}},{default:(0,i.k6)((()=>[(0,i.bF)(m,{class:"ion-align-items-center"},{default:(0,i.k6)((()=>[(0,i.bF)(_,{"size-md":"6","size-xs":"12","size-sm":"12",class:"ion-padding",style:{color:"var(--ion-color-primary-contrast)"}},{default:(0,i.k6)((()=>[u,d])),_:1}),(0,i.bF)(_,{"size-md":"6","size-xs":"12","size-sm":"12",style:{"min-height":"350px"}})])),_:1})])),_:1}),(0,i.bF)(g,{color:"light",style:{margin:"0"}},{default:(0,i.k6)((()=>[(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(k,{class:"ion-text-center"},{default:(0,i.k6)((()=>[(0,i.eW)("Мы предлагаем")])),_:1})])),_:1}),(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.bF)(b,null,{default:(0,i.k6)((()=>[(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(_,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(g,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(k,null,{default:(0,i.k6)((()=>[(0,i.eW)("1. Без стажировки")])),_:1})])),_:1}),(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Никаких испытательных сроков, вы с первого дня погружаетесь в работу ")])),_:1})])),_:1})])),_:1}),(0,i.bF)(_,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(g,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(k,null,{default:(0,i.k6)((()=>[(0,i.eW)("2. Гибкий график")])),_:1})])),_:1}),(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Можно подгонять и совмещать рабочее время так, как удобно именно Вам. ")])),_:1})])),_:1})])),_:1}),(0,i.bF)(_,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(g,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(k,null,{default:(0,i.k6)((()=>[(0,i.eW)("3. Трудовой договор")])),_:1})])),_:1}),(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Есть возможность официально оформить трудовые отношения. ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(_,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(g,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(k,null,{default:(0,i.k6)((()=>[(0,i.eW)("4. Автоматизация")])),_:1})])),_:1}),(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Работа автоматизирована с помощью приложения. Нет работы с наличными. ")])),_:1})])),_:1})])),_:1}),(0,i.bF)(_,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(g,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(k,null,{default:(0,i.k6)((()=>[(0,i.eW)("5. Компенсация")])),_:1})])),_:1}),(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Мы выплачеваем компенсацию затрат на топливо, затраченное в рабочее время ")])),_:1})])),_:1})])),_:1}),(0,i.bF)(_,{"size-xs":"12","size-md":"4"},{default:(0,i.k6)((()=>[(0,i.bF)(g,{color:"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(k,null,{default:(0,i.k6)((()=>[(0,i.eW)("6. Рабочий отдых")])),_:1})])),_:1}),(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Вы можете отдохнуть в нашей комнате отдыха для персонала ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.bF)(y,{lines:"none"},{default:(0,i.k6)((()=>[(0,i.bF)(p,null,{default:(0,i.k6)((()=>[(0,i.eW)(" Подавая заявку вы даете согласие на условия "),(0,i.bF)(F,{to:"/page/rules-courier"},{default:(0,i.k6)((()=>[(0,i.eW)("Оферта об оказании услуг доставки")])),_:1})])),_:1}),(0,i.bF)(v,{slot:"end",modelValue:s.contractAccepted,"onUpdate:modelValue":l[0]||(l[0]=e=>s.contractAccepted=e)},null,8,["modelValue"])])),_:1}),(0,i.bF)(C,{expand:"block",onClick:l[1]||(l[1]=e=>c.itemCreate()),disabled:!s.contractAccepted},{default:(0,i.k6)((()=>[(0,i.eW)("Подать заявку")])),_:1},8,["disabled"])])),_:1})])),_:1})])),s.courier?((0,i.uX)(),(0,i.CE)("div",n,[c.message?((0,i.uX)(),(0,i.Wv)(g,{key:0,lines:"none"},{default:(0,i.k6)((()=>[(0,i.bF)(h,{class:(0,r.C4)(c.messageClass)},{default:(0,i.k6)((()=>[(0,i.eW)((0,r.v_)(c.message),1)])),_:1},8,["class"])])),_:1})):((0,i.uX)(),(0,i.Wv)(g,{key:1,lines:"none"},{default:(0,i.k6)((()=>[(0,i.bF)(h,{style:{"background-color":"var(--ion-color-success-tint)"}},{default:(0,i.k6)((()=>[(0,i.eW)(" Анкета активна. Вы можете открыть смену для приема заказов. ")])),_:1})])),_:1})),(0,i.Lk)("form",{onChange:l[10]||(l[10]=e=>c.updateCourier())},[(0,i.bF)(w,null,{default:(0,i.k6)((()=>[(0,i.bF)(y,null,{default:(0,i.k6)((()=>[(0,i.bF)(W,{src:o.trashOutline,color:"primary",slot:"start"},null,8,["src"]),(0,i.eW)(" Удалено "),(0,i.bF)(I,{slot:"end",modelValue:s.is_deleted,"onUpdate:modelValue":l[2]||(l[2]=e=>s.is_deleted=e),color:"danger",onIonChange:l[3]||(l[3]=e=>c.itemDelete(e.target.checked?1:0))},null,8,["modelValue"])])),_:1}),(0,i.bF)(y,null,{default:(0,i.k6)((()=>[(0,i.bF)(W,{src:o.searchOutline,color:"primary",slot:"start"},null,8,["src"]),(0,i.eW)(" На модерации "),(0,i.bF)(I,{slot:"end",modelValue:s.is_disabled,"onUpdate:modelValue":l[4]||(l[4]=e=>s.is_disabled=e),onIonChange:l[5]||(l[5]=e=>c.itemDisable(e.target.checked?1:0))},null,8,["modelValue"])])),_:1}),(0,i.bF)(z,null,{default:(0,i.k6)((()=>[(0,i.bF)(x,null,{default:(0,i.k6)((()=>[(0,i.eW)("Основные настройки")])),_:1})])),_:1}),(0,i.bF)(y,{lines:"full"},{default:(0,i.k6)((()=>[(0,i.bF)(x,{position:"stacked",color:"primary"},{default:(0,i.k6)((()=>[(0,i.eW)("Имя")])),_:1}),(0,i.bF)(V,{modelValue:s.courier.courier_name,"onUpdate:modelValue":l[6]||(l[6]=e=>s.courier.courier_name=e),placeholder:"Имя курьера"},null,8,["modelValue"])])),_:1}),(0,i.bF)(y,{lines:"full"},{default:(0,i.k6)((()=>[(0,i.bF)(x,{position:"stacked",color:"primary"},{default:(0,i.k6)((()=>[(0,i.eW)("Транспорт")])),_:1}),(0,i.bF)(V,{modelValue:s.courier.courier_vehicle,"onUpdate:modelValue":l[7]||(l[7]=e=>s.courier.courier_vehicle=e),placeholder:"автомобиль, мопед, велосипед"},null,8,["modelValue"])])),_:1}),(0,i.bF)(y,{lines:"full"},{default:(0,i.k6)((()=>[(0,i.bF)(x,{position:"stacked",color:"primary"},{default:(0,i.k6)((()=>[(0,i.eW)("ИНН")])),_:1}),(0,i.bF)(V,{modelValue:s.courier.courier_tax_num,"onUpdate:modelValue":l[8]||(l[8]=e=>s.courier.courier_tax_num=e),placeholder:"ИНН курьера"},null,8,["modelValue"])])),_:1}),(0,i.bF)(y,{lines:"full"},{default:(0,i.k6)((()=>[(0,i.bF)(x,{position:"stacked",color:"primary"},{default:(0,i.k6)((()=>[(0,i.eW)("Комментарий")])),_:1}),(0,i.bF)(A,{modelValue:s.courier.courier_comment,"onUpdate:modelValue":l[9]||(l[9]=e=>s.courier.courier_comment=e),placeholder:"Цвет, номер авто"},null,8,["modelValue"])])),_:1})])),_:1})],32),s.courier?((0,i.uX)(),(0,i.Wv)(w,{key:2},{default:(0,i.k6)((()=>[(0,i.bF)(z,null,{default:(0,i.k6)((()=>[(0,i.bF)(x,null,{default:(0,i.k6)((()=>[(0,i.eW)("Ваше фото")])),_:1})])),_:1}),(0,i.bF)(O,{images:s.courier.images,image_holder_id:s.courier.courier_id,controller:"Courier",ref:"courierImgs"},null,8,["images","image_holder_id"]),(0,i.bF)(C,{onClick:l[11]||(l[11]=l=>e.$refs.courierImgs.take_photo()),expand:"block",color:"light"},{default:(0,i.k6)((()=>[(0,i.bF)(W,{src:o.cameraOutline},null,8,["src"]),(0,i.eW)(" Добавить ")])),_:1})])),_:1})):(0,i.Q3)("",!0),(0,i.bF)(w,null,{default:(0,i.k6)((()=>[(0,i.bF)(z,null,{default:(0,i.k6)((()=>[(0,i.bF)(x,null,{default:(0,i.k6)((()=>[(0,i.eW)("Информация")])),_:1})])),_:1}),(0,i.bF)(y,{lines:"none",button:"",detail:"",onClick:l[12]||(l[12]=l=>e.$go("/page/rules-courier"))},{default:(0,i.k6)((()=>[(0,i.bF)(W,{src:o.documentTextOutline,slot:"start"},null,8,["src"]),(0,i.bF)(F,{to:"/page/rules-courier"},{default:(0,i.k6)((()=>[(0,i.eW)("Правила пользования для курьера")])),_:1})])),_:1})])),_:1})])):(0,i.Q3)("",!0)])),_:1})}t(3110);var c=t(972),_=t(5480),m=t(2311),b=t.n(m),k=t(5538),f=t(8701),h=t(1003),g={components:{imageTileComp:h.A,IonTextarea:c.nc,IonInput:c.$w,IonCard:c.b_,IonCardHeader:c.ME,IonCardTitle:c.tN,IonCardContent:c.I9,IonGrid:c.lO,IonRow:c.ln,IonCol:c.hU,IonLabel:c.he,IonItem:c.uz,IonButton:c.Jm,IonList:c.nf,IonCheckbox:c.eY,IonText:c.IO,IonItemDivider:c.Dg,IonToggle:c.BY,IonIcon:c.iq},setup(){return{cameraOutline:_.GOB,trashOutline:_.P1A,searchOutline:_.jBE,documentTextOutline:_.pXZ}},data(){var e,l;return{other_courier_id:null===(e=this.$route)||void 0===e||null===(l=e.query)||void 0===l?void 0:l.courier_id,courier:null,isAdmin:f.A.isAdmin(),contractAccepted:0,is_deleted:0,is_disabled:0}},ionViewDidEnter(){var e,l,t,i;this.other_courier_id!=(null===(e=this.$route)||void 0===e||null===(l=e.query)||void 0===l?void 0:l.courier_id)&&(this.other_courier_id=null===(t=this.$route)||void 0===t||null===(i=t.query)||void 0===i?void 0:i.courier_id,this.itemGet())},mounted(){this.itemGet()},computed:{message(){var e,l;return null!==(e=this.courier)&&void 0!==e&&e.deleted_at?"Анкета не активна и будет удалена. Вы можете еще отменить удаление":1==(null===(l=this.courier)||void 0===l?void 0:l.is_disabled)?"Анкета не активна и находится на рассмотрении у администратора":null},messageClass(){var e,l;return null!==(e=this.courier)&&void 0!==e&&e.deleted_at?"deleted":1==(null===(l=this.courier)||void 0===l?void 0:l.is_disabled)?"disabled":null},imageClass(){var e,l;return 1==(null===(e=this.courier)||void 0===e||null===(l=e.images[0])||void 0===l?void 0:l.is_disabled)?"image_disabled":""}},methods:{async itemGet(){this.other_courier_id?this.courier=await b().post(k.A.state.hostname+"Courier/itemGet",{courier_id:this.other_courier_id}):this.courier=await f.A.courier.get(),this.itemParseFlags()},itemParseFlags(){this.courier&&(this.is_deleted=null==this.courier.deleted_at?0:1,this.is_disabled=0==this.courier.is_disabled?0:1)},async itemCreate(){try{await b().post(k.A.state.hostname+"Courier/itemCreate"),await f.A.get("full"),this.courier=f.A.courier.data}catch{this.$flash("Не удалось зарегистрироваться как курьер")}},async itemDelete(e){const l=e?"itemDelete":"itemUnDelete";try{await b().post(k.A.state.hostname+"Courier/"+l,{courier_id:this.courier.courier_id}),this.courier.deleted_at=e?1:null}catch{this.itemGet()}},async itemDisable(e){if(this.courier.is_disabled!=e)try{await b().post(k.A.state.hostname+"Courier/itemDisable",{courier_id:this.courier.courier_id,is_disabled:e}),this.courier.is_disabled=e}catch{this.itemGet()}},async uploadImage(e){let l=new FormData;l.append("files[]",e.target.files[0]),l.set("image_holder_id",this.courier.courier_id);const t={url:k.A.state.hostname+"Courier/fileUpload",type:"POST",data:l,processData:!1,contentType:!1};try{await b().ajax(t),this.itemGet()}catch(i){this.$flash("Не удалось загрузить фото")}},uploadImageTrigger(){b()("#courier_foto_upload").trigger("click")},async updateCourier(){try{return await b().post(k.A.state.hostname+"Courier/itemUpdate",JSON.stringify(this.courier))}catch(t){var e,l;const i=JSON.parse(null===(e=t.responseJSON)||void 0===e||null===(l=e.messages)||void 0===l?void 0:l.error);i.courier_tax_num&&this.$flash("Неверный формат ИНН")}}}},F=t(6262);const p=(0,F.A)(g,[["render",s],["__scopeId","data-v-9bfc0dca"]]);var v=p}}]);
//# sourceMappingURL=3947.8e110a1c.js.map