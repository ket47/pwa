{"version":3,"file":"js/429.299114e0.js","mappings":"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","sources":["webpack://tezkel-delivery/./src/views/OrderList.vue","webpack://tezkel-delivery/./src/components/CourierJobPreview.vue","webpack://tezkel-delivery/./src/components/CourierJobPreview.vue?3b44","webpack://tezkel-delivery/./src/views/OrderList.vue?7649"],"sourcesContent":["<template>\r\n  <base-layout page-default-back-link=\"/home\" page-title=\"Заказы\">\r\n        <ion-segment swipe-gesture=\"true\" v-model=\"orderType\" @ionChange=\"listTypeChanged($event)\">\r\n            <ion-segment-button value=\"jobs\" v-if=\"courierJobsInclude\">\r\n                Задания\r\n            </ion-segment-button>\r\n            <ion-segment-button value=\"active\">\r\n                Активные\r\n            </ion-segment-button>\r\n            <ion-segment-button value=\"done\">\r\n                Исполненые\r\n            </ion-segment-button>\r\n        </ion-segment>\r\n        <ion-list v-if=\"orderList\">\r\n            <div v-for=\"order in orderListComputed\" :key=\"order.order_id\" @click=\"itemClick(order)\">\r\n                <ion-item detail lines=\"none\">\r\n                    <ion-icon slot=\"start\" :icon=\"order.icon\"/>\r\n                    <ion-label>{{order.store_name}} #{{order.order_id}}</ion-label>\r\n                </ion-item>\r\n                <ion-item lines=\"full\">\r\n                    <ion-text>\r\n                        <ion-label>\r\n                            <ion-chip color=\"medium\">{{order.order_sum_total}}{{$heap.state.currencySign}}</ion-chip>\r\n                            <ion-chip color=\"primary\" v-if=\"order.stage_current_name\">\r\n                                <ion-icon :icon=\"checkmarkOutline\"></ion-icon>\r\n                                <ion-label color=\"dark\">{{order.stage_current_name}}</ion-label>\r\n                            </ion-chip>\r\n                        </ion-label>\r\n                    </ion-text>\r\n                    <ion-thumbnail slot=\"end\" v-if=\"order.image_hash\">\r\n                        <ion-img style=\"border-radius:10px;\" :src=\"`${$heap.state.hostname}image/get.php/${order.image_hash}.150.150.webp`\"/>\r\n                    </ion-thumbnail>\r\n                </ion-item>\r\n            </div>\r\n        </ion-list>\r\n        <ion-list v-if=\"jobList\">\r\n            <div v-for=\"order in jobListComputed\" :key=\"order.order_id\" @click=\"itemClick(order)\">\r\n\r\n            <ion-item detail lines=\"none\">\r\n                <ion-icon slot=\"start\" :icon=\"rocketOutline\"/>\r\n                <ion-label>{{order.store_name}}</ion-label>\r\n            </ion-item>\r\n            <ion-item lines=\"full\">\r\n                <ion-text>\r\n                    <ion-label>\r\n                        <ion-chip color=\"medium\">{{order.order_sum_total}}{{$heap.state.currencySign}}</ion-chip>\r\n                        <ion-chip color=\"primary\" v-if=\"order.distance_km\">{{order.distance_km}}</ion-chip>\r\n                    </ion-label>\r\n                    <ion-note>{{order.location_address}}</ion-note>\r\n                </ion-text>\r\n            </ion-item>\r\n            </div>\r\n        </ion-list>\r\n        <div v-if=\"!orderList && !jobList\" style=\"display:flex;align-items:center;justify-content:center;height:100%\">\r\n            <div style=\"width:max-content;text-align:center\">\r\n                <ion-icon :icon=\"sparklesOutline\" size=\"large\"></ion-icon>\r\n                <ion-label>Заказов нет</ion-label><br>\r\n            </div>\r\n        </div>\r\n\r\n  </base-layout>\r\n</template>\r\n<script>\r\nimport { \r\n    modalController,\r\n    IonSegment,\r\n    IonSegmentButton,\r\n    IonIcon,\r\n    IonAvatar,\r\n    IonText,\r\n    IonLabel,\r\n    IonItem,\r\n    IonList,\r\n    IonChip,\r\n    IonNote,\r\n    IonImg,\r\n    IonThumbnail,\r\n}                   from '@ionic/vue';\r\nimport {\r\n    storefrontOutline,\r\n    sparklesOutline,\r\n    timeOutline,\r\n    rocketOutline,\r\n    ribbonOutline,\r\n    checkmarkOutline,\r\n}                   from 'ionicons/icons';\r\nimport ordersIcon   from \"@/assets/icons/orders.svg\";\r\nimport Order        from '@/scripts/Order.js';\r\nimport User         from '@/scripts/User.js';\r\nimport Topic        from '@/scripts/Topic.js';\r\nimport router       from '@/router';\r\nimport CourierJobPreview    from '@/components/CourierJobPreview.vue';\r\n\r\nexport default {\r\n    components: {\r\n    IonSegment,\r\n    IonSegmentButton,\r\n    IonIcon,\r\n    IonAvatar,\r\n    IonText,\r\n    IonLabel,\r\n    IonItem,\r\n    IonList,\r\n    IonChip,\r\n    IonNote,\r\n    IonImg,\r\n    IonThumbnail,\r\n    },\r\n    setup() {\r\n      return { sparklesOutline,storefrontOutline,timeOutline,ordersIcon,rocketOutline,ribbonOutline,checkmarkOutline, };\r\n    },\r\n    data(){\r\n        return {\r\n            jobList:null,\r\n            orderList:null,\r\n            orderType:null,\r\n            courierJobsInclude:null,\r\n            clock:null\r\n        };\r\n    },\r\n    computed:{\r\n        orderListComputed(){\r\n            for(let order of this.orderList){\r\n                switch(order.user_role){\r\n                    case 'customer':\r\n                        order.icon=ordersIcon\r\n                        break;\r\n                    case 'admin':\r\n                        order.icon=ribbonOutline\r\n                        break;\r\n                    case 'courier':\r\n                        order.icon=rocketOutline\r\n                        break;\r\n                    case 'supplier':\r\n                        order.icon=storefrontOutline\r\n                        break;\r\n                }\r\n            }\r\n            return this.orderList;\r\n        },\r\n        jobListComputed(){\r\n            for(let order of this.jobList){\r\n                if( !order.location_address ){\r\n                    order.location_address='';\r\n                }\r\n                order.location_address=order.location_address.split(',').reverse().join(',');\r\n                if( order.distance ){\r\n                    order.distance_km=Math.round(order.distance/1000)+'км';\r\n                } else {\r\n                    order.distance_km='';\r\n                }\r\n            }\r\n            return this.jobList;\r\n        }\r\n    },\r\n    created(){\r\n        let self=this;\r\n        Topic.on('courierStatusChange',function(){\r\n            self.courierReadinessCheck();\r\n        });\r\n        self.courierReadinessCheck();\r\n    },\r\n    methods:{\r\n        courierReadinessCheck(){\r\n            const courierJobsInclude=User.courier.status=='ready'?1:0;\r\n            if(this.courierJobsInclude===courierJobsInclude){\r\n                return\r\n            }\r\n            this.courierJobsInclude=courierJobsInclude\r\n            if(this.courierJobsInclude==0){\r\n                this.orderType='active';\r\n            } else {\r\n                this.orderType='jobs';\r\n            }\r\n        },\r\n        async listLoad(listType){\r\n            this.autoReload(listType);\r\n            if( listType=='jobs' ){\r\n                this.listJobLoad();\r\n                return;\r\n            }\r\n            let order_group_type='customer_finish';\r\n            if( listType=='active' ){\r\n                order_group_type='active_only';\r\n            }\r\n            this.orderList=await Order.api.listLoad(order_group_type);\r\n            this.jobList=null;\r\n        },\r\n        listTypeChanged(e){\r\n            const listType=e.target.value;\r\n            this.listLoad(listType);\r\n        },\r\n        async listJobLoad(){\r\n            try{\r\n                const courier_id=User.courier?.data?.courier_id;\r\n                this.jobList=await Order.api.listJobGet(courier_id);\r\n                this.orderList=null;\r\n            } catch(err){\r\n                const message=err.responseJSON?.messages?.error;\r\n                if(message=='notready'){\r\n                    User.courier.status='notready';\r\n                    this.courierReadinessCheck();\r\n                }\r\n            }\r\n        },\r\n        autoReload(listType){\r\n            clearTimeout(this.clock);\r\n            const self=this;\r\n            const timeout=1000*60*2;\r\n            if(listType=='jobs' || listType=='active'){\r\n                this.clock=setTimeout(()=>{\r\n                    self.listLoad(listType);\r\n                },timeout);\r\n            }\r\n        },\r\n        ionViewDidEnter() {\r\n            this.courierReadinessCheck();\r\n            if(this.orderType=='active'){\r\n                this.listLoad('active');\r\n            } else {\r\n                this.orderType='active'\r\n            }\r\n        },\r\n        ionViewDidLeave() {\r\n            clearTimeout(this.clock);\r\n        },\r\n        async itemClick(order){\r\n            if( order.is_courier_job ){\r\n                const modal = await modalController.create({\r\n                    component: CourierJobPreview,\r\n                    componentProps:{orderData:order},\r\n                    initialBreakpoint: 0.5,\r\n                    breakpoints: [0, 0.5, 0.75]\r\n                    });\r\n                const dismissFn=function(){\r\n                    modal.dismiss();\r\n                };\r\n                Topic.on('dismissModal',dismissFn);\r\n                return modal.present();\r\n            }\r\n            this.itemOpen(order.order_id);\r\n        },\r\n        itemOpen(order_id){\r\n            router.push(`order-${order_id}`);\r\n        }\r\n    }\r\n}\r\n</script>","<style scoped>\r\n    ion-icon{\r\n        font-size:40px;\r\n        color:var(--ion-color-medium);\r\n    }\r\n    .center_chip{\r\n        text-align:center;\r\n        width: 100%;\r\n    }\r\n</style>\r\n<template>\r\n    <ion-list v-if=\"orderData\">\r\n        <ion-item lines=\"none\">\r\n            <ion-avatar slot=\"start\">\r\n                <ion-icon :icon=\"locationOutline\" style=\"font-size:30px\"/>\r\n            </ion-avatar>\r\n            <ion-label>\r\n                <ion-text color=\"primary\">Курьер {{$heap.state.user.user_name}}</ion-text>\r\n            </ion-label>            \r\n        </ion-item>\r\n\r\n        <ion-item lines=\"none\">\r\n            <div class=\"center_chip\">\r\n                <ion-chip color=\"success\">\r\n                    <ion-text>{{orderData?.distance_km}}</ion-text>\r\n                </ion-chip>\r\n            </div>      \r\n        </ion-item>\r\n\r\n        <ion-item lines=\"none\">\r\n            <ion-avatar slot=\"start\">\r\n                <ion-icon :icon=\"storefrontOutline\" style=\"font-size:30px;\"/>\r\n            </ion-avatar>\r\n            <ion-text>\r\n                <ion-label color=\"primary\">{{orderData.store_name}}</ion-label>\r\n                <ion-note>{{orderData.location_address}}</ion-note>\r\n            </ion-text>\r\n        </ion-item>\r\n\r\n        <ion-item v-if=\"start_finish_distance_km\" lines=\"none\">\r\n            <div class=\"center_chip\">\r\n                <ion-chip color=\"success\">\r\n                    <ion-text>{{start_finish_distance_km}}</ion-text>\r\n                </ion-chip>\r\n            </div>      \r\n        </ion-item>\r\n        <ion-item v-else lines=\"none\">\r\n            <div class=\"center_chip\">\r\n                <ion-chip color=\"success\">\r\n                    <ion-skeleton-text animated style=\"width: 100%\"></ion-skeleton-text>\r\n                </ion-chip>\r\n            </div>      \r\n        </ion-item>\r\n\r\n\r\n        <ion-item v-if=\"job\">\r\n            <ion-avatar slot=\"start\">\r\n                <ion-icon :icon=\"flagOutline\" style=\"font-size:30px;\"/>\r\n            </ion-avatar>\r\n            <ion-text>\r\n                <ion-label color=\"primary\">Покупатель</ion-label>\r\n                <ion-note>{{job.finish_location_address}}</ion-note>\r\n            </ion-text>           \r\n        </ion-item>\r\n        <ion-item v-else>\r\n            <ion-avatar slot=\"start\">\r\n                <ion-icon :icon=\"flagOutline\" style=\"font-size:30px;\"/>\r\n            </ion-avatar>\r\n            <ion-label>\r\n                <ion-text color=\"primary\">Покупатель</ion-text>\r\n                <ion-skeleton-text animated style=\"width: 60%\"></ion-skeleton-text>\r\n                <ion-skeleton-text animated style=\"width: 80%\"></ion-skeleton-text>\r\n            </ion-label>           \r\n        </ion-item>\r\n\r\n        <ion-item-group v-if=\"job\">\r\n            <ion-item>\r\n                <ion-text>\r\n                    Бонус {{job.order_sum_delivery}}\r\n                </ion-text>\r\n            </ion-item>\r\n            <ion-button @click=\"deliveryStart()\" expand=\"full\">Начать доставку</ion-button>\r\n        </ion-item-group>\r\n    </ion-list>\r\n</template>\r\n<script>\r\nimport { \r\n    IonList,\r\n    IonItemGroup,\r\n    IonTitle,\r\n    IonButton,\r\n    IonSkeletonText,\r\n    IonNote,\r\n    IonChip,\r\n    IonItem,\r\n    IonLabel,\r\n    IonText,\r\n    IonAvatar,\r\n    IonIcon,\r\n}                   from '@ionic/vue';\r\nimport {\r\n    storefrontOutline,\r\n    locationOutline,\r\n    flagOutline\r\n    }               from 'ionicons/icons';\r\nimport User         from '@/scripts/User.js';\r\nimport Order        from '@/scripts/Order.js';\r\nimport Topic        from '@/scripts/Topic.js';\r\n\r\n\r\nexport default({\r\n    props:['orderData'],\r\n    components:{\r\n    IonList,\r\n    IonItemGroup,\r\n    IonTitle,\r\n    IonButton,\r\n    IonSkeletonText,\r\n    IonNote,\r\n    IonChip,\r\n    IonItem,\r\n    IonLabel,\r\n    IonText,\r\n    IonAvatar,\r\n    IonIcon,\r\n    },\r\n    setup() {\r\n        return { \r\n            storefrontOutline,\r\n            locationOutline,\r\n            flagOutline \r\n            }\r\n    },\r\n    data(){\r\n        return {\r\n            job:null\r\n        };\r\n    },\r\n    mounted(){\r\n        this.jobGet()\r\n    },\r\n    computed:{\r\n        start_finish_distance_km(){\r\n            if(!this.job?.start_finish_distance){\r\n                return '-';\r\n            }\r\n            return Math.round(this.job?.start_finish_distance/1000)+'км';\r\n        }\r\n    },\r\n    methods:{\r\n        async jobGet(){\r\n            try{\r\n                let job=await Order.api.itemJobGet(this.orderData.order_id);\r\n                job.finish_location_address=job.finish_location_address.split(',').reverse().join(',');\r\n                this.job=job;\r\n                console.log(this.job)\r\n            } catch(err){\r\n                console.log(err)\r\n                const message=err.responseJSON?.messages?.error;\r\n                if(message=='notfound'){\r\n                    this.$flash(\"Задание не найдено\");\r\n                    return\r\n                }\r\n                if(message=='notready'){\r\n                    this.$flash(\"Смена курьера не открыта\");\r\n                    return\r\n                }\r\n            }\r\n        },\r\n        async deliveryStart(){\r\n            const courier_id=User.courier?.data?.courier_id;\r\n            try{\r\n                await Order.api.itemJobStart(this.orderData.order_id,courier_id);\r\n                this.$router.push('order-'+this.orderData.order_id);\r\n\r\n            } catch(err){\r\n                const message=err.responseJSON?.messages?.error;\r\n                if(message=='notfound'){\r\n                    this.$flash(\"Задание не найдено\");\r\n                }\r\n                if(message=='notready'){\r\n                    this.$flash(\"Смена курьера не открыта\");\r\n                }\r\n                if(message=='notsearching' || message=='idle'){\r\n                    this.$flash(\"Заданию уже назначен курьер\");\r\n                }\r\n            }\r\n            Topic.publish('dismissModal');\r\n        }\r\n    }\r\n})\r\n</script>\r\n","import { render } from \"./CourierJobPreview.vue?vue&type=template&id=270793c6&scoped=true\"\nimport script from \"./CourierJobPreview.vue?vue&type=script&lang=js\"\nexport * from \"./CourierJobPreview.vue?vue&type=script&lang=js\"\n\nimport \"./CourierJobPreview.vue?vue&type=style&index=0&id=270793c6&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-270793c6\"]])\n\nexport default __exports__","import { render } from \"./OrderList.vue?vue&type=template&id=ab337bd2\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","_createElementVNode","_createBlock","_component_base_layout","_createVNode","_component_ion_segment","$data","$event","onIonChange","$options","_component_ion_segment_button","value","_component_ion_list","key","_createElementBlock","_Fragment","_renderList","order","order_id","onClick","_component_ion_item","detail","lines","_component_ion_icon","slot","icon","_component_ion_label","store_name","_toDisplayString","_component_ion_text","_component_ion_chip","color","order_sum_total","_ctx","state","currencySign","stage_current_name","$setup","image_hash","_component_ion_thumbnail","_component_ion_img","src","hostname","distance_km","_component_ion_note","location_address","size","_hoisted_9","class","$props","_component_ion_avatar","user","user_name","_component_ion_skeleton_text","animated","finish_location_address","_component_ion_item_group","order_sum_delivery","_component_ion_button","expand","props","components","IonList","IonItemGroup","IonTitle","IonButton","IonSkeletonText","IonNote","IonChip","IonItem","IonLabel","IonText","IonAvatar","IonIcon","setup","storefrontOutline","locationOutline","flagOutline","data","job","mounted","this","jobGet","computed","start_finish_distance_km","start_finish_distance","Math","round","methods","async","Order","orderData","split","reverse","join","console","log","err","message","responseJSON","messages","error","$flash","courier_id","User","$router","push","Topic","__exports__","IonSegment","IonSegmentButton","IonImg","IonThumbnail","sparklesOutline","timeOutline","ordersIcon","rocketOutline","ribbonOutline","checkmarkOutline","jobList","orderList","orderType","courierJobsInclude","clock","orderListComputed","user_role","jobListComputed","distance","created","self","courierReadinessCheck","listType","autoReload","listJobLoad","order_group_type","listTypeChanged","e","target","listLoad","clearTimeout","timeout","setTimeout","ionViewDidEnter","ionViewDidLeave","is_courier_job","modal","modalController","component","CourierJobPreview","componentProps","initialBreakpoint","breakpoints","dismissFn","dismiss","present","itemOpen","router","render"],"sourceRoot":""}