{"version":3,"file":"js/280.268872a1.js","mappings":"mRAgBI,QAMW,GANFA,QAAS,EAAAA,QAAUC,UAAW,oCAA6CC,MAAM,EAAMC,OAAO,QAAvG,C,kBACkB,IAA0B,gBAAxC,QAIe,mBAJe,EAAAC,WAATC,K,WAArB,QAIe,GAJ2BC,IAAKD,EAAME,YAArD,C,kBACE,IAEM,EAFN,OAEM,OAFDC,MAAM,cAAeC,OAAK,mBAAa,EAAAC,WAAS,WAArD,EACE,OAAmK,OAA7JD,OAAK,uBAAiB,EAAAC,WAAS,UAAaC,IAAG,GAAK,EAAAC,MAAMC,MAAMC,yBAAyBT,EAAME,cAAuB,EAAT,EAAAG,WAAS,QAAqB,EAAT,EAAAA,WAAS,aAAjJ,YADF,M,KADF,kB,KADJ,e,uBAaJ,GACIK,WAAY,CACVC,OADU,IAEVC,YAAW,KAEbC,MAAO,CAAC,YAAY,aACpBC,QACE,MAAO,CACLnB,QAAS,CAAC,KAAS,S,UC9B3B,MAAMoB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S,+FC0Bab,MAAM,yB,GACFC,MAAA,kC,GAKJA,MAAA,oC,SACuEA,MAAA,mC,WACJ,O,GAE9DA,MAAA,oC,WAEC,O,GACDA,MAAA,mC,qGAfd,QAoBM,OApBAD,OAAK,QAAE,EAAAc,YAAaC,GAAE,oBAAsB,EAAAC,YAAYC,cAA9D,EAEI,OAKM,MALN,EAKM,EAJF,OAEM,MAFN,EAEM,EADF,QAAwF,GAAtEC,aAAa,WAAYF,YAAa,EAAAA,aAAxD,2BAEJ,QAA0J,GAAhJ,QAAK,eAAE,EAAAG,QAAQC,KAAI,WAAY,EAAAJ,YAAYC,eAAgBd,IAAG,GAAK,EAAAC,MAAMC,MAAMC,yBAAyB,EAAAU,YAAYjB,2BAA9H,mBAEJ,OAWM,MAXN,EAWM,CAVU,EAAAiB,YAAYK,eAAe,EAAAL,YAAYM,sBAAA,WAAnD,QAEO,OAFP,EAEO,EADH,OAAgE,kBAA3D,EAAAN,YAAYK,gBAAa,QAAI,EAAAjB,MAAMC,MAAMkB,cAAY,GACvD,MAFP,gBAGA,OAEO,OAFP,GAEO,QADD,EAAAP,YAAYM,sBAAmB,QAAI,EAAAlB,MAAMC,MAAMkB,cAAY,GAM/D,GAJF,OAEO,OAFP,GAEO,QADD,EAAAP,YAAYQ,cAAY,IAE9B,OAAyH,OAApHvB,MAAA,gBAAsB,QAAK,eAAE,EAAAkB,QAAQC,KAAI,WAAY,EAAAJ,YAAYC,iBAAtE,QAAwF,EAAAD,YAAYS,cAAY,MAlBxH,M,wBA2BJ,GACIlB,WAAW,CACXmB,OADW,KAEXC,eAAc,KAEdjB,MAAM,CAAC,eACPkB,SAAS,CACLd,aACI,OAAGe,KAAKb,YAAYc,WACT,UAEmB,GAA3BD,KAAKb,YAAYe,SACT,WAERF,KAAKb,YAAYgB,YAAcH,KAAKb,YAAYiB,iBAAiB,EACzD,SAEJ,M,UCtEnB,MAAMrB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S,mKC+JOZ,MAAA,oD,GACED,MAAM,c,WAegE,kB,UAkBnE,OAAyE,OAApEC,MAAA,6DAA6D,W,GAK7DA,MAAA,+D,GACEA,MAAA,iD,GAGAA,MAAA,oE,WACG,c,GAAaA,MAAA,oC,GAGlBA,MAAA,oD,SAC4BA,MAAA,uB,SAIWA,MAAA,wB,WAUtB,O,WAQT,O,WAIA,W,SAWGD,MAAM,kC,snBA3FhC,QAwJc,GAvJZ,yBAAuB,QACvB,aAAW,aACVkC,gBAAiB,EAAAC,SACjB,aAAU,KAAOC,UAAUC,YAAU,WAJxC,C,kBAMA,IAiJQ,EAjJR,OAiJQ,MAjJR,EAiJQ,EAhJN,OAkFM,MAlFN,EAkFM,EAjFJ,QAA4E,GAA7DzC,UAAW,EAAAwC,UAAUE,OAASpC,UAAW,KAAxD,uBACA,QAuDW,GAvDDD,MAAA,6BAAgC,C,kBACxC,IASU,EATV,QASU,Q,kBARR,IAEU,EAFV,QAEU,Q,kBADR,IAAsF,EAAtF,QAAsF,GAA5EsC,MAAM,UAAUtC,MAAA,sBAA1B,C,kBAAiD,IAA0B,mBAAvB,EAAAmC,UAAUC,YAAU,M,gBAE1E,QAIU,GAJDpC,MAAA,wBAAwB,C,kBAC/B,IAEc,CAFoE,GAArB,EAAAmC,UAAUI,cAAW,WAAlF,QAEc,G,MAFAC,GAAE,eAAmB,EAAAL,UAAUM,UAA7C,C,kBACE,IAAoE,EAApE,QAAoE,GAAzDC,KAAM,EAAAC,gBAAiB3C,MAAA,sBAAlC,oB,KADF,8B,eAKgC,GAArB,EAAAmC,UAAUI,cAAW,WAApC,QAIU,W,kBAHR,IAEU,EAFV,QAEU,Q,kBADV,IAAgG,EAAhG,QAAgG,GAAnF,QAAK,eAAE,EAAAK,qBAAqBN,MAAM,QAAQO,OAAO,QAA9D,C,kBAAqE,IAAc,M,0BAFrF,gBAKA,QAOU,GAPD7C,MAAA,sBAAsB,C,kBAC7B,IAEU,EAFV,QAEU,Q,kBADR,IAAiC,mBAA9B,EAAAmC,UAAUW,mBAAiB,M,OACtB,SACV,QAEU,GAFiC9C,MAAA,wBAAwB,C,kBAAC,IACtD,UADsD,iBACtD,QAAG,EAAAmC,UAAUY,gBAAiB,OAC5C,M,KAFA,YAAiB,EAAAZ,UAAUY,qB,OAI7B,QAIU,Q,kBAHR,IAEU,EAFV,QAEU,Q,kBADR,IAAoD,EAApD,QAAoD,Q,kBAA1C,IAA+B,mBAA7B,EAAAZ,UAAUa,mBAAiB,M,yBAG3C,QAIU,Q,kBAHR,IAEU,EAFV,QAEU,Q,kBADR,IAAyE,CAAzE,K,gBAGJ,QAoBU,Q,kBAnBR,IAkBU,EAlBV,QAkBU,GAlBDhD,MAAA,sBAAsB,C,kBAC7B,IAOM,EAPN,OAOM,MAPN,EAOM,EANJ,OAEM,MAFN,EAEM,EADJ,QAAgH,GAAtGE,IAAI,iCAAiCF,MAAA,2DAEjD,OAEM,MAFN,EAEM,EADJ,OAA8F,gBAA9E,OAAuE,IAAvE,GAAuE,QAA3B,EAAAG,MAAMC,MAAM6C,WAAS,UAGrF,OAQM,MARN,EAQM,CAPO,EAAAd,UAAUe,WAAA,WAArB,QAEM,MAFN,GAEM,QADF,EAAAf,UAAUe,SAASC,SAAS,KAAC,QAAE,EAAAhB,UAAUe,SAASE,SAAS,QAC/D,KAFA,gBAGA,OAAyD,WAApD,aAAS,QAAE,EAAAjD,MAAMC,MAAMiD,iBAAiBC,KAAK,IAAC,GACxC,EAAAnB,UAAUoB,sBAAA,WAArB,QAEM,MAFN,EAAmE,cACxD,QAAE,EAAApB,UAAUoB,qBAAqB,KAC5C,KAFA,oB,yBAOR,QAuBsB,GAvBDvD,MAAA,gBAAkB,C,kBACrC,IAqBgB,EArBhB,QAqBgB,Q,kBApBd,IAEW,EAFX,QAEW,GAFDwD,KAAK,UAAQ,C,kBACrB,IAAqC,EAArC,QAAqC,GAA1BA,KAAK,OAAK,C,kBAAC,IAAG,M,gBAG3B,QAeW,GAfDA,KAAK,WAAS,C,kBACtB,IAEW,EAFX,QAEW,GAFDC,MAAM,QAAM,C,kBACpB,IAA4D,EAA5D,QAA4D,Q,kBAAlD,IAAuC,EAAvC,OAAuC,kBAAlC,EAAAtB,UAAUuB,oBAAkB,M,gBAE7C,QAGW,GAHDD,MAAM,QAAM,C,kBACpB,IAA0B,EAA1B,QAA0B,Q,kBAAf,IAAG,M,OACd,QAAkD,Q,kBAAvC,IAA2B,mBAAzB,EAAAtB,UAAUwB,eAAa,M,gBAEtC,QAGW,GAHDF,MAAM,QAAM,C,kBACpB,IAA8B,EAA9B,QAA8B,Q,kBAAnB,IAAO,M,OAClB,QAAgD,Q,kBAArC,IAAyB,mBAAvB,EAAAtB,UAAUyB,aAAW,M,gBAEpC,QAEW,GAFDH,MAAM,QAAM,C,kBACpB,IAAkE,EAAlE,QAAkE,Q,kBAAxD,IAA6C,mBAA3C,EAAAtB,UAAU0B,YAAS,GAAMC,kBAAgB,M,4CAOpD,EAAAC,cAAA,WAAX,QAwBM,MAxBN,EAwBM,EAvBJ,QAUc,G,WAVQ,EAAAC,sB,qCAAA,EAAAA,sBAAqB,GAAEC,WAAA,IAA7C,C,kBAEI,IAAiC,gBADnC,QAQqB,mBAPE,EAAAF,aAAdG,K,WADT,QAQqB,GANlBrE,IAAKqE,EAAWC,SAChBC,MAAOF,EAAWC,SAClB,QAAK,GAAE,EAAAE,kBAAkBH,EAAWC,U,WACpCG,IAAG,aAAiBJ,EAAWC,UALlC,C,kBAOE,IAAkD,EAAlD,QAAkD,Q,kBAAvC,IAA2B,mBAAxBD,EAAWK,YAAU,M,KAAnC,S,KAPF,sC,KADF,kBAWe,EAAAR,YAAY,EAAAC,yBAAZ,WAAf,QAWU,G,MAXyCjE,MAAM,oBAAzD,C,kBAII,IAAiE,gBAHnE,QASW,mBANY,EAAAgE,YAAY,EAAAC,uBAAuBQ,UAAjDN,I,qBAHT,QASW,GART5B,MAAM,UAGLzC,IAAKqE,EAAWC,S,WAChBG,IAAG,cAAkBJ,EAAWC,SAChC,QAAK,GAAE,EAAAM,SAASP,EAAWC,WAN9B,C,kBAQE,IAAkE,EAAlE,QAAkE,GAAvD7B,MAAM,WAAS,C,kBAAC,IAA2B,mBAAxB4B,EAAWK,YAAU,M,KAAnD,S,KARF,0BAEU,EAAAG,cAAcR,EAAWC,eAFnC,S,QADF,mBAZF,gBA0BA,QAMK,GANUpE,MAAM,mB,WAA4B,EAAA4E,c,qCAAA,EAAAA,cAAa,GAAEC,YAAY,2BACzE,QAAK,eAAY,iBAAc,C,WAA0B,EAAO,OAAO,M,kDAD1E,uBAQkB,EAAAb,cAAA,WAAlB,QAA6H,G,MAA7Fc,UAAW,EAAAd,YAAce,QAAUX,IAAc,EAAAE,kBAAkBF,KAAnG,iDAEc,EAAAJ,cAAA,WAAd,QAsBS,G,MAtBkBgB,MAAM,OAAQC,QAAS,EAAAC,UAAWlF,MAAM,sBAAuB,cAAW,eAAE,EAAAmF,mBAAmBC,KAA1H,C,kBAEE,IAAe,mBAAb,EAAApB,aAAa,IACf,KADe,aACf,QAkBe,mBAlB2B,EAAAA,aAArBqB,K,WAArB,QAkBe,GAlByCvF,IAAKuF,EAAkBjB,UAA/E,C,kBAEE,IAcW,EAdX,QAcW,GAdDpE,MAAM,gBAAc,C,kBAE1B,IAAgD,gBADlD,QAYU,mBAXaqF,EAAkBZ,UAAhCN,K,WADT,QAYU,GAVPrE,IAAKqE,EAAWC,S,WAChBG,IAAG,SAAaJ,EAAWC,SAC3B,gBAAeD,EAAWC,UAJ7B,C,kBAME,IAEU,EAFV,QAEU,GAFDpE,MAAM,cAAcsF,KAAK,MAAlC,C,kBACE,IAAiD,EAAjD,OAAiD,eAA1C,OAAkC,kBAA5BnB,EAAWK,YAAU,Q,KADpC,OAGA,QAEU,GAFAc,KAAK,MAAI,C,kBACjB,IAA+E,EAA/E,QAA+E,GAAhEC,YAAa,EAAAZ,cAAcR,EAAWC,WAArD,2B,KADF,S,KATF,oC,KADF,S,KAFF,kB,KAHF,qC,KA/HF,oC,8DClIOrD,GAAG,oB,wIAAR,QAOM,MAPN,EAOM,gBANF,QAKM,mBALe,EAAA+D,WAATU,K,WAAZ,QAKM,OAL2B1F,IAAK0F,EAAMpB,SAAY,QAAK,IAAgB,EAAAW,QAAQS,EAAMpB,WAA3F,EACI,QAEgB,GAFDnE,MAAA,8BAA8B,C,kBACzC,IAA0I,EAA1I,QAA0I,GAAjIA,MAAA,iDAAkDE,IAAG,GAAK,EAAAC,MAAMC,MAAMC,yBAAyBkF,EAAMzF,2BAA9G,mB,KADJ,OAGA,QAAgF,GAArEE,MAAA,sCAAoC,C,kBAAC,IAAoB,mBAAlBuF,EAAMhB,YAAU,M,KAAlE,OAJJ,gBAgBR,OAAe,QAAgB,CAC3BjE,WAAW,CACPmB,OADO,KAEP+D,aAFO,KAGPC,SAAQ,MAEZhF,MAAO,CAAC,YAAa,a,UChDzB,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,SCAOZ,MAAM,4B,2EAAX,QAIM,MAJN,EAIM,gBAHJ,QAEM,mBAFqB,EAAAuF,aAAfvE,K,WAAZ,QAEM,OAFmClB,IAAKkB,EAAYC,YAA1D,EACE,QAA0C,GAA3BD,YAAaA,GAAW,6BADzC,Q,cASJ,GACEN,MAAO,CAAC,eACRH,WAAY,CACVoF,YAAW,MCff,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,uCJ4VA,MAAMT,EAAY,CAChBU,cAAe,EACfC,YAAY,EACZC,gBAAgB,EAChBC,aAAc,EACdC,MAAO,IACPC,qBAAqB,EACrBC,YAAY,EACZC,+BAA+B,GAGjC,OAAe,QAAgB,CAC7B5F,WAAY,CACV6F,QADU,KAEVC,OAFU,KAGVC,QAHU,KAIVC,OAJU,KAKVC,QALU,KAMVC,QANU,KAOVf,SAPU,KAQVgB,iBARU,KASVC,WATU,KAUVC,QAVU,KAWVC,aAXU,KAYVC,UAZU,KAaVC,aAbU,KAcVC,kBAdU,KAeVC,QAfU,KAgBVC,QAhBU,KAiBVC,YAjBU,IAkBV3G,OAlBU,IAmBVC,YAnBU,IAoBV2G,UApBU,EAqBVC,YAAW,GAEb1G,QACE,MAAO,CACL2G,OADK,MAEL1E,gBAFK,MAGLsC,UAAAA,EACAqC,aAAa,CAAC,QAGlBC,OACE,MAAO,CACLC,QAAS5F,KAAK6F,OAAOC,OAAO5G,GAC5B6G,MAAM/F,KAAK6F,OAAOE,MAClBhD,cAAe,GACfxC,UAAW,GACXuC,cAAe,GACfX,YAAa,KACbC,sBAAuB,EACvB4D,kBAAmB,IACnBC,mBAAkB,IAGtBC,QAAS,CACPC,gBACE,IAAGnG,KAAKiG,kBAGR,IACEjG,KAAKiG,mBAAkB,EACvB,MAAMG,QAAY,SAAa,GAAEC,EAAA,gCAAoC,CAACxF,SAAUb,KAAK4F,QAAQU,iBAAiB,IAC9GtG,KAAKO,UAAYP,KAAKuG,YAAYH,GAClCpG,KAAK4F,QAAUQ,EAAMvF,SACrBb,KAAKwG,aAAa,CAAE3F,SAAUb,KAAK4F,UACnCS,EAAA,SAAY,kBAAkBrG,KAAKO,WACnCP,KAAKiG,mBAAkB,EACvB,MAAMQ,GACNC,QAAQC,IAAIF,KAGhBF,YAAYhG,GACNA,EAAUqG,iBAAiBC,cAC7BtG,EAAUW,kBAAoBX,EAAUqG,iBAAiBC,aAE3D,IAAIC,EAAO,IAAIC,KAGf,OAFAxG,EAAUY,eAAiBZ,EAAU,qBAAuBuG,EAAKE,UACjEzG,EAAUe,SAAS2F,EAAA,oBAAwB1G,GACpCA,GAET4F,qBAAqBe,EAAS,IAO5B,GANAA,EAAOrG,SAAWb,KAAK4F,QACvBsB,EAAOC,UAAY,EACY,GAA5BnH,KAAKO,UAAUI,cAChBuG,EAAOE,YAAY,EACnBF,EAAOG,WAAW,GAEhBH,EAAOI,YAAmC,IAArBJ,EAAOI,WAE9B,YADAtH,KAAKwG,aAAa,CAAE3F,SAAUb,KAAK4F,UAGrC,IAAI2B,EAAS,GACb,IACEA,QAAe,SAAYlB,EAAA,iBAAsB,kBAAmBa,GACrE,MAAMT,IAEPzG,KAAKwH,mBAAmBD,EAASE,cACjCzH,KAAK0H,gBAEL,IAAIC,EAAK3H,KACT4H,YAAW,KACTD,EAAKE,kBAGTL,mBAAmBC,GAEjB,IAAK,IAAIK,KADT9H,KAAK8C,cAAgB,GACD2E,GACdzH,KAAKmC,cACFnC,KAAK8C,cAAcgF,EAAQvF,UAAU,KACxCvC,KAAK8C,cAAcgF,EAAQvF,UAAU,GAAK,KAG9CvC,KAAK8C,cAAcgF,EAAQvF,UAAU,GAAGhD,KAAKuI,IAGjD3B,0BACE,IACE,MAAM4B,EAAQ,CACZlH,SAASb,KAAK4F,QACdhG,aAAa,cACbJ,cAAc,IACdwI,oBAAoB,KAEhB5I,QAAiB,SAAa,GAAEiH,EAAA,qCAAwC0B,GAC9E/H,KAAKV,QAAQC,KAAM,gBAAeH,KAClCY,KAAKiI,OAAO,+CACb,MACCjI,KAAKiI,OAAO,8BAOhB9B,mBAAmBe,GACjB,IACElH,KAAKmC,kBAAkB,QAAY,GAAEkE,EAAA,uCAA2C,CAACxF,SAAUqG,EAAOrG,WAClGb,KAAKkI,iBACN,MAAMzB,MAETiB,gBACK1H,KAAK8C,cAAc,KACpB9C,KAAKmC,YAAY,GAAG,CAClBI,SAAS,QACTI,WAAW,SACXzE,WAAW,GACX0E,SAAS,CACP,EAAI,CACFL,SAAS,EACTI,WAAW,SACXwF,gBAAgB,EAChBC,WAAW,GACXlK,WAAW,QAMrB2J,cACE,IAAIQ,EAAgBrI,KAAK+F,MAAMsC,gBAC3BC,EAAatI,KAAK+F,MAAMuC,aAC5B,GAAIA,EACFC,EAAW,IAAI,IAAIC,KAAUxI,KAAKmC,YAChC,IAAI,IAAIsG,KAAOzI,KAAKmC,YAAYqG,GAAQ5F,SACtC,GAAG6F,GAAKH,EAAa,CACnBD,EAAgBG,EAChB,MAAMD,EAKVF,EACFC,EAAaI,OAAOC,KAAK3I,KAAKmC,YAAYkG,GAAiBzF,UAAU,GAErEyF,EAAkBK,OAAOC,KAAK3I,KAAKmC,aAAa,GAElDnC,KAAKyC,kBAAkB4F,GACpBC,GACDtI,KAAK4I,eAAeN,IAGxB7F,kBAAkB4F,GAChBrI,KAAKoC,sBAAwBiG,EAC7B,MAAMQ,EAASC,SAASC,cAAc,wBAAwBF,OACxDG,EAAcN,OAAOC,KAAK3I,KAAKmC,aAAa8G,QAAQjJ,KAAKoC,uBAC/DyG,EAAOK,QAAQF,EAAY,KAAI,IAEjCJ,eAAeN,GACbQ,SAASK,iBAAiB,8BAA8BC,SAAQC,IAC9DA,EAAKC,UAAUC,OAAO,kBAExB,IACEvJ,KAAKwJ,MAAM,cAAgBlB,GAAc,GAAGgB,UAAUG,IAAI,eAC3D,OACDzJ,KAAK6C,SAASyF,IAEhBhF,mBAAmBoG,GACjB,MAAMC,EAAWD,EAAME,YACjBC,EAAkBnB,OAAOC,KAAK3I,KAAKmC,aAAawH,GAChDrB,EAAgBI,OAAOC,KAAK3I,KAAKmC,YAAY0H,GAAiBjH,UAAU,GAC9E5C,KAAKyC,kBAAkBoH,GACvB7J,KAAK4I,eAAeN,IAMtBzF,SAASyF,GACP,IAAKtI,KAAKwJ,MAAM,SAAWlB,GAAc,GACvC,OAEF,MAAMwB,EAAOhB,SAASC,cAAc,eAAegB,WAAWhB,cAAc,QAAQiB,UAC9EC,EAAOjK,KAAKwJ,MAAM,SAAWlB,GAAc,GAAG4B,IAAIC,wBAAwBC,IAChF,IAAIC,EAAkBP,EAASG,EAASjK,KAAKgG,kBAAqBsE,OAAOC,YAAY,EACjFC,EAAiB9B,OAAOC,KAAK3I,KAAKmC,YAAYnC,KAAKoC,uBAAuBQ,UAAU,GACrF4H,GAAkBlC,IACnB+B,EAAkBP,EAAOG,EAASjK,KAAKgG,mBAEzC8C,SACGC,cAAc,eACdgB,WAAWhB,cAAc,QACzBlG,SAAS,CAAEuH,IAAKC,EAAiBI,SAAU,YAEhDnK,SAASoJ,GACP,MAAMgB,EAAU5B,SAASC,cAAc,yBAAyB2B,UAC1DC,EAAa7B,SAASC,cAAc,uBAAuB4B,aAC7DD,EAAYC,EAAe,IAAMjB,EAAMkB,OAAOZ,UAChDlB,SAASC,cAAc,wBAA0BD,SAASC,cAAc,sBAAsB8B,UAAY,qBAE1G/B,SAASC,cAAc,wBAA0BD,SAASC,cAAc,sBAAsB8B,UAAY,kCAE5G,IAAIC,EAA0BhC,SAASK,iBAAiB,8CACxD,IAAK,IAAI4B,KAAOD,EACd,GACEC,EAAIZ,wBAAwBC,IAAMpK,KAAKgG,mBAAsBsE,OAAOC,YAAcD,OAAOC,YAAY,GACrGQ,EAAIZ,wBAAwBa,OAAShL,KAAKgG,mBAAsBsE,OAAOC,YAAcD,OAAOC,YAAY,GACxGQ,EAAIE,QAAQ1I,SAEZ,QAKR2I,kBACElL,KAAKmL,WAEPC,UACEpL,KAAKmL,WAEPE,MAAO,CACLxF,OAAOyF,GACLtL,KAAK4F,QAAU0F,EAAaxF,OAAO5G,OK3lBzC,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASF,GAAQ,CAAC,YAAY,qBAEzF,S,mCCRA,MAAMiI,EAAM,CACRsE,kBAAkBC,GACd,IAAKA,EAAMvJ,YAAcuJ,EAAMvJ,UAAU,KAAOuJ,EAAMvJ,UAAU,GAAGwJ,SAC/D,OAAO,KAEX,MAAMA,EAASD,EAAMvJ,UAAU,GAAGwJ,SAC5BC,EAAYF,EAAMG,wBAAwB,EAChD,OAAO1E,EAAM2E,sBAAsBH,EAASC,IAEhDE,sBAAsBH,EAASC,GAC3BA,EAAYA,GAAarF,EAAAA,EAAAA,MAAAA,iBAAAA,uBACzB,MAAMwF,EAAMxF,EAAAA,EAAAA,MAAAA,iBAAAA,kBACNyF,EAA2E,EAAtEC,KAAKC,MAAMP,EAASpF,EAAAA,EAAAA,MAAAA,iBAAAA,gBAA4C,GAAG,GAAK4F,SAASP,GACtFnK,EAAQuK,EAAKD,EAAMC,EAAKD,EAAMC,EAC9BtK,EAAQD,EAAQsK,EACtB,MAAO,CAACC,KAAAA,EAAKvK,QAAAA,EAAQC,QAAAA,KAG3B","sources":["webpack://Tezkel/./src/components/ImageSlider.vue","webpack://Tezkel/./src/components/ImageSlider.vue?cba7","webpack://Tezkel/./src/components/ProductItem.vue","webpack://Tezkel/./src/components/ProductItem.vue?ef20","webpack://Tezkel/./src/views/StoreView.vue","webpack://Tezkel/./src/components/GroupList.vue","webpack://Tezkel/./src/components/GroupList.vue?7297","webpack://Tezkel/./src/components/ProductList.vue","webpack://Tezkel/./src/components/ProductList.vue?3912","webpack://Tezkel/./src/views/StoreView.vue?b5cc","webpack://Tezkel/./src/scripts/Utils.js"],"sourcesContent":["<style scoped>\r\n    .crop-to-fit {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      overflow: hidden;\r\n      width: 100%;\r\n    }\r\n    .crop-to-fit img {\r\n      flex-shrink:0;\r\n      min-width:100%;\r\n      max-width: unset;\r\n    }\r\n</style>\r\n\r\n<template>\r\n    <swiper :modules=\"modules\" :autoplay1='{delay: 3000, disableOnInteraction: false}' :loop=\"true\" effect=\"fade\">\r\n        <swiper-slide v-for=\"image in imageList\" :key=\"image.image_hash\">\r\n          <div class=\"crop-to-fit\" :style=\"`height: ${imgHeight||300}px;`\">\r\n            <img :style=\"`min-height: ${imgHeight||300}px;`\" :src=\"`${$heap.state.hostname}image/get.php/${image.image_hash}.${imgHeight*4||1200}.${imgHeight*4||1200}.webp`\"/>\r\n          </div>\r\n        </swiper-slide>\r\n      </swiper>\r\n</template>\r\n\r\n<script>\r\nimport { EffectFade, Autoplay }   from 'swiper';\r\nimport { Swiper, SwiperSlide }    from 'swiper/vue';\r\nimport 'swiper/css/bundle';\r\nexport default({\r\n    components: { \r\n      Swiper,\r\n      SwiperSlide\r\n    },\r\n    props: ['imageList','imgHeight'],\r\n    setup() {\r\n      return {\r\n        modules: [Autoplay,EffectFade], \r\n      };\r\n    },\r\n});\r\n</script>","import { render } from \"./ImageSlider.vue?vue&type=template&id=576696ed&scoped=true\"\nimport script from \"./ImageSlider.vue?vue&type=script&lang=js\"\nexport * from \"./ImageSlider.vue?vue&type=script&lang=js\"\n\nimport \"./ImageSlider.vue?vue&type=style&index=0&id=576696ed&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-576696ed\"]])\n\nexport default __exports__","<style scoped>\r\n.product_item{\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.absent{\r\n    filter:grayscale(1);\r\n    opacity: 0.5;\r\n}\r\n.incart .product_list_item_img{\r\n    border: 2px solid var(--ion-color-primary);\r\n}\r\n.product_list_item_img{\r\n    border-radius: 10px;\r\n    border: 2px solid var(--ion-color-light);\r\n    width:130px;\r\n    height:130px;\r\n    overflow:hidden;\r\n    align-items: center;\r\n    justify-content: center;\r\n    display:flex;\r\n}\r\n.deleted .product_list_item_img{\r\n    border: 4px solid red;\r\n}\r\n.disabled .product_list_item_img{\r\n    border: 4px solid #666;\r\n}\r\n</style>\r\n<template>\r\n    <div :class=\"item_class\" :id=\"`product_list_item${productItem.product_id}`\"\r\n        >\r\n        <div class=\"product_list_item_img\">\r\n            <div style=\"position:relative;top:-50%;\">\r\n                <cart-add-buttons buttonLayout=\"vertical\" :productItem=\"productItem\"></cart-add-buttons>\r\n            </div>\r\n            <ion-img @click=\"$router.push(`product-${productItem.product_id}`)\" :src=\"`${$heap.state.hostname}image/get.php/${productItem.image_hash}.150.150.webp`\"/>\r\n        </div>\r\n        <div style=\"height:3.5em;overflow:hidden\">\r\n            <span v-if=\"productItem.product_price!=productItem.product_final_price\" style=\"color:var(--ion-color-danger)\">\r\n                <s>{{productItem.product_price}}{{$heap.state.currencySign}}</s>&nbsp;&nbsp;\r\n            </span>\r\n            <span style=\"color:var(--ion-color-primary)\">\r\n                {{productItem.product_final_price}}{{$heap.state.currencySign}}\r\n            </span> / \r\n            <span style=\"color:var(--ion-color-medium)\">\r\n                {{productItem.product_unit}}\r\n            </span>\r\n            <div style=\"color:black;\" @click=\"$router.push(`product-${productItem.product_id}`)\">{{ productItem.product_name }}</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {\r\n  IonImg,\r\n}                       from '@ionic/vue'\r\nimport CartAddButtons from '@/components/CartAddButtons';\r\nexport default {\r\n    components:{\r\n    IonImg,\r\n    CartAddButtons\r\n    },\r\n    props:['productItem'],\r\n    computed:{\r\n        item_class(){\r\n            if(this.productItem.deleted_at){\r\n                return 'deleted'\r\n            }\r\n            if(this.productItem.disabled==1){\r\n                return 'disabled'\r\n            }\r\n            if(this.productItem.is_counted && this.productItem.product_quantity<1){\r\n                return 'absent'\r\n            }\r\n            return ''\r\n        }\r\n    }\r\n}\r\n</script>","import { render } from \"./ProductItem.vue?vue&type=template&id=ce377768&scoped=true\"\nimport script from \"./ProductItem.vue?vue&type=script&lang=js\"\nexport * from \"./ProductItem.vue?vue&type=script&lang=js\"\n\nimport \"./ProductItem.vue?vue&type=style&index=0&id=ce377768&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ce377768\"]])\n\nexport default __exports__","<style scoped>\r\n.store-info {\r\n  box-shadow: 0px 0px 15px -5px #0000005e;\r\n  background-color: var(--ion-background);\r\n  position: relative;\r\n}\r\n\r\n.groups-container ion-chip {\r\n  border-radius: 10px;\r\n  background-color: white;\r\n  border: 1px solid #e6e6e6;\r\n  font-weight: 500;\r\n  padding: 10px 15px;\r\n  height: 35px;\r\n}\r\n\r\n.groups-container ion-chip.active-chip {\r\n  background-color: var(--ion-color-primary);\r\n  border: none;\r\n}\r\n\r\n.groups-container ion-chip.active-chip ion-label {\r\n  color: white;\r\n}\r\n.store-page .search-container {\r\n  visibility: visible;\r\n  margin: 1em 0;\r\n  color: black;\r\n  --border-radius: 10px;\r\n}\r\n.store-page .stacked-search-container {\r\n  visibility: visible;\r\n  padding: 0;\r\n  color: #535151;\r\n}\r\n.store-page .product-list {\r\n  margin-top: 1em;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n.store-page .product-item {\r\n  visibility: visible;\r\n  user-select: none;\r\n}\r\n.store-page .product-item ion-card-header {\r\n  border: 1px solid transparent;\r\n}\r\n.store-page .product-item.product-item-selected ion-card-header {\r\n  border: 1px solid var(--ion-color-primary);\r\n  border-radius: 15px;\r\n}\r\n.store-page .product-list ion-card {\r\n  text-align: center;\r\n}\r\n.store-page .product-list .link {\r\n  text-decoration: none;\r\n  color: var(--ion-text-main);\r\n}\r\n.store-page .product-list ion-card-header {\r\n  padding: 10px 0px;\r\n  text-align: center;\r\n}\r\n.store-page .product-list ion-card-content {\r\n  padding: 10px 0px;\r\n  text-align: center;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n.product-list-slider{\r\n  background-color: white;\r\n}\r\n.product-list-slider.swiper-container {\r\n  min-height: 100vh;\r\n\r\n}\r\n.product-list-slider.swiper-container .swiper-wrapper {\r\n  min-height: 350px;\r\n}\r\n.store-page .store-block .swiper-wrapper {\r\n  max-height: 250px;\r\n}\r\n.group-title {\r\n  text-align: left;\r\n}\r\n.group-fixed-block {\r\n  position: fixed;\r\n  top: 56px;\r\n  z-index: 10000;\r\n  width: 100%;\r\n  background-color: white;\r\n  box-shadow: 1px 1px 5px #00000040;\r\n}\r\n.group-fixed-block.hidden-block {\r\n  display: none;\r\n}\r\nion-segment {\r\n  --background: var(--ion-background-primary-dark);\r\n  border-radius: 0;\r\n}\r\nion-segment-button {\r\n  --color-checked: var(--ion-color-secondary);\r\n  --indicator-color: orange;\r\n}\r\n\r\nion-segment ion-label {\r\n  color: white;\r\n}\r\nion-chip .active-chip {\r\n  background-color: var(--ion-color-secondary);\r\n  color: white;\r\n  border: none;\r\n}\r\n\r\n\r\n\r\n.desktop-main-container .group-fixed-block{\r\n  top: 10%;\r\n  width: calc(1366px*0.24);\r\n  left: calc((100% - 1366px)/2);\r\n}\r\n.desktop-main-container .group-fixed-block ion-segment{\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n  --background: white;\r\n}\r\n.desktop-main-container .group-fixed-block ion-segment ion-segment-button{\r\n  width: 100%;\r\n  display: block;\r\n  text-align: left;\r\n  border-bottom: 1px solid lightgray;\r\n}\r\n.desktop-main-container .group-fixed-block ion-segment ion-label {\r\n  color: var(--ion-text-main);\r\n  text-transform: capitalize;\r\n  align-self: baseline;\r\n}\r\n.desktop-main-container .group-fixed-block .groups-container {\r\n  display: none;\r\n}\r\n\r\n@media only screen and (max-width: 1366px) {\r\n  .desktop-main-container .group-fixed-block{\r\n    left: 0;\r\n    width: 24%;\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <base-layout\r\n    page-default-back-link=\"/home\"\r\n    page-class=\"store-page\"\r\n    :contentOnScroll=\"onScroll\"\r\n    :page-title=\"this.storeItem.store_name??'Магазин'\"\r\n  >\r\n  <div style=\"background-color:var(--ion-background-shade)\">\r\n    <div class=\"store-info\">\r\n      <image-slider :imageList=\"storeItem.images\" :imgHeight=\"250\"></image-slider>\r\n      <ion-grid style=\"margin:15px 5px 5px 5px;\"> \r\n        <ion-row>\r\n          <ion-col>\r\n            <ion-text color=\"primary\" style=\"font-size:20px\">{{ storeItem.store_name }}</ion-text>\r\n          </ion-col>\r\n          <ion-col style=\"text-align:right\">\r\n            <router-link :to=\"'/store-edit-' + storeItem.store_id\" v-if=\"storeItem.is_writable==1\">\r\n              <ion-icon :icon=\"settingsOutline\" style=\"font-size:24px\"></ion-icon>\r\n            </router-link>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row v-if=\"storeItem.is_writable==1\">\r\n          <ion-col>\r\n          <ion-button @click=\"productItemCreate()\" color=\"light\" expand=\"full\">Добавить товар</ion-button>\r\n          </ion-col>\r\n        </ion-row> \r\n        <ion-row style=\"font-size:12px\">\r\n          <ion-col>\r\n            {{ storeItem.store_group_names }}\r\n          </ion-col>\r\n          <ion-col v-show=\"storeItem.willBeClosedAt\" style=\"text-align:right\">\r\n            закроется в {{ storeItem.willBeClosedAt }}:00\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row>\r\n          <ion-col>\r\n            <ion-note>{{storeItem.store_description}}</ion-note>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row>\r\n          <ion-col>\r\n            <div style=\"border-bottom:1px solid var(--ion-color-primary-tint)\"></div>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row>\r\n          <ion-col style=\"font-size:12px\">\r\n            <div style=\"display:grid;grid-template-columns:30px 1fr;gap:5px\">\r\n              <div style=\"grid-row:1 / 2;align-items: flex-start;\">\r\n                <ion-icon src=\"./assets/icon/box-delivery.svg\" style=\"font-size:26px;color:var(--ion-color-primary)\"></ion-icon> \r\n              </div>\r\n              <div style=\"grid-column:2 / span 3;display: flex;align-items: center;\">\r\n                <span> Доставит <b style=\"color:var(--ion-color-primary)\">{{$heap.state.app_title}}</b></span>\r\n              </div>\r\n            </div>\r\n            <div style=\"display:flex; justify-content: space-between;\">\r\n              <div v-if=\"storeItem.delivery\" style=\"text-align:left\">\r\n                {{storeItem.delivery.timeMin}}-{{storeItem.delivery.timeMax}} мин\r\n              </div>\r\n              <div>доставка {{$heap.state.deliverySettings.fee}}₽</div>\r\n              <div v-if=\"storeItem.store_minimal_order\" style=\"text-align:right\">\r\n                заказ от {{storeItem.store_minimal_order}}₽\r\n              </div>\r\n            </div>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n      <ion-accordion-group style=\"width:100%\">\r\n        <ion-accordion>\r\n          <ion-item slot=\"header\">\r\n            <ion-label slot=\"end\">Еще</ion-label>\r\n          </ion-item>\r\n\r\n          <ion-list slot=\"content\">\r\n            <ion-item lines=\"none\">\r\n              <ion-text><b>{{storeItem.store_company_name}}</b></ion-text>\r\n            </ion-item>\r\n            <ion-item lines=\"none\">\r\n              <ion-label>ИНН</ion-label>\r\n              <ion-label>{{storeItem.store_tax_num}}</ion-label>\r\n            </ion-item>\r\n            <ion-item lines=\"none\">\r\n              <ion-label>Телефон</ion-label>\r\n              <ion-label>{{storeItem.store_phone}}</ion-label>\r\n            </ion-item>\r\n            <ion-item lines=\"none\">\r\n              <ion-text>{{storeItem.locations?.[0].location_address}}</ion-text>\r\n            </ion-item>\r\n          </ion-list>\r\n        </ion-accordion>\r\n      </ion-accordion-group>\r\n    </div>\r\n\r\n    <div v-if=\"storeGroups\" class=\"group-fixed-block hidden-block\">\r\n      <ion-segment v-model=\"groupSelectedParentId\" scrollable>\r\n        <ion-segment-button\r\n          v-for=\"group_item in storeGroups\"\r\n          :key=\"group_item.group_id\"\r\n          :value=\"group_item.group_id\"\r\n          @click=\"groupSelectParent(group_item.group_id)\"\r\n          :ref=\"'group-tab-' + group_item.group_id\"\r\n        >\r\n          <ion-label>{{ group_item.group_name }}</ion-label>\r\n        </ion-segment-button>\r\n      </ion-segment>\r\n      <ion-row v-if=\"storeGroups[groupSelectedParentId]\" class=\"groups-container\">\r\n        <ion-chip\r\n          color=\"primary\"\r\n          v-show=\"storeProducts[group_item.group_id]\"\r\n          v-for=\"group_item in storeGroups[groupSelectedParentId].children\"\r\n          :key=\"group_item.group_id\"\r\n          :ref=\"'group-chip-' + group_item.group_id\"\r\n          @click=\"scrollTo(group_item.group_id)\"\r\n        >\r\n          <ion-label color=\"primary\">{{ group_item.group_name }}</ion-label>\r\n        </ion-chip>\r\n      </ion-row>\r\n    </div>\r\n\r\n    <ion-searchbar class=\"search-container\" v-model=\"searchRequest\" placeholder=\"Поиск в этом предприятии\"\r\n      @input=\"\r\n        productListGet({\r\n          name_query: $event.target.value,\r\n          name_query_fields: 'product_name,product_code',\r\n        })\r\n      \"/>\r\n\r\n    <group-list v-if=\"storeGroups\" :groupList=\"storeGroups\" :onClick=\"(group_id) => {groupSelectParent(group_id) }\"></group-list>\r\n\r\n    <swiper v-if=\"storeGroups\" pager=\"true\" :options=\"slideOpts\" class=\"product-list-slider\" @slideChange=\"groupSliderChanged($event)\">\r\n      \r\n      {{storeGroups}}\r\n      <swiper-slide v-for=\"parent_group_item in storeGroups\" :key=\"parent_group_item.group_id\">\r\n\r\n        <ion-grid class=\"product-list\">\r\n          <ion-row\r\n            v-for=\"group_item in parent_group_item.children\"\r\n            :key=\"group_item.group_id\"\r\n            :ref=\"'group-' + group_item.group_id\"\r\n            :data-group_id=\"group_item.group_id\"\r\n          >\r\n            <ion-col class=\"group-title\" size=\"12\">\r\n              <label><b>{{ group_item.group_name }}</b></label>\r\n            </ion-col>\r\n            <ion-col  size=\"12\">\r\n              <product-list :productList=\"storeProducts[group_item.group_id]\"></product-list>\r\n            </ion-col>\r\n          </ion-row>\r\n        </ion-grid>\r\n\r\n      </swiper-slide>\r\n    </swiper>\r\n    \r\n    </div>\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  IonText,\r\n  IonCol,\r\n  IonIcon,\r\n  IonRow,\r\n  IonNote,\r\n  IonGrid,\r\n  IonLabel,\r\n  IonSegmentButton,\r\n  IonSegment,\r\n  IonChip,\r\n  IonSearchbar,\r\n  IonButton,\r\n  IonAccordion,\r\n  IonAccordionGroup,\r\n  IonList,\r\n  IonItem\r\n}                         from \"@ionic/vue\";\r\nimport { \r\n  Autoplay\r\n}                         from 'swiper';\r\nimport { \r\n  Swiper,\r\n  SwiperSlide \r\n }                        from 'swiper/vue';\r\nimport { \r\n  search,\r\n  settingsOutline\r\n}                         from \"ionicons/icons\";\r\nimport ImageSlider        from \"@/components/ImageSlider\";\r\nimport GroupList          from \"@/components/GroupList.vue\";\r\nimport ProductList        from '@/components/ProductList.vue';\r\nimport jQuery             from \"jquery\";\r\nimport heap               from \"@/heap\";\r\nimport Utils              from \"@/scripts/Utils.js\";\r\nimport { defineComponent } from \"@vue/runtime-core\";\r\n\r\n\r\n\r\nconst slideOpts = {\r\n  slidesPerView: 1,\r\n  pagination: false,\r\n  centeredSlides: false,\r\n  initialSlide: 0,\r\n  speed: 400,\r\n  watchSlidesProgress: false,\r\n  grabCursor: true,\r\n  touchStartForcePreventDefault: true,\r\n};\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    IonText,\r\n    IonCol,\r\n    IonIcon,\r\n    IonRow,\r\n    IonNote,\r\n    IonGrid,\r\n    IonLabel,\r\n    IonSegmentButton,\r\n    IonSegment,\r\n    IonChip,\r\n    IonSearchbar,\r\n    IonButton,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonList,\r\n    IonItem,\r\n    ImageSlider,\r\n    Swiper,\r\n    SwiperSlide,\r\n    GroupList,\r\n    ProductList\r\n  },\r\n  setup() {\r\n    return {\r\n      search,\r\n      settingsOutline,\r\n      slideOpts,\r\n      slideModules:[Autoplay]\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      storeId: this.$route.params.id,\r\n      query:this.$route.query,\r\n      searchRequest: \"\",\r\n      storeItem: [],\r\n      storeProducts: {},\r\n      storeGroups: null,\r\n      groupSelectedParentId: 0,\r\n      offsetModificator: 150,\r\n      itemGetInProgress:false\r\n    };\r\n  },\r\n  methods: {\r\n    async itemGet() {\r\n      if(this.itemGetInProgress){\r\n        return\r\n      }\r\n      try{\r\n        this.itemGetInProgress=true\r\n        const store=await jQuery.post(`${heap.state.hostname}Store/itemGet`, {store_id: this.storeId,distance_include:1})\r\n        this.storeItem = this.itemPrepare(store);\r\n        this.storeId = store.store_id;\r\n        this.groupTreeGet({ store_id: this.storeId });\r\n        heap.commit('setCurrentStore',this.storeItem);\r\n        this.itemGetInProgress=false\r\n      } catch(err){\r\n        console.log(err)\r\n      }\r\n    },\r\n    itemPrepare(storeItem) {\r\n      if (storeItem.member_of_groups.group_names) {\r\n        storeItem.store_group_names = storeItem.member_of_groups.group_names;\r\n      }\r\n      var date = new Date();\r\n      storeItem.willBeClosedAt = storeItem[\"store_time_closes_\" + date.getDay()];\r\n      storeItem.delivery=Utils.deliveryCalculate(storeItem);\r\n      return storeItem;\r\n    },\r\n    async productListGet(filter = {}) {\r\n      filter.store_id = this.storeId;\r\n      filter.is_active = 1;\r\n      if(this.storeItem.is_writable==1){\r\n        filter.is_disabled=1\r\n        filter.is_deleted=1\r\n      }\r\n      if (filter.name_query && filter.name_query == \"\") {\r\n        this.groupTreeGet({ store_id: this.storeId });\r\n        return;\r\n      }\r\n      let response={};\r\n      try{\r\n        response=await jQuery.post(heap.state.hostname + \"Product/listGet\", filter)\r\n      }catch(err){/** */}\r\n\r\n      this.productListPrepare(response.product_list);\r\n      this.groupOtherAdd()\r\n\r\n      let self=this\r\n      setTimeout(()=>{\r\n        self.groupSelect();\r\n      })\r\n    },\r\n    productListPrepare(product_list) {\r\n      this.storeProducts = {};\r\n      for (var product of product_list) {\r\n        if (this.storeGroups){\r\n          if (!this.storeProducts[product.group_id??0]) {\r\n            this.storeProducts[product.group_id??0] = [];\r\n          }\r\n        }\r\n        this.storeProducts[product.group_id??0].push(product);\r\n      }\r\n    },\r\n    async productItemCreate(){\r\n      try{\r\n        const request={\r\n          store_id:this.storeId,\r\n          product_name:\"Новый товар\",\r\n          product_price:1000,\r\n          product_promo_price:1000\r\n        }\r\n        const product_id=await jQuery.post(`${heap.state.hostname}Product/itemCreate`,request)\r\n        this.$router.push(`product-edit-${product_id}`)\r\n        this.$flash(\"Добавлен 'Новый товар' в категорию 'Другое'\")\r\n      }catch{\r\n        this.$flash(\"Не удалось создать товар\")\r\n      }\r\n    },\r\n\r\n\r\n\r\n\r\n    async groupTreeGet(filter) {\r\n      try{\r\n        this.storeGroups=await jQuery.get(`${heap.state.hostname}Product/groupTreeGet`, {store_id: filter.store_id})\r\n        this.productListGet();\r\n      }catch(err){/** */}\r\n    },\r\n    groupOtherAdd(){\r\n      if(this.storeProducts[0]){\r\n        this.storeGroups[0]={\r\n          group_id:'other',\r\n          group_name:\"Другое\",\r\n          image_hash:\"\",\r\n          children:{\r\n            '0':{\r\n              group_id:0,\r\n              group_name:\"другое\",\r\n              group_parent_id:0,\r\n              group_path:\"\",\r\n              image_hash:\"\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    groupSelect(){\r\n      let parent_group_id=this.query.parent_group_id\r\n      let sub_group_id=this.query.sub_group_id\r\n      if( sub_group_id ){\r\n        parentloop:for(let parent in this.storeGroups){\r\n          for(let sub in this.storeGroups[parent].children){\r\n            if(sub==sub_group_id){\r\n              parent_group_id=parent\r\n              break parentloop\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if( parent_group_id ){\r\n        sub_group_id=Object.keys(this.storeGroups[parent_group_id].children)[0]\r\n      } else {\r\n        parent_group_id = Object.keys(this.storeGroups)[0]\r\n      }\r\n      this.groupSelectParent(parent_group_id)\r\n      if(sub_group_id){\r\n        this.groupSelectSub(sub_group_id)\r\n      }\r\n    },\r\n    groupSelectParent(parent_group_id){\r\n      this.groupSelectedParentId = parent_group_id;\r\n      const swiper = document.querySelector('.product-list-slider').swiper;\r\n      const slide_index = Object.keys(this.storeGroups).indexOf(this.groupSelectedParentId);\r\n      swiper.slideTo(slide_index,100,false);\r\n    },\r\n    groupSelectSub(sub_group_id){\r\n      document.querySelectorAll(\".groups-container ion-chip\").forEach(chip=>{\r\n        chip.classList.remove(\"active-chip\");\r\n      });\r\n      try{\r\n        this.$refs[\"group-chip-\" + sub_group_id][0].classList.add(\"active-chip\");\r\n      }catch{/** */}\r\n      this.scrollTo(sub_group_id);\r\n    },\r\n    groupSliderChanged(event) {\r\n      const slideIndex=event.activeIndex\r\n      const parent_groud_id = Object.keys(this.storeGroups)[slideIndex];\r\n      const sub_group_id =  Object.keys(this.storeGroups[parent_groud_id].children)[0];\r\n      this.groupSelectParent(parent_groud_id);\r\n      this.groupSelectSub(sub_group_id);\r\n    },\r\n\r\n\r\n\r\n\r\n    scrollTo(sub_group_id) {\r\n      if (!this.$refs[\"group-\" + sub_group_id][0]) {\r\n        return;\r\n      }\r\n      const offset=document.querySelector(\"ion-content\").shadowRoot.querySelector(\"main\").scrollTop;\r\n      const anchor=this.$refs[\"group-\" + sub_group_id][0].$el.getBoundingClientRect().top;\r\n      var elementPosition = offset + anchor - this.offsetModificator - (window.innerHeight/4);\r\n      var first_group_id = Object.keys(this.storeGroups[this.groupSelectedParentId].children)[0];\r\n      if(first_group_id == sub_group_id){\r\n        elementPosition = offset+anchor - this.offsetModificator;\r\n      }\r\n      document\r\n        .querySelector(\"ion-content\")\r\n        .shadowRoot.querySelector(\"main\")\r\n        .scrollTo({ top: elementPosition, behavior: \"smooth\" });\r\n    },\r\n    onScroll(event) {\r\n      const offsetTop=document.querySelector(\".product-list-slider\")?.offsetTop;\r\n      const offsetHeight=document.querySelector(\".group-fixed-block\")?.offsetHeight;\r\n      if (offsetTop - offsetHeight - 100 < event.detail.scrollTop ) {\r\n        document.querySelector(\".group-fixed-block\") && (document.querySelector(\".group-fixed-block\").className = \"group-fixed-block\");\r\n      } else {\r\n        document.querySelector(\".group-fixed-block\") && (document.querySelector(\".group-fixed-block\").className = \"group-fixed-block hidden-block\");\r\n      }\r\n      var productGroupElementList = document.querySelectorAll(\".swiper-slide-active .product-list ion-row\");\r\n      for (var row of productGroupElementList) {\r\n        if (\r\n          row.getBoundingClientRect().top - this.offsetModificator <= (window.innerHeight - window.innerHeight/4) &&\r\n          row.getBoundingClientRect().bottom + this.offsetModificator >= (window.innerHeight - window.innerHeight/4) &&\r\n          row.dataset.group_id\r\n        ) {\r\n          break;\r\n        }\r\n      }\r\n    },\r\n  },\r\n  ionViewDidEnter() {\r\n    this.itemGet();\r\n  },\r\n  mounted() {\r\n    this.itemGet();\r\n  },\r\n  watch: {\r\n    $route(currentRoute) {\r\n      this.storeId = currentRoute.params.id;\r\n    },\r\n  },\r\n})\r\n</script>","<style scoped>\r\n#hcat_widget_grid {\r\n    display: grid;\r\n    margin-top:10px;\r\n    gap:6px;\r\n    grid-template-columns: repeat(3,1fr);\r\n    grid-template-rows: 130px;\r\n}\r\n@media screen and (min-width: 600px) {\r\n    #hcat_widget_grid {\r\n        grid-template-columns: repeat(6,1fr);\r\n    }\r\n}\r\n@media screen and (min-width: 1000px) {\r\n    #hcat_widget_grid {\r\n        grid-template-columns: repeat(10,1fr);\r\n    }\r\n}\r\n#hcat_widget_grid>div{\r\n    display: flex;\r\n    flex-direction: column;\r\n    -moz-box-align: center;\r\n    align-items: center;\r\n    -moz-box-pack: center;\r\n    justify-content: center;\r\n}\r\n#hcat_widget_wrapper{\r\n    background-color: #f5f5f5;\r\n    padding: 10px;\r\n}\r\n</style>\r\n<template>\r\n    <div id=\"hcat_widget_grid\">\r\n        <div v-for=\"group in groupList\" :key=\"group.group_id\"  @click=\"() => {return onClick(group.group_id)}\">\r\n            <ion-thumbnail style=\"width:70px;height:70px\">\r\n                <ion-img style=\"border-radius:10px;border:1px solid #ddd\" :src=\"`${$heap.state.hostname}image/get.php/${group.image_hash}.150.150.webp`\"/>\r\n            </ion-thumbnail>\r\n            <ion-label style=\"height:2em;text-align:center\">{{group.group_name}}</ion-label>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n  IonImg,\r\n  IonThumbnail,\r\n  IonLabel,\r\n}                          from \"@ionic/vue\";\r\nimport { defineComponent } from \"@vue/runtime-core\";\r\nexport default defineComponent({\r\n    components:{\r\n        IonImg,\r\n        IonThumbnail,\r\n        IonLabel,\r\n    },\r\n    props: ['groupList', 'onClick']\r\n})\r\n</script>","import { render } from \"./GroupList.vue?vue&type=template&id=6c59c918&scoped=true\"\nimport script from \"./GroupList.vue?vue&type=script&lang=js\"\nexport * from \"./GroupList.vue?vue&type=script&lang=js\"\n\nimport \"./GroupList.vue?vue&type=style&index=0&id=6c59c918&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6c59c918\"]])\n\nexport default __exports__","<style scoped>\r\n    .product_list_widget_grid {\r\n    display: grid;\r\n    gap: 2%;\r\n    grid-template-columns: repeat(auto-fit,130px);\r\n    font-size: 0.8em;\r\n    }\r\n</style>\r\n<template>\r\n  <div class=\"product_list_widget_grid\">\r\n    <div v-for=\"productItem in productList\" :key=\"productItem.product_id\">\r\n      <product-item :productItem=\"productItem\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProductItem from \"@/components/ProductItem\";\r\n\r\nexport default {\r\n  props: [\"productList\"],\r\n  components: {\r\n    ProductItem,\r\n  },\r\n};\r\n</script>","import { render } from \"./ProductList.vue?vue&type=template&id=3f04b703&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductList.vue?vue&type=style&index=0&id=3f04b703&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3f04b703\"]])\n\nexport default __exports__","import { render } from \"./StoreView.vue?vue&type=template&id=68ca4a95&scoped=true\"\nimport script from \"./StoreView.vue?vue&type=script&lang=js\"\nexport * from \"./StoreView.vue?vue&type=script&lang=js\"\n\nimport \"./StoreView.vue?vue&type=style&index=0&id=68ca4a95&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-68ca4a95\"]])\n\nexport default __exports__","import heap from '@/heap';\r\nconst Utils={\r\n    deliveryCalculate(Store){\r\n        if( !Store.locations || !Store.locations[0] || !Store.locations[0].distance){\r\n            return null;\r\n        }\r\n        const distance=Store.locations[0].distance;\r\n        const preparation=Store.store_time_preparation||0;\r\n        return Utils.deliveryTimeCalculate(distance,preparation);\r\n    },\r\n    deliveryTimeCalculate(distance,preparation){\r\n        preparation=preparation??heap.state.deliverySettings.defaultPreparationTime;\r\n        const delta=heap.state.deliverySettings.deliveryTimeDelta;\r\n        const time=Math.round(distance/heap.state.deliverySettings.courierVelocity*60/5)*5+parseInt(preparation);\r\n        const timeMin=time>delta?time-delta:time;\r\n        const timeMax=timeMin+delta;\r\n        return {time,timeMin,timeMax};\r\n    }\r\n  };\r\n  export default Utils;"],"names":["modules","autoplay1","loop","effect","imageList","image","key","image_hash","class","style","imgHeight","src","$heap","state","hostname","components","Swiper","SwiperSlide","props","setup","__exports__","render","item_class","id","productItem","product_id","buttonLayout","$router","push","product_price","product_final_price","currencySign","product_unit","product_name","IonImg","CartAddButtons","computed","this","deleted_at","disabled","is_counted","product_quantity","contentOnScroll","onScroll","storeItem","store_name","images","color","is_writable","to","store_id","icon","settingsOutline","productItemCreate","expand","store_group_names","willBeClosedAt","store_description","app_title","delivery","timeMin","timeMax","deliverySettings","fee","store_minimal_order","slot","lines","store_company_name","store_tax_num","store_phone","locations","location_address","storeGroups","groupSelectedParentId","scrollable","group_item","group_id","value","groupSelectParent","ref","group_name","children","scrollTo","storeProducts","searchRequest","placeholder","groupList","onClick","pager","options","slideOpts","groupSliderChanged","$event","parent_group_item","size","productList","group","IonThumbnail","IonLabel","ProductItem","slidesPerView","pagination","centeredSlides","initialSlide","speed","watchSlidesProgress","grabCursor","touchStartForcePreventDefault","IonText","IonCol","IonIcon","IonRow","IonNote","IonGrid","IonSegmentButton","IonSegment","IonChip","IonSearchbar","IonButton","IonAccordion","IonAccordionGroup","IonList","IonItem","ImageSlider","GroupList","ProductList","search","slideModules","data","storeId","$route","params","query","offsetModificator","itemGetInProgress","methods","async","store","heap","distance_include","itemPrepare","groupTreeGet","err","console","log","member_of_groups","group_names","date","Date","getDay","Utils","filter","is_active","is_disabled","is_deleted","name_query","response","productListPrepare","product_list","groupOtherAdd","self","setTimeout","groupSelect","product","request","product_promo_price","$flash","productListGet","group_parent_id","group_path","parent_group_id","sub_group_id","parentloop","parent","sub","Object","keys","groupSelectSub","swiper","document","querySelector","slide_index","indexOf","slideTo","querySelectorAll","forEach","chip","classList","remove","$refs","add","event","slideIndex","activeIndex","parent_groud_id","offset","shadowRoot","scrollTop","anchor","$el","getBoundingClientRect","top","elementPosition","window","innerHeight","first_group_id","behavior","offsetTop","offsetHeight","detail","className","productGroupElementList","row","bottom","dataset","ionViewDidEnter","itemGet","mounted","watch","currentRoute","deliveryCalculate","Store","distance","preparation","store_time_preparation","deliveryTimeCalculate","delta","time","Math","round","parseInt"],"sourceRoot":""}