{"version":3,"file":"js/373.91661a43.js","mappings":"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","sources":["webpack://Tezkel/./src/views/UserSignUp.vue","webpack://Tezkel/./src/views/UserSignUp.vue?0e3d"],"sourcesContent":["<template>\r\n  <base-layout page-title=\"Зарегистрироваться\"  page-default-back-link=\"/home\" :errorMessage=\"error\">\r\n      <form novalidate>\r\n        <ion-list>\r\n          <ion-item>\r\n            <ion-row>\r\n              <ion-col>\r\n                <ion-label position=\"stacked\" color=\"primary\">Код</ion-label>\r\n                <ion-select \r\n                  :value=\"fields.phonePrefix\" \r\n                  @ionChange=\"fields.phonePrefix = $event.target.value\" \r\n                >\r\n                  <ion-select-option value=\"+7\" >+7</ion-select-option>\r\n                </ion-select>\r\n              </ion-col>\r\n              <ion-col>\r\n                <ion-label position=\"stacked\" color=\"primary\">Телефон</ion-label>\r\n                <ion-input\r\n                  v-model=\"fields.phoneBody\"\r\n                  name=\"phone\"\r\n                  type=\"numeric\"\r\n                  inputmode=\"tel\"\r\n                  :value=\"fields.phoneBody\"\r\n                  @input=\"$event.target.value = phoneValidate($event);\"\r\n                  placeholder=\"(978)-000-00-00\"\r\n                  spellcheck=\"false\"\r\n                  autocapitalize=\"off\"\r\n                  required\r\n                ></ion-input>\r\n              </ion-col>\r\n            </ion-row>\r\n          </ion-item>\r\n\r\n          <ion-text color=\"danger\">\r\n            <p v-show=\"!phoneValid && submitted == true\" padding-left>Неверный номер телефона</p>\r\n          </ion-text>\r\n\r\n          <ion-item>\r\n            <ion-label position=\"stacked\" color=\"primary\">Пароль (Минимум 6 символов)</ion-label>\r\n            <ion-input \r\n              v-model=\"password\" \r\n              name=\"password\" \r\n              type=\"password\" \r\n              :value=\"fields.password\"\r\n              @ionInput=\"fields.password = $event.target.value\" \r\n              placeholder=\"Пароль (Минимум 6 символов)\"\r\n              required\r\n            ></ion-input>\r\n          </ion-item>\r\n\r\n          <ion-text color=\"danger\">\r\n            <p v-show=\"!passwordValid && submitted == true\" padding-left>Пароль должен содержать не менее 6 символов.</p>\r\n          </ion-text>\r\n\r\n          <ion-item>\r\n            <ion-label position=\"stacked\" color=\"primary\">Имя пользователя</ion-label>\r\n            <ion-input \r\n              v-model=\"username\" \r\n              name=\"username\" \r\n              type=\"text\" \r\n              :value=\"fields.username\"\r\n              @ionInput=\"fields.username = $event.target.value\" \r\n              placeholder=\"Имя пользователя\"\r\n              required\r\n            ></ion-input>\r\n          </ion-item>\r\n\r\n          <ion-text color=\"danger\">\r\n            <p v-show=\"!usernameValid && submitted == true\" padding-left>Неверное имя пользователя</p>\r\n          </ion-text>\r\n\r\n        </ion-list>\r\n\r\n        <ion-row responsive-sm>\r\n          <ion-col>\r\n            <ion-button @click=\"onSubmit\" expand=\"block\">Зарегистрироваться</ion-button>\r\n          </ion-col>\r\n        </ion-row>\r\n        \r\n        <ion-row responsive-sm>\r\n          <ion-col>\r\n          <router-link to=\"/sign-in\">\r\n            <ion-button color=\"light\" expand=\"block\">Уже есть учетная запись?</ion-button>\r\n          </router-link>\r\n          </ion-col>\r\n        </ion-row>\r\n      </form>\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\nimport { IonRow, IonCol, IonSelect, IonSelectOption   } from '@ionic/vue';\r\n\r\nimport User from '../scripts/User.js'\r\n\r\nimport router from '../router';\r\n\r\nexport default  {\r\n  name: 'UserSignup',\r\n  components: { IonRow, IonCol, IonSelect, IonSelectOption },\r\n  data(){\r\n    return {\r\n      error: '',\r\n      submitted: false,\r\n      config: {\r\n        phoneMask: '(000)-000-00-00'\r\n      },\r\n      fields: {\r\n        phonePrefix: '+7',\r\n        phoneBody: '9785141948',\r\n        password: '123456',\r\n        username: 'Adam Hi'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    phoneValid() {\r\n      return this.fields.phoneBody.replace(/\\D/g,\"\").length == 10;\r\n    },\r\n    passwordValid() {\r\n      return this.fields.password.length >= 6;\r\n    },\r\n    usernameValid() {\r\n      return this.fields.username.length > 0;\r\n    }\r\n  },\r\n  methods:{\r\n    onSubmit() {\r\n      var self = this;\r\n      this.submitted = true;\r\n      if(!this.phoneValid || !this.passwordValid || !this.usernameValid){\r\n        return false;\r\n      }\r\n      let requestData = {\r\n        user_phone: this.fields.phonePrefix + this.fields.phoneBody.replace(/\\D/g,\"\"),\r\n        user_pass: this.fields.password,\r\n        user_pass_confirm: this.fields.password,\r\n        user_name: this.fields.username\r\n      }\r\n      User.signUp(requestData, function(result){\r\n        if(result.success){\r\n          router.push('/sign-in');\r\n        } else {\r\n            self.error = result.message;\r\n        }\r\n      });\r\n    },\r\n    phoneValidate(ev) {\r\n      this.fields.phoneBody = ev.target.value;\r\n      this.fields.phoneBody = this.fields.phoneBody.replace(/\\D/g,\"\");\r\n      if(this.fields.phoneBody.length > 10){\r\n        this.fields.phoneBody = this.fields.phoneBody.substring(0, 10);\r\n      }\r\n      let result = '';\r\n      let numberIndex = 0; \r\n      for(let index in this.config.phoneMask){\r\n        if(!this.fields.phoneBody[numberIndex]){\r\n          break;\r\n        }\r\n        let character = this.config.phoneMask[index];\r\n        if(character == '0'){\r\n          result += this.fields.phoneBody[numberIndex];\r\n          numberIndex++;\r\n        } else {\r\n          result += character\r\n        }\r\n      }\r\n      this.fields.phoneBody = result;\r\n      return this.fields.phoneBody;\r\n    }\r\n  }\r\n}\r\n</script>","import { render } from \"./UserSignUp.vue?vue&type=template&id=50563b17\"\nimport script from \"./UserSignUp.vue?vue&type=script&lang=js\"\nexport * from \"./UserSignUp.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["novalidate","errorMessage","error","position","color","value","fields","phonePrefix","$event","target","phoneBody","name","type","inputmode","phoneValidate","placeholder","spellcheck","autocapitalize","required","phoneValid","submitted","password","passwordValid","username","usernameValid","onSubmit","expand","to","components","IonRow","IonCol","IonSelect","IonSelectOption","data","config","phoneMask","computed","this","replace","length","methods","self","requestData","user_phone","user_pass","user_pass_confirm","user_name","User","result","success","router","message","ev","substring","numberIndex","index","character","__exports__","render"],"sourceRoot":""}