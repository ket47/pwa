"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[6800],{6800:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var l=t(641),i=t(33);function o(e,n,t,o,u,a){const r=(0,l.g2)("ion-icon"),s=(0,l.g2)("ion-row"),d=(0,l.g2)("ion-col"),c=(0,l.g2)("ion-grid"),k=(0,l.g2)("ion-label"),v=(0,l.g2)("ion-item"),_=(0,l.g2)("ion-list"),b=(0,l.g2)("ion-skeleton-text"),f=(0,l.g2)("base-layout");return(0,l.uX)(),(0,l.Wv)(f,{pageTitle:"Мои чеки",pageDefaultBackLink:"/user"},{default:(0,l.k6)(()=>{var t,f;return[(null===(t=u.invoiceList)||void 0===t?void 0:t.length)>0?((0,l.uX)(),(0,l.Wv)(_,{key:0},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(u.invoiceList,n=>((0,l.uX)(),(0,l.Wv)(v,{key:n.order_id,button:"",onClick:e=>a.billOpen(null===n||void 0===n?void 0:n.invoice_link)},{default:(0,l.k6)(()=>[(0,l.bF)(r,{icon:o.receiptOutline,slot:"start",color:"primary"},null,8,["icon"]),(0,l.bF)(c,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.bF)(s,null,{default:(0,l.k6)(()=>[(0,l.eW)("Фискальный чек от "+(0,i.v_)(null===n||void 0===n?void 0:n.invoice_date),1)]),_:2},1024),(0,l.bF)(s,null,{default:(0,l.k6)(()=>[(0,l.eW)(" заказ №"+(0,i.v_)(null===n||void 0===n?void 0:n.order_id),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),(0,l.bF)(k,{slot:"end"},{default:(0,l.k6)(()=>[(0,l.eW)((0,i.v_)(null===n||void 0===n?void 0:n.order_sum_total)+(0,i.v_)(e.$heap.state.currencySign),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):(0,l.Q3)("",!0),0==(null===(f=u.invoiceList)||void 0===f?void 0:f.length)?((0,l.uX)(),(0,l.Wv)(_,{key:1},{default:(0,l.k6)(()=>[(0,l.bF)(v,null,{default:(0,l.k6)(()=>[(0,l.bF)(k,null,{default:(0,l.k6)(()=>n[0]||(n[0]=[(0,l.eW)("Чеков нет")])),_:1,__:[0]})]),_:1})]),_:1})):(0,l.Q3)("",!0),null==u.invoiceList?((0,l.uX)(),(0,l.Wv)(_,{key:2},{default:(0,l.k6)(()=>[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)([1,2,3],e=>(0,l.bF)(v,{key:e},{default:(0,l.k6)(()=>[(0,l.bF)(r,{style:{"background-color":"var(--ion-color-light)"}}),(0,l.bF)(c,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.bF)(s,null,{default:(0,l.k6)(()=>[(0,l.bF)(b,{animated:"",style:{width:"100%"}})]),_:1}),(0,l.bF)(s,null,{default:(0,l.k6)(()=>[(0,l.bF)(k,{color:"primary"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{animated:"",style:{width:"100px"}})]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1024)),64))]),_:1})):(0,l.Q3)("",!0)]}),_:1})}var u=t(5634),a=t(5480),r=t(9564),s=t(2311),d=t.n(s),c={components:{IonList:u.nf,IonItem:u.uz,IonGrid:u.lO,IonRow:u.ln,IonCol:u.hU,IonSkeletonText:u.ds,IonLabel:u.he,IonIcon:u.iq},setup(){return{receiptOutline:a.BVr}},data(){return{invoiceList:null,isOpen:!1,billLink:""}},methods:{async listGet(){try{const e={has_invoice:"1"};this.invoiceList=await d().post(this.$heap.state.hostname+"Order/listGet",e)}catch{}},async billOpen(e){if(!e)return void this.$flash("Невозможно открыть чек");e=e.replace(/"/g,"");const n=await u.OZ.create({component:r.A,componentProps:{billLink:e},initialBreakpoint:.85,breakpoints:[0,.85,1]}),t=function(){n.dismiss()};return this.$topic.on("dismissModal",t),n.present()}},mounted(){this.listGet()}},k=t(6262);const v=(0,k.A)(c,[["render",o]]);var _=v}}]);
//# sourceMappingURL=6800.86c543b6.js.map