"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[6710],{6710:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(6252),u=n(3577),o=(0,r.Uk)("Регистрация нового магазина"),l=(0,r.Uk)("Название магазина или ресторана*"),a=(0,r.Uk)(" Подавая заявку вы даете согласие на условия "),i=(0,r.Uk)("Договор поставки товаров и услуг"),c=(0,r.Uk)("Стать продавцом"),s=(0,r.Uk)("Необходимо зарегистрироваться"),d=(0,r.Uk)(" Чтобы стать продавцом, нужно быть зарегистрированным пользователем. Вы можете зарегистрироваться за 2 минуты. "),f=(0,r.Uk)("Зарегистрироваться"),p=(0,r.Uk)("Зарегистрированые магазины");function m(e,t,n,m,k,w){var _=(0,r.up)("ion-card-title"),h=(0,r.up)("ion-card-header"),b=(0,r.up)("ion-label"),W=(0,r.up)("ion-input"),v=(0,r.up)("ion-item"),g=(0,r.up)("router-link"),I=(0,r.up)("ion-text"),C=(0,r.up)("ion-checkbox"),x=(0,r.up)("ion-button"),U=(0,r.up)("ion-card-content"),$=(0,r.up)("ion-card"),Z=(0,r.up)("ion-icon"),y=(0,r.up)("base-layout");return(0,r.wg)(),(0,r.j4)(y,{"page-title":"Панель управления продавца",pageDefaultBackLink:"/user/user-dashboard"},{default:(0,r.w5)((function(){var n;return[e.$heap.state.user.user_id>1?((0,r.wg)(),(0,r.j4)($,{key:0,color:"light"},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(_,null,{default:(0,r.w5)((function(){return[o]})),_:1})]})),_:1}),(0,r.Wm)(U,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(v,{lines:"full"},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{position:"stacked",color:"primary"},{default:(0,r.w5)((function(){return[l]})),_:1}),(0,r.Wm)(W,{modelValue:k.store_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return k.store_name=e}),placeholder:"Название*"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(v,{lines:"none"},{default:(0,r.w5)((function(){return[(0,r.Wm)(I,null,{default:(0,r.w5)((function(){return[a,(0,r.Wm)(g,{to:"/page/rules-supplier"},{default:(0,r.w5)((function(){return[i]})),_:1})]})),_:1}),(0,r.Wm)(C,{slot:"end",modelValue:k.contractAccepted,"onUpdate:modelValue":t[1]||(t[1]=function(e){return k.contractAccepted=e})},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(x,{expand:"block",onClick:t[2]||(t[2]=function(e){return w.itemCreate()}),disabled:!k.contractAccepted||!k.store_name},{default:(0,r.w5)((function(){return[c]})),_:1},8,["disabled"])]})),_:1})]})),_:1})):((0,r.wg)(),(0,r.j4)($,{key:1,color:"light"},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(_,null,{default:(0,r.w5)((function(){return[s]})),_:1})]})),_:1}),(0,r.Wm)(U,null,{default:(0,r.w5)((function(){return[d,(0,r.Wm)(x,{expand:"block",onClick:t[3]||(t[3]=function(t){return e.$router.push("/user/sign-up")})},{default:(0,r.w5)((function(){return[f]})),_:1})]})),_:1})]})),_:1})),(null===(n=k.storeList)||void 0===n?void 0:n.length)>0?((0,r.wg)(),(0,r.j4)($,{key:2,color:"light"},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(_,null,{default:(0,r.w5)((function(){return[p]})),_:1})]})),_:1}),(0,r.Wm)(U,null,{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(k.storeList,(function(t){return(0,r.wg)(),(0,r.j4)(v,{key:t.store_id,detail:"",button:"",onClick:function(n){return e.$router.push(`/catalog/store-edit-${t.store_id}`)}},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{icon:m.storefrontOutline,slot:"start"},null,8,["icon"]),(0,r.Uk)(" "+(0,u.zw)(t.store_name||t.store_name_new||"- - -"),1)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1})):(0,r.kq)("",!0)]})),_:1})}var k=n(6835),w=n(8534),_=n(2066),h=n(8903),b=(n(9755),n(2008),n(351)),W={components:{IonInput:_.pK,IonCard:_.PM,IonCardHeader:_.Zi,IonCardTitle:_.Dq,IonCardContent:_.FN,IonLabel:_.Q$,IonItem:_.Ie,IonButton:_.YG,IonCheckbox:_.nz,IonText:_.yW,IonIcon:_.gu},setup(){return{storefrontOutline:h.qRG}},data(){return{supprier:b.Z.supplier.status,store_name:null,contractAccepted:0,storeList:null}},mounted(){var e=this;this.listGet(),this.$topic.on("userGet",(function(){e.storeList||e.listGet()}))},methods:{itemCreate(){var e=this;return(0,w.Z)((0,k.Z)().mark((function t(){var n,r,u,o;return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.store_name){t.next=4;break}return e.$flash("Название обязательно"),t.abrupt("return");case 4:return t.next=6,b.Z.supplier.storeItemCreate(e.store_name);case 6:if(n=t.sent,n){t.next=10;break}return e.$flash("Не удалось создать магазин или ресторан"),t.abrupt("return");case 10:e.$router.push(`/catalog/store-edit-${n}`),t.next=18;break;case 13:t.prev=13,t.t0=t["catch"](0),o=null===(r=t.t0.responseJSON)||void 0===r||null===(u=r.messages)||void 0===u?void 0:u.error,"limit_exeeded"==o&&e.$flash("У вас зарегистрировано максимальное количество магазинов"),e.$flash("Не удалось создать магазин или ресторан");case 18:case"end":return t.stop()}}),t,null,[[0,13]])})))()},listGet(){var e=this;return(0,w.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.Z.supplier.listGet();case 2:e.storeList=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},v=n(3744);const g=(0,v.Z)(W,[["render",m],["__scopeId","data-v-239bfb7a"]]);var I=g}}]);
//# sourceMappingURL=6710-legacy.9a5e4d1b.js.map