{"version":3,"file":"js/413.99702efc.js","mappings":"4KAiCWA,MAAM,U,SAINA,MAAM,Y,WAEwB,O,SAE9BA,MAAM,Y,WASA,4B,wOAlBF,EAAAC,oBAAA,WAAX,QAUM,O,MAVyB,QAAK,eAAE,EAAAC,yBAAyBF,MAAM,YAArE,EACE,OAGM,MAHN,EAGM,CAFW,EAAAG,cAAcC,aAAA,WAA7B,QAAgI,G,MAAtFC,IAAK,EAAAC,MAAMC,MAAMC,SAAQ,iBAAoB,EAAAL,cAAcC,WAAU,eAA/G,kCACA,QAA6G,GAAnGK,MAAA,eAAmBC,MAAM,WAAnC,C,kBAA6C,IAAqD,mBAAnD,EAAAJ,MAAMC,MAAMI,MAAMR,eAAeS,kBAAgB,M,QAEtE,EAAAC,eAAA,WAA5B,QAGM,MAHN,EAGM,EAFJ,QAAiE,GAAvDJ,MAAA,sBAAsB,C,kBAAC,IAAqB,mBAAnB,EAAAI,aAAaC,MAAI,M,OACpD,QAA+C,GAArCL,MAAA,sBAAsB,C,kBAAC,IAAG,M,WAFtC,WAIA,QAAmC,MAAnC,SATF,WAYA,QAOW,G,MAPMM,OAAA,GAAOC,OAAA,GAAQ,QAAK,eAAE,EAAAd,0BAAvC,C,kBACE,IAIE,EAJF,QAIE,GAHAe,KAAK,QACLR,MAAA,mCACCS,KAAM,EAAAC,UAHT,kBAKA,QAA+C,Q,kBAApC,IAAwB,M,gBAGrB,EAAAC,cAAA,WAAhB,QAEW,W,kBADP,IAA6J,EAA7J,QAA6J,GAA/IC,YAAY,uBAAwB,SAAM,eAAE,EAAAC,0B,WAAmC,EAAAhB,MAAMC,MAAMI,KAAKR,cAAcoB,iB,qCAA/B,EAAAjB,MAAMC,MAAMI,KAAKR,cAAcoB,iBAAgB,IAA5I,0B,QADJ,oB,yEAqBJ,GACEC,MAAM,CAAC,eAAe,eACtBC,WAAY,CACRC,QADQ,KAERC,YAFQ,KAGRC,OAHQ,KAIRC,QAJQ,KAKRC,QALQ,KAMRC,SANQ,KAORC,QAAO,MAEXC,QACE,MAAO,CAAEd,SAAQ,QAEnBe,OACE,MAAO,CACL/B,cAAegC,EAAA,6BAGnBC,UACE,IAAIC,EAAKC,KACTC,EAAA,KAAS,uBAAsBC,IAC7BH,EAAKlC,cAAcqC,KAErBD,EAAA,KAAS,WAAU5B,IACjB0B,EAAKlC,cAAcQ,EAAKR,kBAG5BsC,QAAS,CACPvC,wBACIwC,EAAA,OAAY,mBAEhBC,+BACE,MAAMC,EAAQ,CACZC,YAAYV,EAAA,uCACZZ,iBAAiBY,EAAA,6CAEnB,SAAaG,KAAKhC,MAAMC,MAAMC,SAAW,sBAAuBsC,KAAKC,UAAUH,MAGnFI,SAAU,CACRC,aACE,OAAOd,EAAA,sBAA2BA,EAAA,sBAA2B,GAE/DlC,oBACI,OAAOqC,KAAKnC,cAAc,EAAE,K,UChHpC,MAAM+C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S,0RCRE,QAKc,GALAC,SAAS,iCAA+B,C,kBAClD,IAAc,EAAd,QAAc,IACd,QAA0D,GAApCvC,aAAc,EAAAwC,qBAAmB,0BACvD,QAAmG,GAApE,kBAAe,YAAExC,IAAe,EAAAwC,oBAAoBxC,OACnF,QAAa,M,uCCDJb,MAAM,c,GACLS,MAAA,qB,gGAJV,QAQS,GARA6C,QAAS,EAAAA,QAAUC,SAAU,oCAA6CC,MAAM,EAAMC,OAAO,QAAtG,C,kBACgB,IAA6B,gBAA3C,QAMe,mBANgB,EAAAC,aAAVC,K,WAArB,QAMe,GAN8BC,IAAKD,EAAOE,MAAQpD,OAAK,4BAAsBkD,EAAOjD,WAAnG,C,kBACE,IAAiD,EAAjD,OAAiD,OAA3CL,IAAKsD,EAAOG,MAAO9D,MAAM,kBAA/B,WACA,OAGM,MAHN,EAGM,EAFJ,OAA+C,KAA/C,GAA+C,QAAnB2D,EAAOE,OAAK,IACxC,OAA6B,kBAAxBF,EAAOI,aAAW,Q,KAJ3B,4B,KADF,e,0CAmCJ,GAAe,QAAgB,CAC7BtC,WAAY,CACVuC,OADU,IAEVC,YAAW,KAEbhC,QACE,MAAO,CACLqB,QAAS,CAAC,KAAS,QAGvBpB,OACE,MAAO,CACLwB,YAAY,GACZQ,MAAM,KAGV9B,UACIE,KAAK6B,gBAET1B,QAAS,CACL0B,eACI,IAAI9B,EAAOC,KACX,QAAY,gCACX8B,MAAK,SAASC,GACbhC,EAAKqB,YAAYW,EAASC,UAE3BC,MAAK,SAASC,GACXnC,EAAK6B,MAAQM,EAAIC,aAAaC,SAASR,a,UCxDvD,MAAMhB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,SCgBalD,MAAM,e,yCAmBG,qC,WAEA,kG,+QAvBJ,EAAA2E,YAAA,WAAhB,QAkBW,G,MAlBgB3E,MAAM,cAAjC,C,kBACmB,IAA+B,gBAAhD,QAgBW,mBAhB2B,EAAA2E,WAAdC,K,WAAxB,QAgBW,GAhBD5D,OAAA,GAAwC4C,IAAKgB,EAAWC,SAAW,QAAK,GAAE,EAAAC,QAAQC,KAAI,SAAYH,EAAWC,UAAa7E,OAAK,QAAsB,GAApB4E,EAAWI,UAAS,cAA/J,C,kBACI,IAEM,EAFN,OAEM,MAFN,EAEM,CADaJ,EAAWxE,aAAA,WAA1B,QAA8H,G,MAAvFC,IAAK,EAAAC,MAAMC,MAAMC,SAAQ,kBAAqBoE,EAAWxE,WAAU,iBAA1G,mCAGgC,GAApBwE,EAAWI,YAAS,WAApC,QAAmH,G,MAA1EtE,MAAM,WAA/C,C,kBAAyD,IAAU,UAAV,cAAU,QAAGkE,EAAWK,mBAAoB,MAAG,M,KAAxG,oBACA,QAIW,G,MAJMvE,MAAM,UAAvB,C,kBACE,IAAiE,CAAhC,GAArBkE,EAAWM,aAAU,WAAjC,QAAiE,SAA3B,yBACrBN,EAAWO,sBAAqB,eAAjD,QAA+G,SAA1D,cAAU,QAAGP,EAAWO,uBAAwB,MAAG,MAAxG,WACA,QAA0B,SAAb,c,KAHf,OAMgBP,EAAW/D,aAAauE,UAAA,WAAxC,QAAsJ,G,MAArG1E,MAAM,WAAvD,C,kBAAiE,IAAmC,mBAAjCkE,EAAW/D,aAAauE,SAAS,KAAC,QAAER,EAAW/D,aAAawE,SAAS,MAAG,M,KAA3I,wBACA,QAEW,GAFDC,MAAM,QAAM,C,kBAClB,IAAkC,EAAlC,OAAkC,mBAA5BV,EAAWW,YAAU,M,KAD/B,S,KAbJ,sC,QADF,eAmBiB,EAAAZ,WAA6B,GAAhB,EAAAA,UAAUa,QAAxC,iBAA8C,WAA9C,QAOW,W,kBANT,IAEkB,EAFlB,QAEkB,Q,kBADhB,IAAkE,EAAlE,QAAkE,Q,kBAAlD,IAAiC,M,gBAEnD,QAEmB,Q,kBAFD,IAElB,M,iBANF,I,kCAyBF,GACE/D,WAAY,CACVgE,QADU,KAEV7D,OAFU,KAGV8D,QAHU,KAIV1D,QAJU,KAKV2D,QALU,KAMVC,cANU,KAOVC,aAPU,KAQVC,eAAc,MAEhB5D,OACE,MAAO,CACLyC,UAAW,OAGflC,QAAS,CACPE,gBACE,IAAIoD,EAAe5D,EAAA,2BACnB,GAAK4D,EAGL,IACE,MAAMC,QAAY,SAAY7D,EAAA,iBAAsB,oBAAqB,CAACU,YAAakD,EAAalD,cACpGP,KAAKqC,UAAUrC,KAAK2D,mBAAmBD,GACxC,SAEHC,mBAAmBD,GACjB,IAAI,IAAIE,KAAKF,EACXA,EAAME,GAAGrF,aAAasF,EAAA,wBAA4BH,EAAME,GAAGE,SAASJ,EAAME,GAAGG,wBAE/E,OAAOL,IAGXM,UACEhE,KAAKiE,OAAOC,GAAG,WAAU,KACvBlE,KAAKmE,aAEPnE,KAAKiE,OAAOC,GAAG,uBAAsBhE,IACnCF,KAAKmE,aAEPnE,KAAKmE,YCrGT,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,yBCRSC,GAAG,uB,GAQCA,GAAG,oB,qJARwB,EAAAC,mBAAA,WAApC,QAgBM,MAhBN,EAgBM,EAfF,QAKW,GALD3F,OAAA,GAAOD,OAAA,GAAOuE,MAAM,OAAO5E,MAAM,QAAS,QAAK,oBAAOoE,QAAQC,KAAI,SAAU,EAAA6B,iBAAiB/B,YAAvG,C,kBACE,IAAwC,EAAxC,OAAwC,mBAAlC,EAAA+B,iBAAiBrB,YAAU,IACjC,QAEW,GAFDtE,KAAK,UAAQ,C,kBAAC,IACV,UADU,iBACV,QAAE,EAAAJ,aAAauE,SAAS,KAAC,QAAE,EAAAvE,aAAawE,SAAS,OAC/D,M,gBAGF,OAOM,MAPN,EAOM,gBANF,QAKM,mBALe,EAAAsB,kBAATE,K,WAAZ,QAKM,OALkCjD,IAAKiD,EAAMC,UAAnD,EACI,QAEgB,Q,kBADZ,IAA0F,EAA1F,QAA0F,GAAhFzG,IAAK,EAAAC,MAAMC,MAAMC,SAAQ,iBAAoBqG,EAAMzG,WAAU,iBAAvE,mB,KADJ,OAGA,QAAgF,GAArEK,MAAA,sCAAoC,C,kBAAC,IAAoB,mBAAlBoG,EAAME,YAAU,M,KAAlE,WAJJ,YATR,e,YAyEJ,GAAe,QAAgB,CAC7BtF,WAAW,CACTG,OADS,KAEToF,aAFS,KAGTlF,QAHS,KAITE,QAJS,KAKTD,SAAQ,MAEVG,OACE,MAAO,CACLyE,iBAAkB,KAClBC,iBAAiB,KACjB/F,aAAa,GACboG,iBAAiB,OAGrB7E,UACE,IAAIC,EAAKC,KACTA,KAAKiE,OAAOC,GAAG,uBAAsBhE,IACnCH,EAAK4E,iBAAiBzE,EAAQK,YAC9BR,EAAK6E,yBAEP5E,KAAKiE,OAAOC,GAAG,WAAU7F,IACvB0B,EAAK4E,iBAAiBtG,EAAKR,cAAc0C,YACzCR,EAAK6E,yBAEP5E,KAAK2E,iBAAiB9E,EAAA,2BAA8BA,EAAA,uCAA0C,KAC9FG,KAAK4E,uBAEPzE,QAAS,CACPE,4BACI,GAAIL,KAAK2E,iBAGT,IACE,MAAME,QAAmB,QAAWhF,EAAA,iBAAsB,uBAAuB,CAACU,YAAYP,KAAK2E,mBACnG3E,KAAKqE,iBAAiBQ,EAAaC,cACnC9E,KAAKzB,aAAasF,EAAA,wBAA4BgB,EAAaf,SAASe,EAAad,wBACjF/D,KAAKsE,iBAAiBO,EACtB7E,KAAK+E,MAAM,kBAAkB/E,KAAKzB,cAClC,MAAM2D,SC3GhB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QNMA,GACE/C,WAAY,CACV6F,WADU,EAEVC,UAFU,EAGVC,kBAHU,IAIVC,0BAAyB,GAE3BvF,OACE,MAAO,CACLmB,oBAAoB,QOnB1B,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASF,KAEpE,S,mCCNA,MAAMgD,EAAM,CACRuB,kBAAkBC,GACd,IAAKA,EAAMC,YAAcD,EAAMC,UAAU,KAAOD,EAAMC,UAAU,GAAGxB,SAC/D,OAAO,KAEX,MAAMA,EAASuB,EAAMC,UAAU,GAAGxB,SAC5ByB,EAAYF,EAAMtB,wBAAwB,EAChD,OAAOF,EAAM2B,sBAAsB1B,EAASyB,IAEhDC,sBAAsB1B,EAASyB,GAC3BA,EAAYA,GAAa1F,EAAAA,EAAAA,MAAAA,iBAAAA,uBACzB,MAAM4F,EAAM5F,EAAAA,EAAAA,MAAAA,iBAAAA,kBACNrB,EAA2E,EAAtEkH,KAAKC,MAAM7B,EAASjE,EAAAA,EAAAA,MAAAA,iBAAAA,gBAA4C,GAAG,GAAK+F,SAASL,GACtFzC,EAAQtE,EAAKiH,EAAMjH,EAAKiH,EAAMjH,EAC9BuE,EAAQD,EAAQ2C,EACtB,MAAO,CAACjH,KAAAA,EAAKsE,QAAAA,EAAQC,QAAAA,KAG3B","sources":["webpack://Tezkel/./src/components/UserAddressWidget.vue","webpack://Tezkel/./src/components/UserAddressWidget.vue?acf1","webpack://Tezkel/./src/views/HomePage.vue","webpack://Tezkel/./src/components/HomeSlider.vue","webpack://Tezkel/./src/components/HomeSlider.vue?6ba5","webpack://Tezkel/./src/components/StoreList.vue","webpack://Tezkel/./src/components/StoreList.vue?5139","webpack://Tezkel/./src/components/HomePrimaryCategoryWidget.vue","webpack://Tezkel/./src/components/HomePrimaryCategoryWidget.vue?517a","webpack://Tezkel/./src/views/HomePage.vue?dec5","webpack://Tezkel/./src/scripts/Utils.js"],"sourcesContent":["<style scoped>\r\n  .center{\r\n    height: 100%;\r\n    width: 100%;\r\n    border-top-right-radius: 40px;\r\n    border-bottom-right-radius: 40px;\r\n    background-color: white;\r\n    box-shadow: 5px 0px 5px #0003;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .rightend{\r\n    height: 100%;\r\n    width:90px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .selector{\r\n    display: flex;\r\n    background-color: var(--ion-color-secondary);\r\n    height: 40px;\r\n    box-shadow: 0px 0px 5px #ccc;\r\n    -margin-bottom: 20px;\r\n  }\r\n  ion-img{\r\n    height: 24px;\r\n    margin: 7px;\r\n  }\r\n</style>\r\n\r\n<template>\r\n    <div v-if=\"isMainLocationSet\" @click=\"selectDeliveryAddress()\" class=\"selector\">\r\n      <div class=\"center\">\r\n        <ion-img v-if=\"location_main.image_hash\" :src=\"$heap.state.hostname + 'image/get.php/'+location_main.image_hash+'.32.32.webp'\"/>\r\n        <ion-text style=\"margin:5px\" color=\"primary\">{{$heap.state.user?.location_main?.location_address}}</ion-text>\r\n      </div>\r\n      <div class=\"rightend\" v-if=\"deliveryTime\">\r\n        <ion-text style=\"font-size:24px\">{{deliveryTime.time}}</ion-text>\r\n        <ion-note style=\"font-size:10px\">мин</ion-note>\r\n      </div>\r\n      <div class=\"rightend\" v-else></div>\r\n    </div>\r\n\r\n    <ion-item v-else detail button @click=\"selectDeliveryAddress()\">\r\n      <ion-icon\r\n        slot=\"start\"\r\n        style=\"color: var(--ion-color-primary)\"\r\n        :icon=\"location\"\r\n      />\r\n      <ion-label> Выбрать адрес доставки </ion-label>\r\n    </ion-item>\r\n\r\n    <ion-item v-if=\"showComment\">\r\n        <ion-textarea placeholder=\"комментарий к адресу\" @change=\"locationCommentChanged()\" v-model=\"$heap.state.user.location_main.location_comment\"></ion-textarea>\r\n    </ion-item>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n  IonIcon,\r\n  IonTextarea,\r\n  IonImg,\r\n  IonText,\r\n  IonNote,\r\n  IonLabel,\r\n  IonItem,\r\n }  from \"@ionic/vue\";\r\nimport { location }             from \"ionicons/icons\";\r\nimport heap                     from \"@/heap\";\r\nimport router                   from '@/router';\r\nimport Topic                    from '@/scripts/Topic.js'\r\nimport jQuery                   from 'jquery';\r\n\r\nexport default {\r\n  props:['deliveryTime','showComment'],\r\n  components: {\r\n      IonIcon,\r\n      IonTextarea,\r\n      IonImg,\r\n      IonText,\r\n      IonNote,\r\n      IonLabel,\r\n      IonItem,\r\n  },\r\n  setup() {\r\n    return { location };\r\n  },\r\n  data() {\r\n    return {\r\n      location_main: heap.state.user.location_main,\r\n    };\r\n  },\r\n  created(){\r\n    let self=this;\r\n    Topic.on('userMainLocationSet',mainloc=>{\r\n      self.location_main=mainloc\r\n    })\r\n    Topic.on('userGet',user=>{\r\n      self.location_main=user.location_main\r\n    })\r\n  },\r\n  methods: {\r\n    selectDeliveryAddress() {\r\n        router.push('user-addresses');\r\n    },\r\n    async locationCommentChanged(){\r\n      const request={\r\n        location_id:heap.state.user.location_main.location_id,\r\n        location_comment:heap.state.user.location_main.location_comment\r\n      };\r\n      jQuery.post( this.$heap.state.hostname + \"Location/itemUpdate\", JSON.stringify(request) );\r\n    }\r\n  },\r\n  computed: {\r\n    isSignedIn() {\r\n      return heap.state.user.user_id && heap.state.user.user_id > -1;\r\n    },\r\n    isMainLocationSet(){\r\n        return this.location_main?1:0;\r\n    }\r\n  },\r\n};\r\n</script>","import { render } from \"./UserAddressWidget.vue?vue&type=template&id=107d07d6&scoped=true\"\nimport script from \"./UserAddressWidget.vue?vue&type=script&lang=js\"\nexport * from \"./UserAddressWidget.vue?vue&type=script&lang=js\"\n\nimport \"./UserAddressWidget.vue?vue&type=style&index=0&id=107d07d6&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-107d07d6\"]])\n\nexport default __exports__","<template>\r\n  <base-layout  pageLogo=\"./assets/icon/tezkel_logo.png\">\r\n      <home-slider/>\r\n      <user-address-widget :deliveryTime=\"primaryDeliveryTime\"/>\r\n      <home-primary-category-widget @deliveryTimeGet=\"deliveryTime=>{primaryDeliveryTime=deliveryTime}\"/>\r\n      <store-list/>\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\nimport HomeSlider                 from \"@/components/HomeSlider\";\r\nimport StoreList                  from \"@/components/StoreList\";\r\nimport UserAddressWidget          from \"@/components/UserAddressWidget\";\r\nimport HomePrimaryCategoryWidget  from \"@/components/HomePrimaryCategoryWidget\";\r\n\r\nexport default {\r\n  components: {\r\n    HomeSlider,\r\n    StoreList,\r\n    UserAddressWidget,\r\n    HomePrimaryCategoryWidget\r\n  },\r\n  data(){\r\n    return {\r\n      primaryDeliveryTime:null\r\n    }\r\n  }\r\n};\r\n</script>","<template>\r\n      <swiper :modules=\"modules\" :autoplay='{delay: 3000, disableOnInteraction: false}' :loop=\"true\" effect=\"fade\">\r\n        <swiper-slide v-for=\"hslide in home_slides\" :key=\"hslide.title\" :style=\"`background-color:${hslide.color};`\">\r\n          <img :src=\"hslide.image\" class=\"home_slide_img\"/>\r\n          <div class=\"home_slide\">\r\n            <h1 style=\"font-size:3em\">{{hslide.title}}</h1>\r\n            <p>{{hslide.description}}</p>\r\n          </div>\r\n        </swiper-slide>\r\n      </swiper>\r\n</template>\r\n\r\n<style scoped>\r\n  .home_slide{\r\n    position:absolute;\r\n    top:0px;\r\n    color:white;\r\n    margin-left:40%;\r\n    text-align:left;\r\n    text-shadow: 0px 0px 3px #000000;\r\n  }\r\n  .home_slide_img{\r\n    display: block;\r\n    margin-left: auto;\r\n    max-height:250px;\r\n  }\r\n</style>\r\n\r\n\r\n<script>\r\n  import jQuery from \"jquery\";\r\n  import { defineComponent } from 'vue';\r\n  import { EffectFade, Autoplay } from 'swiper';\r\n  import { Swiper, SwiperSlide } from 'swiper/vue';\r\n\r\n  import 'swiper/css/bundle';\r\n  export default defineComponent({\r\n    components: {\r\n      Swiper,\r\n      SwiperSlide,\r\n    },\r\n    setup() {\r\n      return {\r\n        modules: [Autoplay,EffectFade], \r\n      };\r\n    },\r\n    data(){\r\n      return {\r\n        home_slides:[],\r\n        error:\"\"\r\n      };\r\n    },\r\n    created(){\r\n        this.getSlideList();\r\n    },\r\n    methods: {\r\n        getSlideList(){\r\n            var self = this;\r\n            jQuery.get( \"/assets/homeslider/conf.json\")\r\n            .done(function(response) {\r\n              self.home_slides=response.slides;\r\n            })\r\n            .fail(function(err) {\r\n                self.error = err.responseJSON.messages.error;\r\n            });\r\n        }\r\n    },\r\n  });\r\n</script>","import { render } from \"./HomeSlider.vue?vue&type=template&id=13bbb445&scoped=true\"\nimport script from \"./HomeSlider.vue?vue&type=script&lang=js\"\nexport * from \"./HomeSlider.vue?vue&type=script&lang=js\"\n\nimport \"./HomeSlider.vue?vue&type=style&index=0&id=13bbb445&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-13bbb445\"]])\n\nexport default __exports__","<style scoped>\r\n.crop-to-fit {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow: hidden;\r\n  height: 180px;\r\n}\r\n\r\n.crop-to-fit ion-img {\r\n  flex-shrink:0;\r\n  min-width:100%;\r\n  min-height:100%\r\n}\r\nion-card{\r\n  border-radius: 10px;\r\n}\r\n.closed ion-img{\r\n  filter: grayscale(1);\r\n}\r\n</style>\r\n\r\n<template>\r\n  <ion-list v-if=\"storeList\" class=\"store-list\">\r\n    <ion-card button v-for=\"store_item in storeList\" :key=\"store_item.store_id\" @click=\"$router.push('store-' + store_item.store_id)\"  :class=\"store_item.is_opened==0?'closed':''\">\r\n        <div class=\"crop-to-fit\">\r\n            <ion-img v-if=\"store_item.image_hash\" :src=\"$heap.state.hostname +'/image/get.php/' +store_item.image_hash +'.300.300.webp'\"/>\r\n        </div>\r\n\r\n        <ion-chip v-if=\"store_item.is_opened==1\" color=\"success\">Открыт до {{ store_item.store_time_closes }}:00</ion-chip>\r\n        <ion-chip v-else color=\"danger\">\r\n          <span v-if=\"store_item.is_working==0\">Временно не работает</span>\r\n          <span v-else-if=\"store_item.store_next_time_opens>0\">Закрыт до {{ store_item.store_next_time_opens }}:00</span>\r\n          <span v-else>Закрыт</span>\r\n        </ion-chip>\r\n\r\n        <ion-chip v-if=\"store_item.deliveryTime.timeMin\" color=\"primary\">{{store_item.deliveryTime.timeMin}}-{{store_item.deliveryTime.timeMax}}мин</ion-chip>\r\n        <ion-item lines=\"none\">\r\n            <h3>{{store_item.store_name}}</h3>\r\n        </ion-item>\r\n    </ion-card>\r\n  </ion-list>\r\n  <ion-card v-if=\"!storeList || storeList.length==0\">\r\n    <ion-card-header>\r\n      <ion-card-title>Подходящих поставщиков не нашлось</ion-card-title>\r\n    </ion-card-header>\r\n    <ion-card-content>\r\n      К сожалению, не найдено подходящих предприятий. Возможно вы находитесь вне радиуса доставки.\r\n    </ion-card-content>\r\n  </ion-card>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  IonList,\r\n  IonImg,\r\n  IonChip,\r\n  IonItem,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardTitle,\r\n  IonCardContent\r\n}                   from \"@ionic/vue\";\r\nimport jQuery       from \"jquery\";\r\nimport heap         from \"@/heap\";\r\nimport Utils        from '@/scripts/Utils.js'\r\n\r\nexport default {\r\n  components: {\r\n    IonList,\r\n    IonImg,\r\n    IonChip,\r\n    IonItem,\r\n    IonCard,\r\n    IonCardHeader,\r\n    IonCardTitle,\r\n    IonCardContent\r\n  },\r\n  data() {\r\n    return {\r\n      storeList: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async listGet() {\r\n      var main_address = heap.state.user.location_main;\r\n      if (!main_address) {\r\n        return;\r\n      }\r\n      try{\r\n        const found=await jQuery.post(heap.state.hostname + \"Store/listNearGet\", {location_id: main_address.location_id,})\r\n        this.storeList=this.storeListCalculate(found)\r\n      }catch{/** */}\r\n    },\r\n    storeListCalculate(found){\r\n      for(let i in found){\r\n        found[i].deliveryTime=Utils.deliveryTimeCalculate(found[i].distance,found[i].store_time_preparation)\r\n      }\r\n      return found\r\n    },\r\n  },\r\n  mounted(){\r\n    this.$topic.on('userGet',()=>{\r\n      this.listGet();\r\n    }) \r\n    this.$topic.on('userMainLocationSet',mainloc=>{\r\n      this.listGet();\r\n    })\r\n    this.listGet();\r\n  }\r\n};\r\n</script>\r\n\r\n","import { render } from \"./StoreList.vue?vue&type=template&id=fc13ff1a&scoped=true\"\nimport script from \"./StoreList.vue?vue&type=script&lang=js\"\nexport * from \"./StoreList.vue?vue&type=script&lang=js\"\n\nimport \"./StoreList.vue?vue&type=style&index=0&id=fc13ff1a&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fc13ff1a\"]])\n\nexport default __exports__","<template>\r\n    <div id=\"hcat_widget_wrapper\" v-if=\"productGroupList\">\r\n        <ion-item button detail lines=\"none\" color=\"light\" @click=\"this.$router.push('store-'+primaryStoreData.store_id)\">\r\n          <h4>{{primaryStoreData.store_name}}</h4>\r\n          <ion-note slot=\"helper\">\r\n            Доставка за {{deliveryTime.timeMin}}-{{deliveryTime.timeMax}}мин\r\n          </ion-note>    \r\n        </ion-item>\r\n\r\n        <div id=\"hcat_widget_grid\">\r\n            <div v-for=\"group in productGroupList\" :key=\"group.group_id\">\r\n                <ion-thumbnail>\r\n                    <ion-img :src=\"$heap.state.hostname + 'image/get.php/'+group.image_hash+'.100.100.webp'\"/>\r\n                </ion-thumbnail>\r\n                <ion-label style=\"height:2em;text-align:center\">{{group.group_name}}</ion-label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n#hcat_widget_grid {\r\n    display: grid;\r\n    margin:10px;\r\n    gap:6px;\r\n    grid-template-columns: repeat(3,1fr);\r\n    grid-template-rows: 140px;\r\n}\r\nion-thumbnail{\r\n  border-radius:10px;\r\n  border:1px solid #ddd;\r\n  height:100px;\r\n  width:100px\r\n}\r\nion-img{\r\n  border-radius:10px;\r\n}\r\n@media screen and (min-width: 600px) {\r\n    #hcat_widget_grid {\r\n        grid-template-columns: repeat(5,1fr);\r\n    }\r\n}\r\n@media screen and (min-width: 1000px) {\r\n    #hcat_widget_grid {\r\n        grid-template-columns: repeat(8,1fr);\r\n    }\r\n}\r\n#hcat_widget_grid>div{\r\n    display: flex;\r\n    flex-direction: column;\r\n    -moz-box-align: center;\r\n    align-items: center;\r\n    -moz-box-pack: center;\r\n    justify-content: center;\r\n}\r\n#hcat_widget_wrapper{\r\n    background-color: var(--ion-color-light);\r\n}\r\n</style>\r\n\r\n<script lang=\"js\">\r\nimport heap       from \"@/heap\";\r\nimport jQuery     from \"jquery\";\r\nimport Topic      from \"@/scripts/Topic.js\"\r\nimport Utils      from \"@/scripts/Utils.js\"\r\nimport {\r\n  IonImg,\r\n  IonThumbnail,\r\n  IonNote,\r\n  IonItem,\r\n  IonLabel,\r\n} from \"@ionic/vue\"\r\nimport { defineComponent } from 'vue';\r\n\r\nexport default defineComponent({\r\n  components:{\r\n    IonImg,\r\n    IonThumbnail,\r\n    IonNote,\r\n    IonItem,\r\n    IonLabel,\r\n  },\r\n  data() {\r\n    return {\r\n      productGroupList: null,\r\n      primaryStoreData:null,\r\n      deliveryTime:{},\r\n      main_location_id:null,\r\n    };\r\n  },\r\n  created(){\r\n    let self=this;\r\n    this.$topic.on('userMainLocationSet',mainloc=>{\r\n      self.main_location_id=mainloc.location_id;\r\n      self.productGroupListGet()\r\n    })\r\n    this.$topic.on('userGet',user=>{\r\n      self.main_location_id=user.location_main.location_id;\r\n      self.productGroupListGet()\r\n    })\r\n    this.main_location_id=heap.state.user.location_main?heap.state.user.location_main.location_id:null\r\n    this.productGroupListGet()\r\n  },\r\n  methods: {\r\n    async productGroupListGet() {\r\n        if(!this.main_location_id){\r\n            return ;      \r\n        }\r\n        try{\r\n          const primaryStore=await jQuery.get(heap.state.hostname + \"Store/primaryNearGet\",{location_id:this.main_location_id})\r\n          this.productGroupList=primaryStore.category_list;\r\n          this.deliveryTime=Utils.deliveryTimeCalculate(primaryStore.distance,primaryStore.store_time_preparation)\r\n          this.primaryStoreData=primaryStore\r\n          this.$emit('deliveryTimeGet',this.deliveryTime)\r\n        } catch(err){\r\n          //\r\n        }\r\n    },\r\n  },\r\n})\r\n</script>","import { render } from \"./HomePrimaryCategoryWidget.vue?vue&type=template&id=bfd59d50&scoped=true\"\nimport script from \"./HomePrimaryCategoryWidget.vue?vue&type=script&lang=js\"\nexport * from \"./HomePrimaryCategoryWidget.vue?vue&type=script&lang=js\"\n\nimport \"./HomePrimaryCategoryWidget.vue?vue&type=style&index=0&id=bfd59d50&scoped=true&lang=css\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bfd59d50\"]])\n\nexport default __exports__","import { render } from \"./HomePage.vue?vue&type=template&id=5eeb2fe2\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"W:\\\\Ionic\\\\Tezkel\\\\blank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import heap from '@/heap';\r\nconst Utils={\r\n    deliveryCalculate(Store){\r\n        if( !Store.locations || !Store.locations[0] || !Store.locations[0].distance){\r\n            return null;\r\n        }\r\n        const distance=Store.locations[0].distance;\r\n        const preparation=Store.store_time_preparation||0;\r\n        return Utils.deliveryTimeCalculate(distance,preparation);\r\n    },\r\n    deliveryTimeCalculate(distance,preparation){\r\n        preparation=preparation??heap.state.deliverySettings.defaultPreparationTime;\r\n        const delta=heap.state.deliverySettings.deliveryTimeDelta;\r\n        const time=Math.round(distance/heap.state.deliverySettings.courierVelocity*60/5)*5+parseInt(preparation);\r\n        const timeMin=time>delta?time-delta:time;\r\n        const timeMax=timeMin+delta;\r\n        return {time,timeMin,timeMax};\r\n    }\r\n  };\r\n  export default Utils;"],"names":["class","isMainLocationSet","selectDeliveryAddress","location_main","image_hash","src","$heap","state","hostname","style","color","user","location_address","deliveryTime","time","detail","button","slot","icon","location","showComment","placeholder","locationCommentChanged","location_comment","props","components","IonIcon","IonTextarea","IonImg","IonText","IonNote","IonLabel","IonItem","setup","data","heap","created","self","this","Topic","mainloc","methods","router","async","request","location_id","JSON","stringify","computed","isSignedIn","__exports__","render","pageLogo","primaryDeliveryTime","modules","autoplay","loop","effect","home_slides","hslide","key","title","image","description","Swiper","SwiperSlide","error","getSlideList","done","response","slides","fail","err","responseJSON","messages","storeList","store_item","store_id","$router","push","is_opened","store_time_closes","is_working","store_next_time_opens","timeMin","timeMax","lines","store_name","length","IonList","IonChip","IonCard","IonCardHeader","IonCardTitle","IonCardContent","main_address","found","storeListCalculate","i","Utils","distance","store_time_preparation","mounted","$topic","on","listGet","id","productGroupList","primaryStoreData","group","group_id","group_name","IonThumbnail","main_location_id","productGroupListGet","primaryStore","category_list","$emit","HomeSlider","StoreList","UserAddressWidget","HomePrimaryCategoryWidget","deliveryCalculate","Store","locations","preparation","deliveryTimeCalculate","delta","Math","round","parseInt"],"sourceRoot":""}