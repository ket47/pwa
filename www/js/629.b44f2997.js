"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[629],{1629:function(e,l,o){o.r(l),o.d(l,{default:function(){return b}});var n=o(6252),t=o(9963);const s={novalidate:""},i=(0,n.Uk)("Код"),a=(0,n.Uk)("+7"),d=(0,n.Uk)("Телефон"),u={"padding-left":""},p=(0,n.Uk)("Пароль (Минимум 6 символов)"),r={"padding-left":""},f=(0,n.Uk)("Имя пользователя"),m={"padding-left":""},h=(0,n.Uk)("Зарегистрироваться"),c=(0,n.Uk)("Уже есть учетная запись?");function w(e,l,o,w,_,g){const k=(0,n.up)("ion-label"),y=(0,n.up)("ion-select-option"),W=(0,n.up)("ion-select"),V=(0,n.up)("ion-col"),b=(0,n.up)("ion-input"),B=(0,n.up)("ion-row"),I=(0,n.up)("ion-item"),v=(0,n.up)("ion-text"),U=(0,n.up)("ion-list"),x=(0,n.up)("ion-button"),C=(0,n.up)("router-link"),S=(0,n.up)("base-layout");return(0,n.wg)(),(0,n.j4)(S,{"page-title":"Зарегистрироваться","page-default-back-link":"/home"},{default:(0,n.w5)((()=>[(0,n._)("form",s,[(0,n.Wm)(U,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Wm)(B,null,{default:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,{position:"stacked",color:"primary"},{default:(0,n.w5)((()=>[i])),_:1}),(0,n.Wm)(W,{value:_.fields.phonePrefix,onIonChange:l[0]||(l[0]=e=>_.fields.phonePrefix=e.target.value)},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{value:"+7"},{default:(0,n.w5)((()=>[a])),_:1})])),_:1},8,["value"])])),_:1}),(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,{position:"stacked",color:"primary"},{default:(0,n.w5)((()=>[d])),_:1}),(0,n.Wm)(b,{modelValue:_.fields.phoneBody,"onUpdate:modelValue":l[1]||(l[1]=e=>_.fields.phoneBody=e),name:"phone",type:"numeric",inputmode:"tel",value:_.fields.phoneBody,onInput:l[2]||(l[2]=e=>{e.target.value=g.phoneValidate(e)}),placeholder:"(978)-000-00-00",spellcheck:"false",autocapitalize:"off",required:""},null,8,["modelValue","value"])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(v,{color:"danger"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("p",u,"Неверный номер телефона",512),[[t.F8,!g.phoneValid&&1==_.submitted]])])),_:1}),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,{position:"stacked",color:"primary"},{default:(0,n.w5)((()=>[p])),_:1}),(0,n.Wm)(b,{modelValue:_.fields.password,"onUpdate:modelValue":l[3]||(l[3]=e=>_.fields.password=e),name:"password",type:"password",placeholder:"Пароль (Минимум 6 символов)",required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(v,{color:"danger"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("p",r,"Пароль должен содержать не менее 6 символов.",512),[[t.F8,!g.passwordValid&&1==_.submitted]])])),_:1}),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,{position:"stacked",color:"primary"},{default:(0,n.w5)((()=>[f])),_:1}),(0,n.Wm)(b,{modelValue:_.fields.username,"onUpdate:modelValue":l[4]||(l[4]=e=>_.fields.username=e),name:"username",type:"text",placeholder:"Имя пользователя",required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(v,{color:"danger"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("p",m,"Неверное имя пользователя",512),[[t.F8,!g.usernameValid&&1==_.submitted]])])),_:1})])),_:1}),(0,n.Wm)(B,{"responsive-sm":""},{default:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x,{onClick:g.onSubmit,expand:"block"},{default:(0,n.w5)((()=>[h])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,n.Wm)(B,{"responsive-sm":""},{default:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Wm)(C,{to:"/sign-in"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{color:"light",expand:"block"},{default:(0,n.w5)((()=>[c])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})}var _=o(9095),g=o(351),k=o(1933),y={name:"UserSignup",components:{IonRow:_.Nd,IonCol:_.wI,IonSelect:_.t9,IonSelectOption:_.n0,IonLabel:_.Q$,IonInput:_.pK,IonItem:_.Ie,IonText:_.yW,IonList:_.q_,IonButton:_.YG},data(){return{error:"",submitted:!1,config:{phoneMask:"(000)-000-00-00"},fields:{phonePrefix:"+7",phoneBody:"9785141948",password:"123456",username:"Adam Hi"}}},computed:{phoneValid(){return 10==this.fields.phoneBody.replace(/\D/g,"").length},passwordValid(){return this.fields.password.length>=6},usernameValid(){return this.fields.username.length>0}},methods:{onSubmit(){var e=this;if(this.submitted=!0,!this.phoneValid||!this.passwordValid||!this.usernameValid)return!1;let l={user_phone:this.fields.phonePrefix+this.fields.phoneBody.replace(/\D/g,""),user_pass:this.fields.password,user_pass_confirm:this.fields.password,user_name:this.fields.username};g.Z.signUp(l,(function(l){l.success?k.Z.push("/sign-in"):e.error=l.message}))},phoneValidate(e){this.fields.phoneBody=e.target.value,this.fields.phoneBody=this.fields.phoneBody.replace(/\D/g,""),this.fields.phoneBody.length>10&&(this.fields.phoneBody=this.fields.phoneBody.substring(0,10));let l="",o=0;for(let n in this.config.phoneMask){if(!this.fields.phoneBody[o])break;let e=this.config.phoneMask[n];"0"==e?(l+=this.fields.phoneBody[o],o++):l+=e}return this.fields.phoneBody=l,this.fields.phoneBody}}},W=o(3744);const V=(0,W.Z)(y,[["render",w]]);var b=V}}]);
//# sourceMappingURL=629.b44f2997.js.map