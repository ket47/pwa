{"version":3,"file":"js/4612.f8ef53ce.js","mappings":"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","sources":["webpack://Tezkel/./src/views/ProductEdit.vue","webpack://Tezkel/./src/components/GroupPicker.vue","webpack://Tezkel/./src/components/GroupPicker.vue?0a04","webpack://Tezkel/./src/views/ProductEdit.vue?406f"],"sourcesContent":["<style scoped>\r\n  .schedule ion-item ion-label{\r\n    width:130px\r\n  }\r\n  .disabled{\r\n    background-color: var(--ion-color-medium-shade);\r\n  }\r\n  .deleted{\r\n    background-color: var(--ion-color-danger-tint);\r\n  }\r\n  .notworking{\r\n    background-color: var(--ion-color-light-shade);\r\n  }\r\n  .primary{\r\n    background-color: var(--ion-color-primary-shade);\r\n  }\r\n  .active{\r\n    background-color: var(--ion-color-success-shade);\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <base-layout :page-title=\"productItem?.product_name??'Товар'\" :pageDefaultBackLink=\"`/catalog/product-${productId}`\">\r\n\r\n  <div v-if=\"!is_option_child\">\r\n    <ion-card :color=\"messageCardSeverity\">\r\n      <ion-card-header>\r\n        <ion-card-title>\r\n          Форма заполнена на {{productItem?.validity??0}}%\r\n          <ion-progress-bar :value=\"productItem?.validity/100\"></ion-progress-bar>\r\n        </ion-card-title>\r\n      </ion-card-header>\r\n      <ion-card-content v-if=\"productItem?.validity<validity_min\">\r\n        <ion-text>\r\n          Вам необходимо заполнить анкету не меньше чем на {{validity_min}}% для рассмотрения модератором\r\n          <p v-if=\"productItem?.validity==0\">Обратите внимание на то, что поля \r\n            <ul>\r\n              <li>Название (больше 5 букв), </li>\r\n              <li>Цена, </li>\r\n              <li>Актуальный остаток (если ведется учет), </li>\r\n              <li>Изображения товара</li>\r\n            </ul>\r\n            обязательные\r\n          </p>\r\n        </ion-text>\r\n      </ion-card-content>\r\n    </ion-card>\r\n    <ion-card v-if=\"message&&productItem?.validity>validity_min\">\r\n      <ion-card-content :class=\"messageClass\">\r\n        <ion-text>{{message}}</ion-text>\r\n      </ion-card-content>\r\n    </ion-card>\r\n  </div>\r\n\r\n    <ion-list v-if=\"productItem\">\r\n      <ion-item>\r\n        <ion-icon :src=\"trashOutline\" color=\"primary\" slot=\"start\"/>\r\n        \r\n        <ion-toggle v-model=\"is_deleted\" color=\"danger\" @ionChange=\"itemDelete($event.target.checked?1:0)\">Удалено</ion-toggle>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-icon :src=\"calculatorOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-if=\"productItem\" v-model=\"is_counted\" @ionChange=\"save('is_counted',$event.target.checked?1:0)\">Вести учет остатков</ion-toggle>\r\n      </ion-item>\r\n      <ion-item v-if=\"!is_option_child\">\r\n        <ion-icon :src=\"layersOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-if=\"productItem\" v-model=\"is_option_parent\" @ionChange=\"itemOptionSet($event.target.checked);\">Имеет варианты</ion-toggle>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-icon :src=\"ribbonOutline\" color=\"primary\" slot=\"start\"/>\r\n        <ion-toggle v-model=\"is_disabled\" @ionChange=\"itemDisable($event.target.checked?1:0)\">На модерации</ion-toggle>\r\n      </ion-item>\r\n\r\n\r\n      <!-- OPTIONS DATA \r\n      <ion-popover :is-open=\"is_option_menu_open\" @didDissmiss=\"is_option_menu_open=false\">\r\n        <ion-content>\r\n          <ion-list>\r\n            <ion-item>\r\n              Вариант\r\n            </ion-item>\r\n            <ion-item :button=\"true\" :detail=\"false\" @click=\"itemOptionPhotoAdd()\">\r\n              <ion-icon :src=\"cameraOutline\" slot=\"start\"/> Добавить фото\r\n            </ion-item>\r\n          </ion-list>\r\n        </ion-content>\r\n      </ion-popover>\r\n      -->\r\n\r\n\r\n      <div @change=\"saveForm\" v-if=\"optionData\">\r\n          <ion-card @click=\"$router.replace(`product-edit-${optionData.parent.product_id}?refreshOptions=1`)\" :color=\"(is_option_parent)?'primary':'light'\">\r\n            <ion-card-header>\r\n              <ion-card-subtitle>\r\n                Родительский товар\r\n              </ion-card-subtitle>\r\n            </ion-card-header>\r\n            <ion-card-content>\r\n              <ion-item color=\"light\" lines=\"none\">\r\n                <img slot=\"start\" style=\"height:70px;border-radius:10px;margin:3px\" :src=\"`${$heap.state.hostname}image/get.php/${optionData.parent.image_hash}.70.70.webp`\"/>\r\n                <ion-label>{{optionData.parent.product_name}}</ion-label>\r\n              </ion-item>\r\n              <ion-item v-if=\"productId==optionData.parent.product_id\" color=\"light\">\r\n                <ion-input label=\"Вариант*\" label-placement=\"stacked\" placeholder=\"напишите вариант\" name=\"product_option\" v-model=\"productItem.product_option\"/>\r\n              </ion-item>\r\n              <ion-item lines=\"none\" v-else color=\"light\">\r\n                <ion-text>[{{optionData.parent.product_option}}]</ion-text>\r\n              </ion-item>\r\n            </ion-card-content>\r\n          </ion-card>\r\n        <div style=\"display:grid;grid-template-columns:1fr 1fr\">\r\n          <ion-card @click=\"$router.replace(`product-edit-${option.product_id}?refreshOptions=1`)\" v-for=\"option in optionData.children\" :key=\"option.product_id\" :color=\"productItem.product_id==option.product_id?'primary':''\">\r\n            <ion-card-content>\r\n              <div v-if=\"productItem.product_id==option.product_id\">\r\n                <ion-item :color=\"productItem.deleted_at?'danger':''\">\r\n                  <ion-input label=\"Вариант*\" label-placement=\"stacked\" placeholder=\"напишите вариант\" name=\"product_option\" v-model=\"productItem.product_option\"/>\r\n                </ion-item>\r\n                <ion-item v-if=\"productItem.image_hash\">\r\n                  <ion-icon :src=\"cameraOutline\"/>\r\n                </ion-item>\r\n              </div>\r\n              <ion-item lines=\"none\" v-else>\r\n                <ion-text :color=\"option.deleted_at?'danger':'medium'\">[{{option.product_option}}]</ion-text>\r\n              </ion-item>\r\n            </ion-card-content>\r\n          </ion-card>\r\n          <ion-card>\r\n            <ion-card-content>\r\n              <ion-button color=\"light\" expand=\"block\" @click=\"itemOptionCreate()\"><ion-icon :src=\"addOutline\"/>добавить</ion-button>\r\n            </ion-card-content>\r\n          </ion-card>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <div v-if=\"!is_option_child\">\r\n      <ion-item-divider></ion-item-divider>\r\n      <ion-item button @click=\"$go('/catalog/product-'+productItem.product_id)\" detail=\"false\">\r\n        <ion-icon :src=\"chevronBack\" slot=\"start\"/>\r\n        Показать товар\r\n      </ion-item>\r\n      <ion-item button @click=\"showProductInStore()\" detail=\"false\">\r\n        <ion-icon :src=\"chevronBack\" slot=\"start\"/>\r\n        Показать в магазине\r\n      </ion-item>\r\n      <ion-item button @click=\"$go('/catalog/store-edit-'+productItem.store_id)\" detail=\"false\">\r\n        <ion-icon :src=\"chevronBack\" slot=\"start\"/>\r\n        Управление магазином\r\n      </ion-item>\r\n      </div>\r\n    </ion-list>\r\n\r\n    <form @change=\"saveForm\" v-if=\"productItem\">\r\n      <ion-list lines=\"full\">\r\n        <ion-item-group>\r\n          <ion-item-divider>\r\n            <ion-label>Основные настройки</ion-label>\r\n          </ion-item-divider>\r\n          <ion-item v-if=\"!is_option_child\">\r\n            <ion-input v-model=\"productItem.product_name\" label=\"Название*\" labelPlacement=\"stacked\" name=\"product_name\" placeholder=\"полное название товара\" clearInput=\"true\"/>\r\n          </ion-item>\r\n          <ion-item v-if=\"!is_option_child\">\r\n            <ion-textarea v-model=\"productItem.product_description\" label=\"Описание*\" labelPlacement=\"stacked\" name=\"product_description\" rows=\"6\" placeholder=\"характеристики, свойства, состав товара\"></ion-textarea>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_code\" label=\"Артикул\" labelPlacement=\"stacked\" name=\"product_code\" placeholder=\"код товара\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_barcode\" label=\"Штрихкод\" labelPlacement=\"stacked\" name=\"product_barcode\" placeholder=\"штрихкод\"/>\r\n          </ion-item>\r\n          <ion-item v-if=\"is_counted\">\r\n            <ion-input v-model=\"productItem.product_quantity\" :label=\"`Остаток ${productItem.product_unit}`\" labelPlacement=\"stacked\" name=\"product_quantity\" placeholder=\"в наличии\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_quantity_min\" :label=\"`Мин. заказ* ${productItem.product_unit}`\" labelPlacement=\"stacked\" name=\"product_quantity_min\" type=\"number\" inputmode=\"numeric\" pattern=\"\\d\\.\"/>\r\n          </ion-item>\r\n          <ion-item v-if=\"!is_option_child\">\r\n            <ion-select v-model=\"productItem.product_unit\" label=\"Единица*\" labelPlacement=\"stacked\" name=\"product_unit\"  @ionChange=\"saveForm\">\r\n              <ion-select-option value=\"шт\">штука</ion-select-option>\r\n              <ion-select-option value=\"порция\">порция вес</ion-select-option>\r\n              <ion-select-option value=\"порция мл\">порция объем</ion-select-option>\r\n              <ion-select-option value=\"кг\">килограмм</ion-select-option>\r\n              <ion-select-option value=\"м\">метр</ion-select-option>\r\n              <ion-select-option value=\"л\">литр</ion-select-option>\r\n            </ion-select>\r\n          </ion-item>\r\n          <ion-item v-if=\"productItem.product_unit!='кг'\">\r\n            <ion-input v-model=\"productItem.product_weight\" :label=\" (productItem.product_unit=='порция мл')?'Объем л*':`Вес 1${productItem.product_unit} в кг*`\" labelPlacement=\"stacked\" name=\"product_weight\" type=\"number\" step=\"0.1\" inputmode=\"numeric\" pattern=\"\\d\\.\"/>\r\n          </ion-item>\r\n        </ion-item-group>\r\n      </ion-list>\r\n\r\n\r\n      <ion-list lines=\"full\">\r\n        <ion-item-group>\r\n          <ion-item-divider>\r\n            <ion-label>Цена</ion-label>\r\n          </ion-item-divider>\r\n        </ion-item-group>\r\n        <!--\r\n        <ion-item v-if=\"is_option_child\">\r\n          <ion-checkbox v-model=\"is_option_same_price\" @ionChange=\"is_option_same_price?itemPriceReset():''\">Цена как у родительского товара</ion-checkbox>\r\n        </ion-item>\r\n        -->\r\n        <div v-if=\"!is_option_same_price\">\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_price\" label=\"Цена*\" labelPlacement=\"stacked\" name=\"product_price\" type=\"number\" inputmode=\"numeric\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_net_price\" label=\"Цена в меню/на полке\" labelPlacement=\"stacked\" name=\"product_net_price\" type=\"number\" inputmode=\"numeric\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input v-model=\"productItem.product_promo_price\" label=\"Цена акционная\" labelPlacement=\"stacked\" name=\"product_promo_price\" type=\"number\" inputmode=\"numeric\" color=\"success\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input type=\"date\" v-model=\"productItem.product_promo_start\" label=\"Начало акции\" labelPlacement=\"stacked\" name=\"product_promo_start\"/>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input type=\"date\" v-model=\"productItem.product_promo_finish\" label=\"Конец акции\" labelPlacement=\"stacked\" name=\"product_promo_finish\"/>\r\n          </ion-item>\r\n        </div>\r\n      </ion-list>\r\n    </form>\r\n\r\n\r\n\r\n    <ion-list v-if=\"productItem && !is_option_child\">\r\n      <ion-item-divider>\r\n        <ion-label>Изображения товара*</ion-label>\r\n      </ion-item-divider>\r\n      <image-tile-comp :images=\"productItem.images\" :image_holder_id=\"productItem.product_id\" title=\"Витрина товара 5 фото\" controller=\"Product\" ref=\"productImgs\"></image-tile-comp>\r\n      <ion-button @click=\"$refs.productImgs.take_photo()\" color=\"light\" expand=\"block\">\r\n        <ion-icon :src=\"cameraOutline\" slot=\"start\"/> Добавить фото на витрину\r\n      </ion-button>\r\n    </ion-list>\r\n    <!--\r\n    <ion-list v-if=\"productItem && is_option_child\">\r\n      <ion-item-divider>\r\n        <ion-label>Изображение варианта</ion-label>\r\n      </ion-item-divider>\r\n      <image-tile-comp :images=\"null\" :image_holder_id=\"productItem.product_id\" title=\"Фото варианта\" controller=\"Product\" ref=\"productImgs\"></image-tile-comp>\r\n\r\n      <ion-button @click=\"$refs.productImgs.take_photo()\" color=\"light\" expand=\"block\">\r\n        <ion-icon :src=\"cameraOutline\" slot=\"start\"/> Добавить фото варианта\r\n      </ion-button>\r\n    </ion-list>\r\n    -->\r\n    <ion-list v-if=\"productItem && categoryList && !is_option_child\">\r\n      <ion-item-divider>\r\n          <ion-label>Категории товара*</ion-label>\r\n      </ion-item-divider>\r\n      <ion-item v-if=\"categoryList.length==0\" color=\"light\">\r\n        <ion-icon :src=\"compassOutline\" slot=\"start\" color=\"danger\"/>\r\n        <ion-label color=\"danger\">Без категории (в разделе 'Другое')</ion-label>\r\n      </ion-item>\r\n      <ion-item v-for=\"cat in categoryList\" :key=\"cat.group_id\">\r\n        <ion-icon :src=\"compassOutline\" slot=\"start\" color=\"primary\"/>\r\n        <ion-label>{{cat.group_name}}</ion-label>\r\n        <ion-icon :src=\"trashOutline\" slot=\"end\" @click=\"categoryDelete(cat.group_id,cat.group_name)\"/>\r\n      </ion-item>\r\n      <ion-item button @click=\"categoryAdd()\">\r\n        <ion-icon :src=\"addOutline\" slot=\"start\" color=\"primary\"/>\r\n        <ion-label>Добавить в категорию</ion-label>\r\n      </ion-item>\r\n    </ion-list>\r\n\r\n    <ion-list v-if=\"productItem && productItem.updated_user\">\r\n      <ion-item-divider>\r\n          <ion-label></ion-label>\r\n      </ion-item-divider>\r\n      <ion-item lines=\"none\">\r\n        Изменен {{productItem.updated_at}}\r\n        <a slot=\"end\" :href=\"`tel:+${productItem.updated_user.user_phone}`\">{{productItem.updated_user.user_name}}</a>\r\n      </ion-item>\r\n    </ion-list>\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  IonInput,\r\n  IonTextarea,\r\n  IonCard,\r\n  IonCardContent,\r\n  IonCardHeader,\r\n  IonToggle,\r\n  IonIcon,\r\n  IonItem,\r\n  IonList,\r\n  IonLabel,\r\n  IonItemDivider,\r\n  IonItemGroup,\r\n  IonButton,\r\n  IonProgressBar,\r\n  IonText,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonCardTitle,\r\n  IonCardSubtitle,\r\n  modalController,\r\n  }                   from '@ionic/vue'\r\nimport {\r\n  cameraOutline,\r\n  trashOutline,\r\n  banOutline,\r\n  personOutline,\r\n  addOutline,\r\n  calculatorOutline,\r\n  compassOutline,\r\n  chevronBack,\r\n  layersOutline,\r\n  ribbonOutline,\r\n}                     from 'ionicons/icons'\r\nimport imageTileComp  from '@/components/ImageTileComp.vue'\r\nimport GroupPicker    from '@/components/GroupPicker.vue'\r\nimport heap           from '@/heap'\r\nimport Topic          from '@/scripts/Topic.js'\r\nimport jQuery         from \"jquery\";\r\n\r\nexport default  {\r\n  components: { \r\n    IonInput,\r\n    IonTextarea,\r\n    IonCard,\r\n    IonCardContent,\r\n    IonCardHeader,\r\n    IonToggle,\r\n    IonIcon,\r\n    IonItem,\r\n    IonList,\r\n    IonLabel,\r\n    IonItemDivider,\r\n    IonItemGroup,\r\n    IonButton,\r\n    IonProgressBar,\r\n    IonText,\r\n    IonSelect,\r\n    IonSelectOption,\r\n    IonCardTitle,\r\n    IonCardSubtitle,\r\n    imageTileComp\r\n    },\r\n  setup(){\r\n    return {\r\n      cameraOutline,\r\n      trashOutline,\r\n      banOutline,\r\n      personOutline,\r\n      addOutline,\r\n      calculatorOutline,\r\n      compassOutline,\r\n      chevronBack,\r\n      layersOutline,\r\n      ribbonOutline,\r\n      }\r\n  },\r\n  data(){\r\n    return {\r\n      productId: this.$route.params.id,\r\n      productItem: null,\r\n      productGroupList:null,\r\n      validity:0,\r\n      validity_min:70,\r\n      optionData:null,\r\n      refreshOptions:this.$route.query.refreshOptions,\r\n      is_option_parent:false,\r\n      is_option_child:false,\r\n      is_option_menu_open:false,\r\n      is_option_same_price:false,\r\n      is_groups_marked:0,\r\n      is_deleted:0,\r\n      is_disabled:0,\r\n      is_counted:0,\r\n    }\r\n  },\r\n  computed: {\r\n    messageCardSeverity(){\r\n      if(this.productItem?.validity<50){\r\n        return 'danger';\r\n      }\r\n      if(this.productItem?.validity<this.validity_min){\r\n        return 'warning';\r\n      }\r\n      return 'primary';\r\n    },\r\n    message(){\r\n      if(this.productItem?.deleted_at){\r\n        return \"Товар не активен и будет удален. Вы еще можете отменить удаление\";\r\n      }\r\n      if(this.productItem?.is_disabled==1){\r\n        return \"Товар не активен и находится на рассмотрении у администратора\";\r\n      }\r\n      if(this.productItem?.is_counted!=1){\r\n        return \"Товар активен и готов к продаже. Учет остатков товара не ведется\";\r\n      }\r\n      return \"Товар активен и готов к продаже.\";\r\n    },\r\n    messageClass(){\r\n      if(this.productItem?.deleted_at){\r\n        return \"deleted\";\r\n      }\r\n      if(this.productItem?.is_disabled==1){\r\n        return \"disabled\";\r\n      }\r\n      if(this.productItem?.is_counted!=1){\r\n        return \"primary\";\r\n      }\r\n      return 'active';\r\n    },\r\n    categoryList(){\r\n      let categories=[];\r\n      try{\r\n        let member_of_ids=this.productItem.member_of_groups.group_ids.split(',');\r\n        let member_of_names=this.productItem.member_of_groups.group_names.split(',');\r\n        for( let i in member_of_ids){\r\n          categories.push({group_id:member_of_ids[i],group_name:member_of_names[i]})\r\n        }\r\n      }catch{/** */}\r\n      return categories;\r\n    }\r\n  },\r\n  created(){\r\n    this.listGroupGet()\r\n    this.itemGet()\r\n  },\r\n  ionViewDidEnter() {\r\n    if(this.refreshOptions && this.productItem?.product_parent_id){\r\n        this.itemOptionGet();\r\n    }\r\n  },\r\n  methods:{\r\n    async itemGet(){\r\n      try{\r\n        let productItem=await jQuery.post( heap.state.hostname + \"Product/itemGet\", { product_id: this.productId })\r\n        this.productItem=this.itemPrepare(productItem)\r\n        this.itemParseFlags()\r\n        //this.itemMarkGroups()\r\n\r\n        this.is_option_child=(this.productItem.product_parent_id && this.productItem.product_parent_id!=this.productItem.product_id)\r\n        this.is_option_parent=(this.productItem.product_parent_id && this.productItem.product_parent_id==this.productItem.product_id)\r\n        //this.is_option_same_price=!parseFloat(this.productItem.product_price)\r\n        await this.itemOptionGet();\r\n      }catch(err){\r\n        //console.log(err);\r\n      }\r\n    },\r\n    itemPrepare(productItem){\r\n      if(productItem.product_promo_start){\r\n        productItem.product_promo_start=productItem.product_promo_start.split(' ')[0]\r\n      }\r\n      if(productItem.product_promo_finish){\r\n        productItem.product_promo_finish=productItem.product_promo_finish.split(' ')[0]\r\n      }\r\n      return productItem\r\n    },\r\n    itemParseFlags(){\r\n      this.is_deleted   = this.productItem.deleted_at==null?0:1\r\n      this.is_disabled  = this.productItem.is_disabled==0?0:1\r\n      this.is_counted  = this.productItem.is_counted==0?0:1\r\n    },\r\n    async itemDelete( is_deleted ){\r\n      const remoteFunction=is_deleted?'itemDelete':'itemUnDelete'\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/\"+remoteFunction, { product_id: this.productId })\r\n        this.productItem.deleted_at=is_deleted?1:null;\r\n        if(this.is_option_child || this.is_option_parent){\r\n          this.itemOptionGet()\r\n        }\r\n      }catch{\r\n        this.itemGet()\r\n      }\r\n    },\r\n    async itemDisable( is_disabled ){\r\n      if(this.productItem.is_disabled==is_disabled){\r\n        return\r\n      }\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/itemDisable\", { product_id: this.productId, is_disabled })\r\n        this.productItem.is_disabled=is_disabled;\r\n      }catch{\r\n        this.$flash(\"Изменение не сохранено\")\r\n        this.itemGet()\r\n      }\r\n    },\r\n    async itemUpdate(request){\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/itemUpdate\", JSON.stringify(request))\r\n        this.$flash(\"💾 сохранено\")\r\n        return true\r\n      } catch(err){\r\n        const validationErrors=err.responseJSON.messages.error\r\n        if(validationErrors?.includes('product_description')){\r\n          this.$flash(\"Описание слишком короткое\")\r\n        } else\r\n        if(validationErrors?.includes('product_name')){\r\n          this.$flash(\"Название слишком короткое\")\r\n        } else \r\n        this.$flash(\"Изменение не сохранено\")\r\n        this.itemGet()\r\n        return false\r\n      }\r\n    },\r\n\r\n\r\n\r\n\r\n    async itemOptionGet(){\r\n      if(!this.productItem.product_parent_id){\r\n        this.optionData=null\r\n      }\r\n      const request={\r\n        product_parent_id:this.productItem.product_parent_id\r\n      }\r\n      let optionData=await jQuery.post(`${this.$heap.state.hostname}Product/itemOptionGet`,request)\r\n      this.optionData={\r\n        parent:optionData[0],\r\n        children:optionData.slice(1)\r\n      }\r\n    },\r\n    async itemOptionCreate(){\r\n      const existingOptionCount=this.optionData?.children?.length??0\r\n      const productOption={\r\n        is_disabled:1,\r\n        store_id:this.productItem.store_id,\r\n        product_parent_id:this.productItem.product_parent_id,\r\n        product_name:'OPTION',\r\n        product_price:0,\r\n        product_option: `Вариант#${existingOptionCount}`\r\n      };\r\n      try{\r\n        await jQuery.post(`${this.$heap.state.hostname}Product/itemCreate`,productOption)\r\n        this.itemOptionGet()\r\n      } catch(err){/** */}\r\n    },\r\n    async itemOptionSet( set_option ){\r\n      if( set_option ){\r\n        await this.itemOptionSave( this.productId, this.productId )\r\n      } else {\r\n        await this.itemOptionDelete( this.productId )\r\n      }\r\n      this.itemGet()\r\n    },\r\n    async itemOptionUpdate( option_value ){\r\n      //console.log(this.productId,option_value)\r\n    },\r\n    async itemOptionSave( product_id, product_parent_id ){\r\n      try{\r\n        await jQuery.post( `${this.$heap.state.hostname}Product/itemOptionSave`, { product_id, product_parent_id })\r\n      }catch{/** */}\r\n    },\r\n    async itemOptionDelete( product_id ){\r\n      if(!confirm(\"Удалить разновидности товара?\")){\r\n        return\r\n      }\r\n      try{\r\n        await jQuery.post( `${this.$heap.state.hostname}Product/itemOptionDelete`, { product_id })\r\n        this.itemOptionGet()\r\n      }catch{/** */}\r\n    },\r\n    // itemPriceReset(){//needed for options\r\n    //     const request = {\r\n    //       product_id:this.productId,\r\n    //       product_promo_price:0,\r\n    //       product_price:0\r\n    //     };\r\n    //     this.itemUpdate(request)\r\n    //     this.productItem.product_price=0\r\n    //     this.productItem.product_promo_price=0\r\n    // },\r\n\r\n\r\n    checkPromoPrice(field_name){\r\n      const promo=parseFloat(this.productItem.product_promo_price)\r\n      const price=parseFloat(this.productItem.product_price)\r\n      if( price>0 && promo>0 && price<=promo ){\r\n        if(field_name=='product_promo_price'){\r\n          this.productItem.product_price=promo+1;\r\n        }\r\n        if(field_name=='product_price'){\r\n          this.productItem.product_promo_price=price-1;\r\n        }\r\n        const request = {\r\n          product_id:this.productId,\r\n          product_promo_price:this.productItem.product_promo_price,\r\n          product_price:this.productItem.product_price\r\n        };\r\n        this.itemUpdate(request)\r\n        this.$flash(\"Акционная цена должна быть ниже основной. Внимание цена изменена!\")\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    saveForm(ev){\r\n      const field_name=ev.target.name;\r\n      const field_value=this.productItem[field_name]=ev.target.value\r\n      if( !this.checkPromoPrice(field_name) ){\r\n        return\r\n      }\r\n      this.save(field_name,field_value)\r\n    },\r\n    async save(field_name, field_value) {\r\n      if( !this.productItem.product_id ){//product not loaded yet\r\n        return\r\n      }\r\n      let request = {\r\n        product_id:this.productItem.product_id,\r\n        [field_name]:field_value\r\n      }\r\n      if( this.itemUpdate(request) ){\r\n        this.productItem[field_name] = field_value;\r\n        this.itemParseFlags()\r\n      }\r\n    },\r\n    categoryDelete(group_id,group_name){\r\n      if(!confirm(\"Исключить товар из категории \"+group_name+\"?\")){\r\n        return\r\n      }\r\n      try{\r\n        this.itemUpdateGroup(0,group_id)\r\n      } catch{/** */}\r\n    },\r\n    async categoryAdd(){\r\n      const memberOfIds=this.productItem?.member_of_groups?.group_ids?.split(',')||[];\r\n      const modal = await modalController.create({\r\n          component: GroupPicker,\r\n          componentProps:{controller:'Product',memberId:this.productId,memberOfIds,memberLimit:1},\r\n          initialBreakpoint: 0.75,\r\n          breakpoints: [0.75, 1],\r\n          canDissmiss:true,\r\n          });\r\n      modal.present()\r\n      Topic.on('dismissModal',()=>{\r\n          modal.dismiss()\r\n      });\r\n      await modal.onDidDismiss();\r\n      this.itemGet()\r\n    },\r\n    async itemUpdateGroup(is_joined,group_id){\r\n      const request={\r\n        product_id:this.productId,\r\n        is_joined,\r\n        group_id\r\n      }\r\n      try{\r\n        await jQuery.post( heap.state.hostname + \"Product/itemUpdateGroup\", request)\r\n      } catch(err){\r\n        this.$flash(\"Не удалось сохранить изменение\")\r\n      }\r\n      this.itemGet()\r\n    },\r\n    async listGroupGet(){\r\n      try{\r\n        this.productGroupList=await jQuery.get( heap.state.hostname + \"Product/listGroupGet\")\r\n        this.itemMarkGroups()\r\n      }catch{/** */}\r\n    },\r\n    showProductInStore(){\r\n      let sub_group_id=0;\r\n      try{\r\n        sub_group_id=this.productItem.member_of_groups.group_ids.split(',')[0];\r\n      } catch{/** */}\r\n      this.$go({path:('store-'+this.productItem.store_id),query:{sub_group_id}})\r\n    }\r\n  },\r\n}\r\n</script>","<style scoped>\r\n\r\n</style>\r\n<template>\r\n    <ion-header>\r\n      <ion-toolbar color=\"secondary\">\r\n          <ion-title>Категории</ion-title>\r\n          <ion-icon slot=\"end\" @click=\"closeModal();\" :icon=\"closeOutline\" size=\"large\" color=\"medium\"></ion-icon>\r\n      </ion-toolbar>\r\n    </ion-header>\r\n    <ion-content>\r\n        <ion-searchbar placeholder=\"Фильтр по категориям\" v-model=\"searchQuery\"/>\r\n        <ion-accordion-group v-if=\"groupListFiltered.length>0\">\r\n            <ion-accordion v-for=\"parentGroup in groupListTree\" :key=\"parentGroup.group_id\">\r\n                <ion-item slot=\"header\">\r\n                    <ion-avatar slot=\"start\" v-if=\"parentGroup.image_hash\">\r\n                        <ion-img :src=\"$heap.state.hostname + 'image/get.php/'+parentGroup.image_hash+'.50.50.webp'\"/>\r\n                    </ion-avatar>\r\n                    <ion-label>{{parentGroup.group_name}}</ion-label>\r\n                </ion-item>\r\n                <div class=\"ion-padding\" slot=\"content\">\r\n                    <ion-list>\r\n                        <div v-for=\"childGroup in parentGroup.children\" :key=\"childGroup.group_id\">\r\n                            <ion-item>\r\n                                <ion-avatar slot=\"start\" v-if=\"childGroup.image_hash\">\r\n                                    <ion-img :src=\"$heap.state.hostname + 'image/get.php/'+childGroup.image_hash+'.50.50.webp'\"/>\r\n                                </ion-avatar>\r\n                                <ion-label>{{childGroup.group_name}}</ion-label>\r\n                                <ion-checkbox slot=\"end\" :checked=\"childGroup.is_marked\" @click=\"mimickChage($event.target,childGroup.group_id)\"></ion-checkbox>\r\n                            </ion-item>\r\n                        </div>\r\n                    </ion-list>\r\n                </div>\r\n            </ion-accordion>\r\n        </ion-accordion-group>\r\n        <ion-list v-else>\r\n            <ion-item v-for=\"i in [1,2,3,4]\" :key=\"i\">\r\n                <ion-skeleton-text style=\"width:100%\"/>\r\n            </ion-item>\r\n        </ion-list>\r\n    </ion-content>\r\n</template>\r\n<script>\r\nimport \r\n{\r\n  closeOutline\r\n}                         from 'ionicons/icons';\r\nimport {\r\n    modalController,\r\n    IonCheckbox,\r\n    IonContent,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonIcon,\r\n    IonImg,\r\n    IonAvatar,\r\n    IonLabel,\r\n    IonList,\r\n    IonItem,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonSearchbar,\r\n    IonSkeletonText,\r\n}                         from \"@ionic/vue\";\r\nimport jQuery             from 'jquery'\r\n\r\nexport default {\r\n    props:['controller','memberId','memberOfIds','memberLimit'],\r\n    components:{\r\n    IonCheckbox,\r\n    IonContent,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonIcon,\r\n    IonImg,\r\n    IonAvatar,\r\n    IonLabel,\r\n    IonList,\r\n    IonItem,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonSearchbar,\r\n    IonSkeletonText,\r\n    },\r\n    setup(){\r\n        return {closeOutline}\r\n    },\r\n    data(){\r\n        return {\r\n            searchQuery:'',\r\n            groupList:null,\r\n            checkedGroupList:[]\r\n        }\r\n    },\r\n    created(){\r\n        this.listGroupGet()\r\n        this.checkedGroupList=this.memberOfIds||[]\r\n    },\r\n    computed:{\r\n        groupListFiltered(){\r\n            if(!this.searchQuery){\r\n                return this.groupList??[]\r\n            }\r\n            const regexp=new RegExp(this.searchQuery.replace(/^[\\w\\d\\s]/,'').replace(/\\s/g,'.*'),'im')\r\n            return this.groupList.filter(group=>group.group_path?.match( regexp ))??[]\r\n        },\r\n        groupListTree(){\r\n            let groupTree=[]\r\n            for( let group of this.groupListFiltered ){\r\n                let branchIndex=groupTree.findIndex(parentGroup=>group.group_parent_id==parentGroup.group_id)\r\n                if(branchIndex<0){\r\n                    let parentGroup=this.groupList.find(parent_group=>parent_group.group_id==group.group_parent_id)\r\n                    if(!parentGroup){\r\n                        continue\r\n                    }\r\n                    parentGroup.children=[]\r\n                    branchIndex=groupTree.push(parentGroup)-1\r\n                }\r\n                groupTree[branchIndex].children.push(group)\r\n            }\r\n            return groupTree\r\n        },\r\n        parentGroupList(){\r\n            return this.groupListFiltered?.filter(group=>group.group_parent_id==0)\r\n        },\r\n        childGroupList(){\r\n            let childGroups={}\r\n            for(let group of this.parentGroupList){\r\n                childGroups[group.group_id]=this.groupListFiltered.filter(child_group=>child_group.group_parent_id==group.group_id)\r\n            }\r\n            return childGroups\r\n        }\r\n    },\r\n    methods:{\r\n        async listGroupGet(){\r\n            this.groupList=await jQuery.get(this.$heap.state.hostname + this.controller + '/listGroupGet')\r\n            this.itemMarkGroups()\r\n        },\r\n        itemMarkGroups(){\r\n            if(!this.groupList){\r\n                return\r\n            }\r\n            try{\r\n                for(let group of this.groupList){\r\n                    group.is_marked=this.checkedGroupList.includes(group.group_id)?1:0;\r\n                }\r\n            }catch{/** */}\r\n        },\r\n        async itemUpdateGroup(is_joined,group_id){\r\n            const request={\r\n                [this.controller.toLowerCase()+'_id']:this.memberId,\r\n                is_joined,\r\n                group_id\r\n            }\r\n            try{\r\n                await jQuery.post(this.$heap.state.hostname + this.controller + \"/itemUpdateGroup\", request)\r\n            } catch(err){\r\n                this.$flash(\"Не удалось сохранить изменение\")\r\n            }\r\n        },\r\n        mimickChage(target,group_id){\r\n            const self=this\r\n            setTimeout(()=>{\r\n                self.groupChanged(target,group_id)\r\n            },0)\r\n        },\r\n        async groupChanged(target,group_id){\r\n            const is_checked=target.checked?1:0\r\n            if( is_checked ){\r\n                if(this.checkedGroupList.length>=this.memberLimit){\r\n                    this.$flash(`Можно выбрать не больше ${this.memberLimit} категорий`)\r\n                    target.checked=0;\r\n                    return\r\n                }\r\n                if(this.memberLimit==1){\r\n                    this.closeModal()\r\n                }\r\n                this.checkedGroupList.push(group_id)\r\n            } else {\r\n                this.checkedGroupList = this.checkedGroupList.filter(function(value, index, arr){ \r\n                    return value != group_id;\r\n                });\r\n            }\r\n            this.itemUpdateGroup(is_checked,group_id)\r\n        },\r\n        closeModal(){\r\n            modalController.dismiss(this.checkedGroupList);\r\n        }\r\n    }\r\n}\r\n</script>","import { render } from \"./GroupPicker.vue?vue&type=template&id=1638c89c\"\nimport script from \"./GroupPicker.vue?vue&type=script&lang=js\"\nexport * from \"./GroupPicker.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductEdit.vue?vue&type=template&id=2e7c472e&scoped=true\"\nimport script from \"./ProductEdit.vue?vue&type=script&lang=js\"\nexport * from \"./ProductEdit.vue?vue&type=script&lang=js\"\n\nimport \"./ProductEdit.vue?vue&type=style&index=0&id=2e7c472e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e7c472e\"]])\n\nexport default __exports__"],"names":["key","_createElementVNode","style","_createBlock","_component_base_layout","_$data$productItem$pr","_$data$productItem","$data","productItem","product_name","pageDefaultBackLink","productId","default","_withCtx","_$data$productItem6","is_option_child","_createCommentVNode","_createElementBlock","_hoisted_1","_createVNode","_component_ion_card","color","$options","messageCardSeverity","_$data$productItem4","_component_ion_card_header","_component_ion_card_title","_$data$productItem$va","_$data$productItem2","_$data$productItem3","_createTextVNode","_toDisplayString","validity","_component_ion_progress_bar","value","_","validity_min","_component_ion_card_content","_component_ion_text","_$data$productItem5","_hoisted_2","_hoisted_3","message","class","_normalizeClass","messageClass","_component_ion_list","_component_ion_item","_component_ion_icon","src","$setup","trashOutline","slot","_component_ion_toggle","modelValue","is_deleted","_cache","$event","onIonChange","itemDelete","target","checked","calculatorOutline","is_counted","save","layersOutline","is_option_parent","itemOptionSet","ribbonOutline","is_disabled","itemDisable","optionData","onChange","args","saveForm","onClick","_ctx","$router","replace","parent","product_id","_component_ion_card_subtitle","lines","$heap","state","hostname","image_hash","_hoisted_4","_component_ion_label","_component_ion_input","label","placeholder","name","product_option","_hoisted_5","_Fragment","_renderList","children","option","_hoisted_6","deleted_at","cameraOutline","_component_ion_button","expand","itemOptionCreate","addOutline","_hoisted_7","_component_ion_item_divider","button","$go","detail","chevronBack","showProductInStore","store_id","_component_ion_item_group","labelPlacement","clearInput","_component_ion_textarea","product_description","rows","product_code","product_barcode","product_quantity","product_unit","product_quantity_min","type","inputmode","pattern","_component_ion_select","_component_ion_select_option","product_weight","step","is_option_same_price","_hoisted_8","product_price","product_net_price","product_promo_price","product_promo_start","product_promo_finish","_component_image_tile_comp","images","image_holder_id","title","controller","ref","$refs","productImgs","take_photo","categoryList","length","compassOutline","cat","group_id","group_name","categoryDelete","categoryAdd","updated_user","updated_at","href","user_phone","user_name","_hoisted_9","_component_ion_header","_component_ion_toolbar","_component_ion_title","closeModal","icon","closeOutline","size","_component_ion_content","_component_ion_searchbar","searchQuery","groupListFiltered","_component_ion_accordion_group","groupListTree","parentGroup","_component_ion_accordion","_component_ion_avatar","_component_ion_img","childGroup","_component_ion_checkbox","is_marked","mimickChage","i","_component_ion_skeleton_text","props","components","IonCheckbox","IonContent","IonHeader","IonToolbar","IonTitle","IonIcon","IonImg","IonAvatar","IonLabel","IonList","IonItem","IonAccordion","IonAccordionGroup","IonSearchbar","IonSkeletonText","setup","data","groupList","checkedGroupList","created","this","listGroupGet","memberOfIds","computed","_this$groupList$filte","_this$groupList","regexp","RegExp","filter","group","_group$group_path","group_path","match","groupTree","branchIndex","findIndex","group_parent_id","find","parent_group","push","parentGroupList","_this$groupListFilter","childGroupList","childGroups","child_group","methods","jQuery","itemMarkGroups","includes","itemUpdateGroup","is_joined","request","toLowerCase","memberId","err","$flash","self","setTimeout","groupChanged","is_checked","memberLimit","index","arr","modalController","dismiss","__exports__","IonInput","IonTextarea","IonCard","IonCardContent","IonCardHeader","IonToggle","IonItemDivider","IonItemGroup","IonButton","IonProgressBar","IonText","IonSelect","IonSelectOption","IonCardTitle","IonCardSubtitle","imageTileComp","banOutline","personOutline","$route","params","id","productGroupList","refreshOptions","query","is_option_menu_open","is_groups_marked","_this$productItem","_this$productItem2","_this$productItem3","_this$productItem4","_this$productItem5","_this$productItem6","_this$productItem7","_this$productItem8","categories","member_of_ids","member_of_groups","group_ids","split","member_of_names","group_names","itemGet","ionViewDidEnter","_this$productItem9","product_parent_id","itemOptionGet","heap","itemPrepare","itemParseFlags","remoteFunction","itemUpdate","JSON","stringify","validationErrors","responseJSON","messages","error","slice","_this$optionData$chil","_this$optionData","_this$optionData$chil2","existingOptionCount","productOption","set_option","itemOptionSave","itemOptionDelete","itemOptionUpdate","option_value","confirm","checkPromoPrice","field_name","promo","parseFloat","price","ev","field_value","_this$productItem10","_this$productItem10$m","_this$productItem10$m2","modal","create","component","GroupPicker","componentProps","initialBreakpoint","breakpoints","canDissmiss","present","Topic","on","onDidDismiss","sub_group_id","path","render"],"sourceRoot":""}