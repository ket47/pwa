"use strict";(self["webpackChunkTezkel"]=self["webpackChunkTezkel"]||[]).push([[6419],{6419:function(e,l,t){t.r(l),t.d(l,{default:function(){return y}});var i=t(6252),r=t(3577);const u=e=>((0,i.dD)("data-v-7987cd12"),e=e(),(0,i.Cn)(),e),a={key:0,style:{background:"linear-gradient(to top, #009dcd, #79c8e2)"}},o=u((()=>(0,i._)("h3",null,[(0,i._)("b",null,"Хотите стать нашим курьером?")],-1))),d=u((()=>(0,i._)("h6",null,[(0,i._)("b",null,"Заполняйте анкету и присоединяйтесь к нашей дружной команде!")],-1))),n={key:1};function s(e,l,t,u,s,m){const c=(0,i.up)("ion-col"),_=(0,i.up)("ion-row"),f=(0,i.up)("ion-grid"),p=(0,i.up)("ion-card-title"),w=(0,i.up)("ion-card-header"),h=(0,i.up)("ion-card-content"),W=(0,i.up)("ion-card"),g=(0,i.up)("router-link"),k=(0,i.up)("ion-text"),y=(0,i.up)("ion-checkbox"),v=(0,i.up)("ion-item"),U=(0,i.up)("ion-button"),b=(0,i.up)("ion-icon"),C=(0,i.up)("ion-toggle"),I=(0,i.up)("ion-label"),x=(0,i.up)("ion-item-divider"),z=(0,i.up)("ion-input"),V=(0,i.up)("ion-textarea"),D=(0,i.up)("ion-list"),Z=(0,i.up)("image-tile-comp"),O=(0,i.up)("base-layout");return(0,i.wg)(),(0,i.j4)(O,{"page-title":"Анкета курьера",pageDefaultBackLink:"/user"},{default:(0,i.w5)((()=>[s.courier?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(f,{class:"courier-grid",style:{"background-image":"url('/img/courier_tezkel.png')"}},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{class:"ion-align-items-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{"size-md":"6","size-xs":"12","size-sm":"12",class:"ion-padding",style:{color:"var(--ion-color-primary-contrast)"}},{default:(0,i.w5)((()=>[o,d])),_:1}),(0,i.Wm)(c,{"size-md":"6","size-xs":"12","size-sm":"12",style:{"min-height":"350px"}})])),_:1})])),_:1}),(0,i.Wm)(W,{color:"light",style:{margin:"0"}},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,{class:"ion-text-center"},{default:(0,i.w5)((()=>[(0,i.Uk)("Мы предлагаем")])),_:1})])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{"size-xs":"12","size-md":"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Uk)("1. Без стажировки")])),_:1})])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" Никаких испытательных сроков, вы с первого дня погружаетесь в работу ")])),_:1})])),_:1})])),_:1}),(0,i.Wm)(c,{"size-xs":"12","size-md":"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Uk)("2. Гибкий график")])),_:1})])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" Можно подгонять и совмещать рабочее время так, как удобно именно Вам. ")])),_:1})])),_:1})])),_:1}),(0,i.Wm)(c,{"size-xs":"12","size-md":"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Uk)("3. Трудовой договор")])),_:1})])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" Есть возможность официально оформить трудовые отношения. ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{"size-xs":"12","size-md":"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Uk)("4. Автоматизация")])),_:1})])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" Работа автоматизирована с помощью приложения. Нет работы с наличными. ")])),_:1})])),_:1})])),_:1}),(0,i.Wm)(c,{"size-xs":"12","size-md":"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Uk)("5. Компенсация")])),_:1})])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" Мы выплачеваем компенсацию затрат на топливо, затраченное в рабочее время ")])),_:1})])),_:1})])),_:1}),(0,i.Wm)(c,{"size-xs":"12","size-md":"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Uk)("6. Рабочий отдых")])),_:1})])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" Вы можете отдохнуть в нашей комнате отдыха для персонала ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(v,{lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(k,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" Подавая заявку вы даете согласие на условия "),(0,i.Wm)(g,{to:"/page/rules-courier"},{default:(0,i.w5)((()=>[(0,i.Uk)("Оферта об оказании услуг доставки")])),_:1})])),_:1}),(0,i.Wm)(y,{slot:"end",modelValue:s.contractAccepted,"onUpdate:modelValue":l[0]||(l[0]=e=>s.contractAccepted=e)},null,8,["modelValue"])])),_:1}),(0,i.Wm)(U,{expand:"block",onClick:l[1]||(l[1]=e=>m.itemCreate()),disabled:!s.contractAccepted},{default:(0,i.w5)((()=>[(0,i.Uk)("Подать заявку")])),_:1},8,["disabled"])])),_:1})])),_:1})])),s.courier?((0,i.wg)(),(0,i.iD)("div",n,[m.message?((0,i.wg)(),(0,i.j4)(W,{key:0,lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{class:(0,r.C_)(m.messageClass)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(m.message),1)])),_:1},8,["class"])])),_:1})):((0,i.wg)(),(0,i.j4)(W,{key:1,lines:"none"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{style:{"background-color":"var(--ion-color-success-tint)"}},{default:(0,i.w5)((()=>[(0,i.Uk)(" Анкета активна. Вы можете открыть смену для приема заказов. ")])),_:1})])),_:1})),(0,i._)("form",{onChange:l[10]||(l[10]=e=>m.updateCourier())},[(0,i.Wm)(D,null,{default:(0,i.w5)((()=>[(0,i.Wm)(v,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b,{src:u.trashOutline,color:"primary",slot:"start"},null,8,["src"]),(0,i.Uk)(" Удалено "),(0,i.Wm)(C,{slot:"end",modelValue:s.is_deleted,"onUpdate:modelValue":l[2]||(l[2]=e=>s.is_deleted=e),color:"danger",onIonChange:l[3]||(l[3]=e=>m.itemDelete(e.target.checked?1:0))},null,8,["modelValue"])])),_:1}),(0,i.Wm)(v,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b,{src:u.searchOutline,color:"primary",slot:"start"},null,8,["src"]),(0,i.Uk)(" На модерации "),(0,i.Wm)(C,{slot:"end",modelValue:s.is_disabled,"onUpdate:modelValue":l[4]||(l[4]=e=>s.is_disabled=e),onIonChange:l[5]||(l[5]=e=>m.itemDisable(e.target.checked?1:0))},null,8,["modelValue"])])),_:1}),(0,i.Wm)(x,null,{default:(0,i.w5)((()=>[(0,i.Wm)(I,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Основные настройки")])),_:1})])),_:1}),(0,i.Wm)(v,{lines:"full"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{position:"stacked",color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("Имя")])),_:1}),(0,i.Wm)(z,{modelValue:s.courier.courier_name,"onUpdate:modelValue":l[6]||(l[6]=e=>s.courier.courier_name=e),placeholder:"Имя курьера"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(v,{lines:"full"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{position:"stacked",color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("Транспорт")])),_:1}),(0,i.Wm)(z,{modelValue:s.courier.courier_vehicle,"onUpdate:modelValue":l[7]||(l[7]=e=>s.courier.courier_vehicle=e),placeholder:"автомобиль, мопед, велосипед"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(v,{lines:"full"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{position:"stacked",color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("ИНН")])),_:1}),(0,i.Wm)(z,{modelValue:s.courier.courier_tax_num,"onUpdate:modelValue":l[8]||(l[8]=e=>s.courier.courier_tax_num=e),placeholder:"ИНН курьера"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(v,{lines:"full"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{position:"stacked",color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("Комментарий")])),_:1}),(0,i.Wm)(V,{modelValue:s.courier.courier_comment,"onUpdate:modelValue":l[9]||(l[9]=e=>s.courier.courier_comment=e),placeholder:"Цвет, номер авто"},null,8,["modelValue"])])),_:1})])),_:1})],32),s.courier?((0,i.wg)(),(0,i.j4)(D,{key:2},{default:(0,i.w5)((()=>[(0,i.Wm)(x,null,{default:(0,i.w5)((()=>[(0,i.Wm)(I,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Ваше фото")])),_:1})])),_:1}),(0,i.Wm)(Z,{images:s.courier.images,image_holder_id:s.courier.courier_id,controller:"Courier",ref:"courierImgs"},null,8,["images","image_holder_id"]),(0,i.Wm)(U,{onClick:l[11]||(l[11]=l=>e.$refs.courierImgs.take_photo()),size:"small",expand:"full",color:"medium"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{src:u.cameraOutline},null,8,["src"]),(0,i.Uk)(" Добавить ")])),_:1})])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(D,null,{default:(0,i.w5)((()=>[(0,i.Wm)(x,null,{default:(0,i.w5)((()=>[(0,i.Wm)(I,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Информация")])),_:1})])),_:1}),(0,i.Wm)(v,{lines:"none",button:"",detail:"",onClick:l[12]||(l[12]=l=>e.$go("/page/rules-courier"))},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{src:u.documentTextOutline,slot:"start"},null,8,["src"]),(0,i.Wm)(g,{to:"/page/rules-courier"},{default:(0,i.w5)((()=>[(0,i.Uk)("Правила пользования для курьера")])),_:1})])),_:1})])),_:1})])):(0,i.kq)("",!0)])),_:1})}t(8862);var m=t(4929),c=t(8903),_=t(9755),f=t.n(_),p=t(2008),w=t(351),h=t(2639),W={components:{imageTileComp:h.Z,IonTextarea:m.g2,IonInput:m.pK,IonCard:m.PM,IonCardHeader:m.Zi,IonCardTitle:m.Dq,IonCardContent:m.FN,IonGrid:m.jY,IonRow:m.Nd,IonCol:m.wI,IonLabel:m.Q$,IonItem:m.Ie,IonButton:m.YG,IonList:m.q_,IonCheckbox:m.nz,IonText:m.yW,IonItemDivider:m.rH,IonToggle:m.ho,IonIcon:m.gu},setup(){return{cameraOutline:c.kuq,trashOutline:c.gtu,searchOutline:c.W6I,documentTextOutline:c.L82}},data(){var e,l;return{other_courier_id:null===(e=this.$route)||void 0===e||null===(l=e.query)||void 0===l?void 0:l.courier_id,courier:null,isAdmin:w.Z.isAdmin(),contractAccepted:0,is_deleted:0,is_disabled:0}},ionViewDidEnter(){var e,l,t,i;this.other_courier_id!=(null===(e=this.$route)||void 0===e||null===(l=e.query)||void 0===l?void 0:l.courier_id)&&(this.other_courier_id=null===(t=this.$route)||void 0===t||null===(i=t.query)||void 0===i?void 0:i.courier_id,this.itemGet())},mounted(){this.itemGet()},computed:{message(){var e,l;return null!==(e=this.courier)&&void 0!==e&&e.deleted_at?"Анкета не активна и будет удалена. Вы можете еще отменить удаление":1==(null===(l=this.courier)||void 0===l?void 0:l.is_disabled)?"Анкета не активна и находится на рассмотрении у администратора":null},messageClass(){var e,l;return null!==(e=this.courier)&&void 0!==e&&e.deleted_at?"deleted":1==(null===(l=this.courier)||void 0===l?void 0:l.is_disabled)?"disabled":null},imageClass(){var e,l;return 1==(null===(e=this.courier)||void 0===e||null===(l=e.images[0])||void 0===l?void 0:l.is_disabled)?"image_disabled":""}},methods:{async itemGet(){this.other_courier_id?this.courier=await f().post(p.Z.state.hostname+"Courier/itemGet",{courier_id:this.other_courier_id}):this.courier=await w.Z.courier.get(),this.itemParseFlags()},itemParseFlags(){this.courier&&(this.is_deleted=null==this.courier.deleted_at?0:1,this.is_disabled=0==this.courier.is_disabled?0:1)},async itemCreate(){try{await f().post(p.Z.state.hostname+"Courier/itemCreate"),await w.Z.get("full"),this.courier=w.Z.courier.data}catch{this.$flash("Не удалось зарегистрироваться как курьер")}},async itemDelete(e){const l=e?"itemDelete":"itemUnDelete";try{await f().post(p.Z.state.hostname+"Courier/"+l,{courier_id:this.courier.courier_id}),this.courier.deleted_at=e?1:null}catch{this.itemGet()}},async itemDisable(e){if(this.courier.is_disabled!=e)try{await f().post(p.Z.state.hostname+"Courier/itemDisable",{courier_id:this.courier.courier_id,is_disabled:e}),this.courier.is_disabled=e}catch{this.itemGet()}},async uploadImage(e){let l=new FormData;l.append("files[]",e.target.files[0]),l.set("image_holder_id",this.courier.courier_id);const t={url:p.Z.state.hostname+"Courier/fileUpload",type:"POST",data:l,processData:!1,contentType:!1};try{await f().ajax(t),this.itemGet()}catch(i){this.$flash("Не удалось загрузить фото")}},uploadImageTrigger(){f()("#courier_foto_upload").trigger("click")},async updateCourier(){try{return await f().post(p.Z.state.hostname+"Courier/itemUpdate",JSON.stringify(this.courier))}catch(t){var e,l;const i=JSON.parse(null===(e=t.responseJSON)||void 0===e||null===(l=e.messages)||void 0===l?void 0:l.error);i.courier_tax_num&&this.$flash("Неверный формат ИНН")}}}},g=t(3744);const k=(0,g.Z)(W,[["render",s],["__scopeId","data-v-7987cd12"]]);var y=k}}]);
//# sourceMappingURL=6419.ffc05681.js.map