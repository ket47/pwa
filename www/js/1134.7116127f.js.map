{"version":3,"file":"js/1134.7116127f.js","mappings":"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","sources":["webpack://tezkel/./src/views/admin/AccountingView.vue","webpack://tezkel/./src/views/admin/AccountingView.vue?5067","webpack://tezkel/./src/components/StatisticsSellerReport.vue","webpack://tezkel/./src/components/StatisticsSellerReport.vue?af4a"],"sourcesContent":["<style scoped>\r\n.deleted{\r\n    border: 3px red solid;\r\n}\r\n</style>\r\n<template>\r\n    <base-layout pageDefaultBackLink=\"/user\" page-title=\"Бухгалтерия\">\r\n        <ion-segment swipe-gesture=\"true\" v-model=\"activeTab\" @ionInput=\"listTypeChanged($event)\">\r\n            <ion-segment-button value=\"reports\">\r\n                Баланс\r\n            </ion-segment-button>\r\n            <ion-segment-button value=\"ledger\">\r\n                Проводки\r\n            </ion-segment-button>\r\n            <ion-segment-button value=\"sellerReport\" >\r\n                Отчет\r\n            </ion-segment-button>\r\n        </ion-segment>\r\n        <div v-if=\"activeTab=='reports'\">\r\n            <ion-list>\r\n                <ion-item button @click=\"reportSupplierBalanceExport()\">\r\n                    <ion-icon slot=\"start\" :src=\"downloadOutline\"/>\r\n                    <ion-label>Скачать баланс продавцов</ion-label>\r\n                </ion-item>\r\n            </ion-list>\r\n        </div>\r\n        <div v-if=\"activeTab=='ledger'\">\r\n            <ion-list>\r\n                <ion-item button @click=\"itemCreate()\">\r\n                    <ion-icon slot=\"start\" :src=\"addOutline\"/>\r\n                    <ion-label>Добавить проводку</ion-label>\r\n                </ion-item>\r\n            </ion-list>\r\n            <ledger-comp :account=\"ledgerAccount\" ref=\"ledger\"/>\r\n        </div>\r\n        <div v-if=\"activeTab=='sellerReport'\">\r\n            <ion-list>\r\n                <ion-item v-if=\"pickedStore\" button @click=\"storePick()\" color=\"primary\">\r\n                    <ion-icon slot=\"start\" :src=\"storefrontOutline\"/>\r\n                    <ion-label>{{pickedStore.store_name}}</ion-label>\r\n                </ion-item>\r\n                <ion-item v-else button @click=\"storePick()\" color=\"warning\">\r\n                    <ion-icon slot=\"start\" :src=\"storefrontOutline\"/>\r\n                    <ion-label>Выбрать продавца</ion-label>\r\n                </ion-item>\r\n            </ion-list>\r\n            <statistics-seller-report :store=\"pickedStore\" v-if=\"activeTab=='sellerReport'\"/>\r\n        </div>\r\n    </base-layout>\r\n</template>\r\n<script>\r\nimport {\r\n  IonSegmentButton,\r\n  IonSegment,\r\n  IonList,\r\n  IonItem,\r\n  IonLabel,\r\n  IonIcon,\r\n    modalController,\r\n }                          from '@ionic/vue';\r\n import {\r\n    addOutline,\r\n    refreshOutline,\r\n    storefrontOutline,\r\n    downloadOutline\r\n }                          from \"ionicons/icons\";\r\nimport LedgerComp           from '@/components/LedgerComp.vue';\r\nimport StatisticsSellerReport from \"@/components/StatisticsSellerReport.vue\";\r\nimport ItemPicker             from '@/components/ItemPicker.vue'\r\nimport jquery                 from \"jquery\";\r\n\r\nexport default {\r\n    components: {\r\n        LedgerComp,\r\n        IonSegmentButton,\r\n        IonSegment,\r\n        IonList,\r\n        IonItem,\r\n        IonLabel,\r\n        IonIcon,\r\n    StatisticsSellerReport\r\n    },\r\n    setup(){\r\n        return {\r\n            addOutline,\r\n            refreshOutline,\r\n            storefrontOutline,\r\n            downloadOutline\r\n        }\r\n    },\r\n    data(){\r\n        return{\r\n            activeTab:'ledger',\r\n            ledgerAccount:'supplier',\r\n            pickedStore:null\r\n        }\r\n    },\r\n    computed:{\r\n    },\r\n    methods:{\r\n        itemCreate(){\r\n            this.$go('/admin/transaction-edit-0')\r\n        },\r\n        async storePick(){\r\n            const modal = await modalController.create({\r\n                component: ItemPicker,\r\n                componentProps:{itemType:'store'},\r\n                initialBreakpoint: 0.75,\r\n                breakpoints: [0.75, 1],\r\n                canDissmiss:true,\r\n            });\r\n            modal.present()\r\n            this.$topic.on('dismissModal',()=>{\r\n                modal.dismiss()\r\n            });\r\n            const item=await modal.onDidDismiss();\r\n            if(!item.data){\r\n                return\r\n            }\r\n            this.pickedStore=item.data\r\n        },\r\n        async reportSupplierBalanceExport(){\r\n            try {\r\n                const request={\r\n                    output:'xlsx'\r\n                }\r\n                const response= await jquery.post(`${this.$heap.state.hostname}Statistics/statSupplierBalanceReport`,request)\r\n                const reportUrl=`${this.$heap.state.hostname}Statistics/download/${response}/supplierBalance.xlsx`\r\n                const anchor = document.createElement('a')\r\n                anchor.href =reportUrl\r\n                anchor.download='download'\r\n                anchor.click()\r\n            } catch (err) {\r\n                return false;\r\n            }\r\n        }\r\n    },\r\n    ionViewDidEnter(){\r\n        this.$refs.ledger.listGet()\r\n    }\r\n}\r\n</script>","import { render } from \"./AccountingView.vue?vue&type=template&id=4fa7f3d0&scoped=true\"\nimport script from \"./AccountingView.vue?vue&type=script&lang=js\"\nexport * from \"./AccountingView.vue?vue&type=script&lang=js\"\n\nimport \"./AccountingView.vue?vue&type=style&index=0&id=4fa7f3d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fa7f3d0\"]])\n\nexport default __exports__","<style scoped>\r\n.table_head{\r\n    display:grid;\r\n    grid-template-columns:repeat(2,auto);\r\n    font-size:.8em;\r\n    background-color: #ccc;\r\n    border-radius: 2px;\r\n    margin: 10px;\r\n    width:250px;\r\n    row-gap:1px;\r\n}\r\n.table_head>div{\r\n    padding: 15px;\r\n    background-color: #fcfcfc;\r\n}\r\n.table_head>div:nth-child(even){\r\n    text-align: right;\r\n    color:var(--ion-color-primary);\r\n}\r\n.table{\r\n    display:grid;\r\n    grid-template-columns:repeat(11,auto);\r\n    font-size:.6em;\r\n    margin: 10px;\r\n}\r\n.table_h{\r\n    display:contents;\r\n    font-weight:bold;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    border-radius:15px;\r\n}\r\n.table_r{\r\n    display:contents;\r\n}\r\n.table_r:nth-child(odd)>div{\r\n    background-color: #fcfcfc;\r\n}\r\n.table_r:hover>div{\r\n    background-color: var(--ion-color-primary-tint);\r\n}\r\n.table_h>div{\r\n    color:var(--ion-color-primary);\r\n    font-weight: bold;\r\n    background-color: var(--ion-color-primary-tint);\r\n    padding: 15px;\r\n    border-bottom: 3px var(--ion-color-primary) solid;\r\n}\r\n.table_r>div{\r\n    padding: 10px;\r\n    border-bottom: 1px #ccc solid;\r\n}\r\n</style>\r\n<template>\r\n<div>\r\n  <ion-accordion-group>\r\n    <ion-accordion value=\"period\">\r\n      <ion-item slot=\"header\">\r\n        <ion-icon :icon=\"calendarOutline\" slot=\"start\"/>\r\n        <ion-text>Период <small>{{start_at}} до {{finish_at}}</small></ion-text>\r\n      </ion-item>\r\n      <ion-list slot=\"content\">\r\n        <ion-item>\r\n          <ion-text>Начальная дата</ion-text>\r\n          <div slot=\"end\" style=\"display:grid;grid-template-columns:120px;\">\r\n            <ion-input type=\"date\" v-model=\"start_at\"  @ionInput=\"reportGet()\"/>\r\n          </div>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-text>Конечная дата</ion-text>\r\n          <div slot=\"end\" style=\"display:grid;grid-template-columns:120px;\">\r\n            <ion-input type=\"date\" v-model=\"finish_at\"  @ionInput=\"reportGet()\" />\r\n          </div>\r\n        </ion-item>\r\n      </ion-list>\r\n    </ion-accordion>\r\n  </ion-accordion-group>\r\n\r\n  <div class=\"horizontalScroller\">\r\n      <ion-chip @click=\"reportExport()\" color=\"medium\"><ion-icon :src=\"downloadOutline\"/><ion-label>Скачать</ion-label></ion-chip>\r\n      <!-- <ion-chip @click=\"reportPrint()\" color=\"medium\"><ion-icon :src=\"printOutline\"/><ion-label>Напечатать</ion-label></ion-chip> -->\r\n      <ion-chip @click=\"reportGet()\" color=\"medium\"><ion-icon :src=\"reloadOutline\"/><ion-label>Обновить</ion-label></ion-chip>\r\n  </div>\r\n\r\n  <ion-searchbar v-model=\"searchQuery\" placeholder=\"Поиск по товару\" @ionInput=\"reportGet()\" debounce=\"500\" />\r\n  <ion-list v-if=\"report==null\">\r\n    <ion-item v-for=\"i in [1,2,3]\" :key=\"i\">\r\n        <ion-text slot=\"start\"><ion-skeleton-text animated style=\"width:50px\" /></ion-text>\r\n        <ion-label><ion-skeleton-text animated style=\"width:100%\" /></ion-label>\r\n        <ion-label slot=\"end\" color=\"success\"><ion-skeleton-text animated style=\"width:50px\" /></ion-label>\r\n    </ion-item>\r\n  </ion-list>\r\n  <div v-else-if=\"report.body.length>0\" class=\"printDiv\">\r\n    <div class=\"table_head\">\r\n        <div>Количество</div><div>{{report.head.total_quantity}}</div>\r\n        <div>Скидка</div><div>{{report.head.total_discount}}</div>\r\n        <div>Сумма</div><div>{{report.head.total_sum}}</div>\r\n        <div>Вознаграждение</div><div>{{report.head.total_commission}}</div>\r\n        <div>К выплате</div><div>{{report.head.total_topay}}</div>\r\n    </div>\r\n    <div class=\"table\" style=\"overflow-x:scroll\">\r\n        <div class=\"table_h\">\r\n            <div>Время</div>\r\n            <div>Заказ №</div>\r\n            <div>Товар</div>\r\n            <div>Цена</div>\r\n            <div>Количество</div>\r\n            <div>Скидка</div>\r\n            <div>Сумма</div>\r\n            <div>Вознаграждение %</div>\r\n            <div>Доставка</div>\r\n            <div>Оплата</div>\r\n            <div>Чек</div>\r\n        </div>\r\n        <div v-for=\"(row,i) in report.body\" :key=\"i\" class=\"table_r\">\r\n            <div>{{row.created_at}}</div>\r\n            <div>{{row.order_id}}</div>\r\n            <div>{{row.entry_text}}</div>\r\n            <div>{{row.entry_price}}</div>\r\n            <div>{{row.entry_quantity}}</div>\r\n            <div>{{row.entry_discount}}</div>\r\n            <div>{{row.entry_sum}}</div>\r\n            <div>{{row.fee}}</div>\r\n            <div>{{row.delivery}}</div>\r\n            <div>{{row.payment_type}}</div>\r\n            <div><a v-if=\"row.invoice_link\" :href=\"row.invoice_link\" target=\"_new\">онлайн чек</a></div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <ion-list v-else>\r\n    <ion-item>\r\n        Нет заказов в данном периоде\r\n    </ion-item>\r\n  </ion-list>\r\n</div>\r\n</template>\r\n<script>\r\nimport {\r\n  IonIcon,\r\n  IonLabel,\r\n  IonItem,\r\n  IonInput,\r\n  IonList,\r\n  IonAccordion,\r\n  IonAccordionGroup,\r\n  IonText,\r\n  IonSkeletonText,\r\n  IonSearchbar,\r\n  IonChip,\r\n}                             from \"@ionic/vue\";\r\nimport { \r\n  calendarOutline,\r\n  addOutline,\r\n  closeCircle,\r\n  pricetagOutline,\r\n  downloadOutline,\r\n  reloadOutline,\r\n  printOutline,\r\n}                             from \"ionicons/icons\";\r\nimport jquery                 from \"jquery\";\r\n\r\nexport default { \r\n  components: {\r\n    IonIcon,\r\n    IonLabel,\r\n    IonItem,\r\n    IonInput,\r\n    IonList,\r\n    IonAccordion,\r\n    IonAccordionGroup,\r\n    IonText,\r\n    IonSkeletonText,\r\n    IonSearchbar,\r\n    IonChip,\r\n  },\r\n  props:['store'],\r\n  setup(){\r\n    return {\r\n      calendarOutline,\r\n      addOutline,\r\n      closeCircle,\r\n      pricetagOutline,\r\n      downloadOutline,\r\n      reloadOutline,\r\n      printOutline,\r\n    }\r\n  },\r\n  data() {\r\n    const today = new Date();\r\n    const firstDay = new Date(Date.UTC(today.getFullYear(),today.getMonth(),1));\r\n    return {\r\n      start_at: firstDay.toISOString().slice(0, 10),\r\n      finish_at: today.toISOString().slice(0, 10),\r\n      searchQuery:'',\r\n\r\n      report:null,\r\n      today:today,\r\n    };\r\n  },\r\n  watch:{\r\n    store:function(){\r\n        this.reportGet()\r\n    }\r\n  },\r\n  methods: {\r\n    async reportGet() {\r\n        if(!this.store?.store_id){\r\n            this.report=null\r\n            this.head=null\r\n            return\r\n        }\r\n        try {\r\n            const request={\r\n                store_id:this.store?.store_id,\r\n                start_at:this.start_at,\r\n                finish_at:this.finish_at,\r\n                searchQuery:this.searchQuery\r\n            }\r\n            const response= await jquery.post(`${this.$heap.state.hostname}Statistics/sellReportProductGet`,request)\r\n            this.report=response\r\n        } catch (err) {\r\n            const exception_code = err?.responseJSON?.messages?.error;\r\n            switch (exception_code) {\r\n                case \"large_interval\":\r\n                this.$flash(\"Период должен быть не больше 3 месяцев\")\r\n                break;\r\n                default:\r\n                this.$flash(\"Ошибка получения выписки\")\r\n                break;\r\n            }\r\n            this.ledger=[]\r\n            this.balance=0\r\n            return false;\r\n        }\r\n    },\r\n    reportPrint(){\r\n        window.print()\r\n    },\r\n    async reportExport(){\r\n        if(!this.store?.store_id){\r\n            this.report=null\r\n            this.head=null\r\n            return\r\n        }\r\n        try {\r\n            const request={\r\n                store_id:this.store?.store_id,\r\n                start_at:this.start_at,\r\n                finish_at:this.finish_at,\r\n                searchQuery:this.searchQuery,\r\n                output:'xlsx'\r\n            }\r\n            const response= await jquery.post(`${this.$heap.state.hostname}Statistics/sellReportProductGet`,request)\r\n            const storeNameCleared=this.store.store_name.replace(/[^\\wа-яА-Яa-zA-Z]/gi,'')\r\n            const reportUrl=`${this.$heap.state.hostname}Statistics/download/${response}/sellReport_${storeNameCleared}_${this.start_at}.xlsx`\r\n            const anchor = document.createElement('a')\r\n            anchor.href =reportUrl\r\n            anchor.download='download'\r\n            anchor.click()\r\n        } catch (err) {\r\n            const exception_code = err?.responseJSON?.messages?.error;\r\n            switch (exception_code) {\r\n                case \"large_interval\":\r\n                    this.$flash(\"Период должен быть не больше 3 месяцев\")\r\n                    break;\r\n                default:\r\n                    this.$flash(\"Ошибка получения выписки\")\r\n                    console.log(err)\r\n                    break;\r\n            }\r\n            this.ledger=[]\r\n            this.balance=0\r\n            return false;\r\n        }\r\n\r\n    },\r\n    toLocDate( iso ){\r\n        const event = new Date(Date.parse(iso));\r\n        const options = { month: 'short', day: 'numeric' };\r\n\r\n        return event.toLocaleDateString(undefined, options);\r\n    },\r\n\r\n  },\r\n  mounted() {\r\n    this.reportGet()\r\n  },\r\n};\r\n</script>","import { render } from \"./StatisticsSellerReport.vue?vue&type=template&id=ccaff9d8&scoped=true\"\nimport script from \"./StatisticsSellerReport.vue?vue&type=script&lang=js\"\nexport * from \"./StatisticsSellerReport.vue?vue&type=script&lang=js\"\n\nimport \"./StatisticsSellerReport.vue?vue&type=style&index=0&id=ccaff9d8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ccaff9d8\"]])\n\nexport default __exports__"],"names":["_createBlock","_component_base_layout","pageDefaultBackLink","_createVNode","_component_ion_segment","$data","activeTab","$event","onIonInput","_cache","_ctx","listTypeChanged","_component_ion_segment_button","value","_createElementBlock","_hoisted_1","_component_ion_list","_component_ion_item","button","onClick","$options","reportSupplierBalanceExport","_component_ion_icon","slot","src","$setup","downloadOutline","_component_ion_label","_hoisted_2","itemCreate","addOutline","_component_ledger_comp","account","ledgerAccount","ref","_hoisted_3","pickedStore","storePick","color","storefrontOutline","store_name","_component_statistics_seller_report","store","components","LedgerComp","IonSegmentButton","IonSegment","IonList","IonItem","IonLabel","IonIcon","StatisticsSellerReport","setup","refreshOutline","data","computed","methods","this","$go","modal","modalController","create","component","ItemPicker","componentProps","itemType","initialBreakpoint","breakpoints","canDissmiss","present","$topic","on","dismiss","item","onDidDismiss","request","output","response","jquery","$heap","state","hostname","reportUrl","anchor","document","createElement","href","download","click","err","ionViewDidEnter","$refs","ledger","listGet","__exports__","render","style","class","_component_ion_accordion_group","_component_ion_accordion","icon","calendarOutline","_component_ion_text","_createElementVNode","_toDisplayString","start_at","finish_at","_component_ion_input","type","reportGet","_component_ion_chip","reportExport","reloadOutline","_component_ion_searchbar","searchQuery","placeholder","debounce","report","key","_Fragment","_renderList","i","_component_ion_skeleton_text","animated","body","length","_hoisted_4","_hoisted_5","head","total_quantity","total_discount","total_sum","total_commission","total_topay","_hoisted_6","row","created_at","order_id","entry_text","entry_price","entry_quantity","entry_discount","entry_sum","fee","delivery","payment_type","invoice_link","target","_hoisted_7","IonInput","IonAccordion","IonAccordionGroup","IonText","IonSkeletonText","IonSearchbar","IonChip","props","closeCircle","pricetagOutline","printOutline","today","Date","firstDay","UTC","getFullYear","getMonth","toISOString","slice","watch","_this$store","store_id","_this$store2","_err$responseJSON","_err$responseJSON$mes","exception_code","responseJSON","messages","error","$flash","balance","reportPrint","window","print","_this$store3","_this$store4","storeNameCleared","replace","_err$responseJSON2","_err$responseJSON2$me","console","log","toLocDate","iso","event","parse","options","month","day","toLocaleDateString","undefined","mounted"],"sourceRoot":""}