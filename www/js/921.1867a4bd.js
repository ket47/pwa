"use strict";(self["webpackChunktezkel"]=self["webpackChunktezkel"]||[]).push([[921],{2921:function(e,l,a){a.r(l),a.d(l,{default:function(){return b}});var t=a(6252),u=a(3577);const n=(0,t.Uk)("Название тарифа"),o=(0,t.Uk)("Название Сценария"),d=(0,t.Uk)("Market"),f=(0,t.Uk)("MarketPayment"),i=(0,t.Uk)("MarketPaymentDelivery"),m=(0,t.Uk)("Отключен"),r=(0,t.Uk)("Удалить"),s=(0,t.Uk)(" Настройки тарифа "),_=(0,t.Uk)("Разрешено"),p=(0,t.Uk)("Комиссия %"),c=(0,t.Uk)("Заказ"),w=(0,t.Uk)("Опл. картой"),W=(0,t.Uk)("Опл. наличными"),h=(0,t.Uk)("Доставка");function V(e,l,a,V,k,U){const y=(0,t.up)("ion-label"),I=(0,t.up)("ion-input"),g=(0,t.up)("ion-item"),v=(0,t.up)("ion-select-option"),$=(0,t.up)("ion-select"),b=(0,t.up)("ion-toggle"),C=(0,t.up)("ion-icon"),D=(0,t.up)("ion-item-divider"),S=(0,t.up)("ion-col"),M=(0,t.up)("ion-row"),O=(0,t.up)("ion-grid"),z=(0,t.up)("ion-list"),G=(0,t.up)("base-layout");return(0,t.wg)(),(0,t.j4)(G,{pageDefaultBackLink:"/user/","page-title":"Редактирование тарифа"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{onChange:l[20]||(l[20]=e=>U.itemUpdate())},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,{position:"floating"},{default:(0,t.w5)((()=>[n])),_:1}),(0,t.Wm)(I,{modelValue:k.tariff.tariff_name,"onUpdate:modelValue":l[0]||(l[0]=e=>k.tariff.tariff_name=e),placeholder:"название",color:"primary",style:{"font-size":"1.5em"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,{position:"floating"},{default:(0,t.w5)((()=>[o])),_:1}),(0,t.Wm)($,{modelValue:k.tariff.script_name,"onUpdate:modelValue":l[1]||(l[1]=e=>k.tariff.script_name=e),onIonDismiss:l[2]||(l[2]=e=>U.itemUpdate()),interface:"popover",placeholder:"Выберите сценарий"},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{value:"Market"},{default:(0,t.w5)((()=>[d])),_:1}),(0,t.Wm)(v,{value:"MarketPayment"},{default:(0,t.w5)((()=>[f])),_:1}),(0,t.Wm)(v,{value:"MarketPaymentDelivery"},{default:(0,t.w5)((()=>[i])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(g,{lines:"full"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[m])),_:1}),(0,t.Wm)(b,{modelValue:k.tariff.is_disabled,"onUpdate:modelValue":l[3]||(l[3]=e=>k.tariff.is_disabled=e),onClick:l[4]||(l[4]=e=>U.itemUpdate())},null,8,["modelValue"])])),_:1}),(0,t.Wm)(g,{lines:"full"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[r])),_:1}),(0,t.Wm)(C,{icon:V.trashOutline,color:"danger",onClick:l[5]||(l[5]=e=>U.itemDelete())},null,8,["icon"])])),_:1}),(0,t.Wm)(D,null,{default:(0,t.w5)((()=>[s])),_:1}),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[_])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[p])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Плата "+(0,u.zw)(e.$heap.state.currencySign),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[c])),_:1})])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:k.tariff.order_allow,"onUpdate:modelValue":l[6]||(l[6]=e=>k.tariff.order_allow=e),onClick:l[7]||(l[7]=e=>U.itemUpdate())},null,8,["modelValue"])])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(I,{modelValue:k.tariff.order_fee,"onUpdate:modelValue":l[8]||(l[8]=e=>k.tariff.order_fee=e),placeholder:"%"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(I,{modelValue:k.tariff.order_cost,"onUpdate:modelValue":l[9]||(l[9]=e=>k.tariff.order_cost=e),placeholder:e.$heap.state.currencySign},null,8,["modelValue","placeholder"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[w])),_:1})])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:k.tariff.card_allow,"onUpdate:modelValue":l[10]||(l[10]=e=>k.tariff.card_allow=e),onClick:l[11]||(l[11]=e=>U.itemUpdate())},null,8,["modelValue"])])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(I,{modelValue:k.tariff.card_fee,"onUpdate:modelValue":l[12]||(l[12]=e=>k.tariff.card_fee=e),placeholder:"%"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(S)])),_:1})])),_:1})])),_:1}),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[W])),_:1})])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:k.tariff.cash_allow,"onUpdate:modelValue":l[13]||(l[13]=e=>k.tariff.cash_allow=e),onClick:l[14]||(l[14]=e=>U.itemUpdate())},null,8,["modelValue"])])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(I,{modelValue:k.tariff.cash_fee,"onUpdate:modelValue":l[15]||(l[15]=e=>k.tariff.cash_fee=e),placeholder:"%"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(S)])),_:1})])),_:1})])),_:1}),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[h])),_:1})])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:k.tariff.delivery_allow,"onUpdate:modelValue":l[16]||(l[16]=e=>k.tariff.delivery_allow=e),onClick:l[17]||(l[17]=e=>U.itemUpdate())},null,8,["modelValue"])])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(I,{modelValue:k.tariff.delivery_fee,"onUpdate:modelValue":l[18]||(l[18]=e=>k.tariff.delivery_fee=e),placeholder:"%"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(I,{modelValue:k.tariff.delivery_cost,"onUpdate:modelValue":l[19]||(l[19]=e=>k.tariff.delivery_cost=e),placeholder:e.$heap.state.currencySign},null,8,["modelValue","placeholder"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}a(8862);var k=a(2066),U=a(8903),y=a(9755),I=a.n(y),g={components:{IonInput:k.pK,IonIcon:k.gu,IonList:k.q_,IonItem:k.Ie,IonToggle:k.ho,IonGrid:k.jY,IonRow:k.Nd,IonCol:k.wI,IonLabel:k.Q$,IonSelect:k.t9,IonSelectOption:k.n0,IonItemDivider:k.rH},setup(){return{trashOutline:U.gtu}},data(){return{tariffId:this.$route.params.id,tariff:{},updateallow:!1}},computed:{},methods:{async itemGet(){let e={tariff_id:this.tariffId};try{this.tariff=await I().post(`${this.$heap.state.hostname}Admin/Tariff/itemGet`,e)}catch(l){const e=l.responseJSON,a=e.messages.error;switch(a){case"forbidden":this.$flash("Не достаточно прав");break}return!1}},async itemUpdate(){let e=this.tariff;try{await I().post(`${this.$heap.state.hostname}Admin/Tariff/itemUpdate`,JSON.stringify(e)),this.$flash("сохранено")}catch(l){const e=l.responseJSON,a=e.messages.error;switch(a){case"forbidden":this.$flash("Не достаточно прав");break}return!1}},async itemDelete(){if(confirm("Вы уверенны?"))try{await I().post(`${this.$heap.state.hostname}Admin/Tariff/itemDelete`,{tariff_id:this.tariffId}),this.$router.go(-1)}catch{}}},mounted(){this.itemGet()}},v=a(3744);const $=(0,v.Z)(g,[["render",V]]);var b=$}}]);
//# sourceMappingURL=921.1867a4bd.js.map